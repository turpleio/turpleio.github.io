<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3">
<meta httpequiv="x-ua-compatible" content="ie=edge">
<meta property="og:type" content="website">
<meta name="author" content="turpleio">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link href="https://www.googletagmanager.com" rel="dns-prefetch">
<link href="https://www.google-analytics.com" rel="dns-prefetch">
<link rel="icon" href="/favicon.png">
<link rel="apple-touch-icon" href="/img/icons/apple-180x180.png" sizes="180x180">
<meta name="msapplication-config" content="/browserconfig.xml">
<link rel="sitemap" type="application/xml" href="/sitemap.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PVR7M2G"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-PVR7M2G",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Turple: Cloud Native Platform" href="/opensearch.xml">
<link rel="manifest" href="/manifest.webmanifest">
<meta name="theme-color" content="#d14671">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#21222c">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Turple: Cloud Native Platform Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Turple: Cloud Native Platform Blog Atom Feed"><title data-react-helmet="true">Invezo | Turple: Cloud Native Platform</title><meta data-react-helmet="true" property="og:image" content="https://turpleio.github.io/img/pages/case-study/invezo/banner.png"><meta data-react-helmet="true" property="og:url" content="https://turpleio.github.io/case-study/invezo//"><meta data-react-helmet="true" property="og:title" content="Invezo | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="twitter:image" content="https://turpleio.github.io/img/pages/case-study/invezo/banner.png"><meta data-react-helmet="true" name="description" content="QuestDB is the backbone behind analytical capabilities at Invezo, which aims to become Bloomberg for digital assets."><meta data-react-helmet="true" name="twitter:description" content="QuestDB is the backbone behind analytical capabilities at Invezo, which aims to become Bloomberg for digital assets."><meta data-react-helmet="true" property="og:description" content="QuestDB is the backbone behind analytical capabilities at Invezo, which aims to become Bloomberg for digital assets."><meta data-react-helmet="true" name="twitter:title" content="Invezo | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for &quot;Invezo | Turple: Cloud Native Platform&quot;"><link data-react-helmet="true" rel="canonical" href="https://turpleio.github.io/case-study/invezo//"><link rel="stylesheet" href="/assets/css/styles.4f6557e4.css">
</head>
<body itemscope itemtype="http://schema.org/Organization">
<meta itemprop="name" content="Turple: Cloud Native Platform">
<meta itemprop="description" content="Turple is a cloud native platform which can help you build and operate your services on cloud.">
<meta itemprop="url" content="https://turpleio.github.io">
<meta itemprop="logo" content="https://turpleio.github.io/img/favicon.png">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar_wBc8 navbar--light"><div class="navbar__inner inner_Y8Z6"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand brand_AtiA" href="/">QuestDB</a></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand brand_AtiA" href="/">QuestDB</a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="wrapper_DIJ0"><section class="section_bQ6r section--center_0sLU jumbotron_HfqO"><div class="jumbotron__summary_xFgo"><div class="jumbotron__header_jFoK"><a class="button_f7Ff button--plain_WPGr button--uppercase_ESEN" href="https://www.invezo.com/?utm_source=questdb" rel="noopener noreferrer" target="_blank"><img alt="Invezo logo" class="jumbotron__logo_tnHK" src="/img/logos/invezo.svg" width="125" height="22"></a><span class="jumbotron__name_sqqq">Case study</span></div><h1 class="section__title_W17F">Invezo</h1><p class="section__subtitle_V-qQ jumbotron__description_TXuA">QuestDB is the backbone behind analytical capabilities at Invezo, which aims to become Bloomberg for digital assets.</p></div><div class="jumbotron__banner_tdhL"><div class="root_Fj3M" style="margin-bottom:4rem"><img alt="QuestDB is the backbone behind analytical capabilities at Invezo, which aims to become Bloomberg for digital assets." class="img_nC75" src="/img/pages/case-study/invezo/banner.png" width="777" height="350"></div></div></section><section class="section_bQ6r section--odd_8zop"><div class="section--inner_6-fB outcome__wrapper_cQRP"><p class="outcome_u74F"><img alt="Briefcase icon" class="outcome__icon_ELXv" src="/img/pages/case-study/icons/briefcase.svg">Use case: Market data</p><p class="outcome_u74F"><img alt="Globe icon" class="outcome__icon_ELXv" src="/img/pages/case-study/icons/globe.svg">Industry: Fintech</p><p class="outcome_u74F"><img alt="Flag icon" class="outcome__icon_ELXv" src="/img/pages/case-study/icons/flag.svg">Deployment: QuestDB Cloud</p></div></section><section class="section_bQ6r"><div class="markdown section--inner_6-fB section--column_ZlID"><h3>The team</h3><p class="font-size--large"><a href="https://www.invezo.com/">Invezo</a> is a fast growing startup that aims to become the gold standard for digital assets analytics. Traditional companies in equity markets are assessed and valued based on established frameworks; their coverage from equity research companies is plentiful and all of this information is aggregated on platforms such as the Bloomberg Terminal. It&#x27;s a different situation for crypto assets, which is a brand new asset class. There is a lack of tools to analyze market price behavior and underlying valuations. Invezo pulls on-chain and off-chain metrics to understand the behavior of crypto assets to a much deeper level, while offering superior charting capabilities and also providing an API.</p><p class="font-size--large">Emmett Miller, co-founder and CEO, Invezo, tells us about his journey building his company using QuestDB Cloud.</p><h3>The need for a time-series database to deliver real-time analytics to end users</h3><p class="font-size--large">All of the data in the Invezo platform is time series. We track all of our metrics over time. There are plenty of metrics to track: cryptocurrency token price, GitHub commits, reddit subscribers, on-chain wallet transactions. This data is then exposed to the end user of the platform in real-time. The latency needs to be as low as possible to guarantee a good user experience. We want the dashboards to refresh live in milliseconds rather than seconds. This may seem a trivial thing to achieve but it is not: users zooming in and out of our dynamic charts are performing heavy operations for the underlying database to compute. New data also flows in real-time, requiring aggregations on the fly. Performant time-series databases are crucial to cope with the ingestion rate: we currently pull market data for hundreds of cryptocurrencies from more than nine different exchanges. We also need very fast querying capabilities to power our live dashboards and analytics.</p><div class="root_Fj3M" style="margin-bottom:4rem"><img alt="Example of live dashboards and analytics in real time. Each refresh is a SQL query for QuestDB." class="img_nC75" src="/img/pages/case-study/invezo/dashboard-1.png" width="1017" height="504"><p class="description_d83R">Example of live dashboards and analytics in real time. Each refresh is a SQL query for QuestDB.</p></div><h3>QuestDB deployment within the Invezo stack</h3><p class="font-size--large">We collect data from crypto exchanges APIs and build our main application in Python. We use the official QuestDB Python client library to send the data via the InfluxDB Line Protocol (&quot;ILP&quot;) over TCP. Each query is computed programmatically via PGWire using SQL and feeds real-time data, aggregations and downsampled data to plot out charts.</p><p class="font-size--large">QuestDB has built time-series specific syntax to make queries less verbose. For example, SAMPLE BY automatically downsamples the data for a given interval. An example of SQL query to compute the number of twitter mentions over time is the following:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, sum(value) </span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">FROM &#x27;twitter_mentions&#x27; </span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">WHERE symbol=&#x27;btc&#x27; AND ts &gt;= dateadd(&#x27;d&#x27;, 14, now) </span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 10m</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><div class="root_Fj3M" style="margin-bottom:4rem"><img alt="Example of live dashboards and analytics in real time. Each refresh is a SQL query for QuestDB." class="img_nC75" src="/img/pages/case-study/invezo/dashboard-2.png" width="1017" height="504"><p class="description_d83R">Example of live dashboards and analytics in real time. Each refresh is a SQL query for QuestDB.</p></div><p class="font-size--large">We started with AWS RD but the database was too slow for our use case as queries would take up to 6 minutes to come back. We then looked into MongoDB, which recently released time-series capabilities. Here again, slow ingestion and queries made our application unusable (see a comparison with QuestDB toward the end of the case study). In addition, we had a crack at InfluxDB but their query language &quot;Flux&quot; was a show stopper because it is unintuitive.</p><p class="font-size--large">Here is a comparison of the same query between MongoDB for time series and QuestDB:</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">MongoDB Query</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">def basicAggregation():</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    pipeline = [</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        {&quot;$match&quot;: {&quot;metadata.pair&quot;: &quot;btc-usdt&quot;, &quot;metadata.exchange&quot;: &quot;binance&quot;}},</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        {&quot;$sort&quot;: {&quot;time&quot;: -1}},</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        {&quot;$limit&quot;: 50000}</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    ]</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    results = col.aggregate(pipeline, hint=&quot;Main Index&quot;, allowDiskUse=True)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    values = []</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    for i in results:</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        values.append(i)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    return values</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">start = time.time()</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">basicAggregation()</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">print(time.time() - start)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p class="font-size--large">MongoDB query execution time: 5.4 seconds</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">QuestDB Query</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, first(open), max(high), min(low), last(close) </span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">FROM &#x27;ohlc_all&#x27; </span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">WHERE pair=&#x27;btc-usd&#x27; </span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 5m </span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">LIMIT 50000</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p class="font-size--large">QuestDB query execution time: 0.1 seconds</p><p class="font-size--large">We saw the light at the end of the tunnel when we found out about QuestDB. We liked it for its superior ingestion rates and the ability to query data on the fly. On top of the superior performance we are impressed by how vibrant the community is; we asked a few questions on the QuestDB Slack and got a response immediately. We love SQL and wanted to build the queries for our application with a familiar language.</p><div class="root_Fj3M" style="margin-bottom:4rem"><img alt="SAMPLE BY queries, which are on the fly" class="img_nC75" src="/img/pages/case-study/invezo/dashboard-3.gif" width="828" height="331"><p class="description_d83R">SAMPLE BY queries, which are on the fly</p></div><h3>QuestDB Cloud: why we chose the fully hosted solution</h3><p class="font-size--large">We initially deployed QuestDB open source via the AWS marketplace. With QuestDB open source, we do not have the luxury of web console authentication, although we knew that a workaround with setting NGINX as a proxy was possible. We also did not have the bandwidth nor internal resources to properly monitor and manage the instances. It made sense to us that the instances should be overseen by the QuestDB creators, who know the product inside out.</p><p class="font-size--large">By offloading the management and monitoring responsibilities to the QuestDB team, we gained precious hours to focus on our business. We also benefit from authentication for the web console, and scheduled snapshots without any downtime at the click of a button. The UI is intuitive and the team is shipping new features every week. I am excited about the upcoming cold storage integration with AWS S3, which should free a lot of space on our EBS volume.</p><div class="markdown section--inner_6-fB section--column_ZlID"><p class="card__title_RIuC"><span class="card__quote_PgLy">“</span>Our customers value a low-latency API, so speed is extremely important to us. With QuestDB, our ingestion rate is 5x faster and query execution time went from minutes to milliseconds<span class="card__quote_PgLy">”</span></p><p class="card__title_RIuC"><strong>Emmett Miller, Co-founder, Invezo</strong></p></div></div></section></div><footer class="root_JnvJ"><div class="content_-gfC center_S24y"><img alt="QuestDB logo" class="logo_JrwJ" src="/img/navbar/tp_brand.png" width="108" height="27"><div class="tagline_T1tH"><p>인프라관리부터 서비스운영까지 클라우드환경에 최적화된 클라우드 네이티브 플랫폼</p></div><div class="links_1SgP"></div></div><div class="border_PW0V"><div class="bottom_wPs3 center_S24y">Copyright © 2023 Gitple. All rights are reserved.</div></div></footer></div>
<script src="/assets/js/main.e53824dd.js" defer="defer"></script>
</body>
</html>