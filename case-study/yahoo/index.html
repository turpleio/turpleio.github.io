<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3">
<meta httpequiv="x-ua-compatible" content="ie=edge">
<meta property="og:type" content="website">
<meta name="author" content="turpleio">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link href="https://www.googletagmanager.com" rel="dns-prefetch">
<link href="https://www.google-analytics.com" rel="dns-prefetch">
<link rel="icon" href="/favicon.png">
<link rel="apple-touch-icon" href="/img/icons/apple-180x180.png" sizes="180x180">
<meta name="msapplication-config" content="/browserconfig.xml">
<link rel="sitemap" type="application/xml" href="/sitemap.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PVR7M2G"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-PVR7M2G",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Turple: Cloud Native Platform" href="/opensearch.xml">
<link rel="manifest" href="/manifest.webmanifest">
<meta name="theme-color" content="#d14671">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#21222c">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Turple: Cloud Native Platform Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Turple: Cloud Native Platform Blog Atom Feed"><title data-react-helmet="true">Yahoo use QuestDB for big data machine learning engines | Turple: Cloud Native Platform</title><meta data-react-helmet="true" property="og:image" content="https://turpleio.github.io/img/og.png"><meta data-react-helmet="true" property="og:url" content="https://turpleio.github.io/case-study/yahoo//"><meta data-react-helmet="true" property="og:title" content="Yahoo use QuestDB for big data machine learning engines | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="twitter:image" content="https://turpleio.github.io/img/og.png"><meta data-react-helmet="true" name="description" content="QuestDB is used as a time series database to store resource utilization metrics within a machine learning engine within systems serving over a billion users."><meta data-react-helmet="true" name="twitter:description" content="QuestDB is used as a time series database to store resource utilization metrics within a machine learning engine within systems serving over a billion users."><meta data-react-helmet="true" property="og:description" content="QuestDB is used as a time series database to store resource utilization metrics within a machine learning engine within systems serving over a billion users."><meta data-react-helmet="true" name="twitter:title" content="Yahoo use QuestDB for big data machine learning engines | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for &quot;Yahoo use QuestDB for big data machine learning engines | Turple: Cloud Native Platform&quot;"><link data-react-helmet="true" rel="canonical" href="https://turpleio.github.io/case-study/yahoo//"><link rel="stylesheet" href="/assets/css/styles.4f6557e4.css">
</head>
<body itemscope itemtype="http://schema.org/Organization">
<meta itemprop="name" content="Turple: Cloud Native Platform">
<meta itemprop="description" content="Turple is a cloud native platform which can help you build and operate your services on cloud.">
<meta itemprop="url" content="https://turpleio.github.io">
<meta itemprop="logo" content="https://turpleio.github.io/img/favicon.png">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar_wBc8 navbar--light"><div class="navbar__inner inner_Y8Z6"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand brand_AtiA" href="/">QuestDB</a></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand brand_AtiA" href="/">QuestDB</a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="wrapper_DIJ0"><section class="section_bQ6r section--center_0sLU jumbotron_HfqO"><div class="jumbotron__summary_xFgo"><div class="jumbotron__header_jFoK"><a class="button_f7Ff button--plain_WPGr button--uppercase_ESEN" href="https://yahoo.com/?utm_source=questdb" rel="noopener noreferrer" target="_blank"><img alt="Yahoo logo" class="jumbotron__logo_tnHK" height="45" src="/img/pages/customers/logos/yahoo.svg" width="100"></a><span class="jumbotron__name_sqqq">Case study</span></div><h1 class="section__title_W17F">QuestDB enables machine learning engines that power Yahoo search</h1><p class="section__subtitle_V-qQ jumbotron__description_TXuA">Yahoo use QuestDB in an embedded capacity within their machine learning engine deployed in systems that serve close to a billion users at a rate of 500k queries per second.</p></div><div class="jumbotron__banner_tdhL"><img alt="An advertisement for yahoo.com showing personalized search across multiple mobile devices" height="170" src="/img/pages/case-study/yahoo/header.jpg" width="1200"></div></section><section class="section_bQ6r section--odd_8zop"><div class="section--inner_6-fB outcome__wrapper_cQRP"><p class="outcome_u74F"><img alt="Dollar icon" class="outcome__icon_ELXv" src="/img/pages/case-study/icons/dollar.svg">No external monitoring solutions required for autoscaling decisions</p><p class="outcome_u74F"><img alt="Workflow icon" class="outcome__icon_ELXv" src="/img/pages/case-study/icons/workflow.svg">Native timeseries support within the ML engine in an embedded capacity</p><p class="outcome_u74F"><img alt="Leaf icon" class="outcome__icon_ELXv" src="/img/pages/case-study/icons/leaf.svg">Helps provide fault-tolerance at the software architecture layer</p><p class="outcome_u74F"><img alt="Gauge icon" class="outcome__icon_ELXv" src="/img/pages/case-study/icons/gauge.svg">Powering web-scale systems with hundreds of millions of monthly users</p><p class="outcome_u74F"><img alt="Voice icon" class="outcome__icon_ELXv" src="/img/pages/case-study/icons/voice.svg">Comprehensive documentation accelerated the integration</p><p class="outcome_u74F"><img alt="Time icon" class="outcome__icon_ELXv" src="/img/pages/case-study/icons/time.svg">High-performance solution for real-time resource monitoring</p></div></section><section class="section_bQ6r card_rtz1"><p class="card__title_RIuC">Yahoo’s media, technology, and business platform serves content to hundreds of millions of users per month. To power search and recommendation, Yahoo relies on a custom machine learning engine which serves personalized content in real-time. High-performance is critical at this scale because every extra millisecond a consumer has to wait matters.</p><p class="card__subtitle_Po0v">In this case study, VP Architect Jon Bratseth describes how and why QuestDB is relied upon within high-performance machine learning engines at Yahoo.</p></section><section class="section_bQ6r"><div class="markdown section--inner_6-fB section--column_ZlID"><h3>Why Yahoo uses QuestDB for our Vespa machine learning engine</h3><p class="font-size--large">Vespa is an open-source big data processing and serving engine powering applications at Yahoo. Many products, such as Yahoo News, Yahoo Sports, and Yahoo Finance, use this engine to store, search, organize, and make machine-learned inferences over big data at serving time.</p><p class="font-size--large">These platforms serve close to a billion users, and we needed an embedded solution that monitors resource utilization metrics in nodes within our application clusters. We decided to use QuestDB to store and analyze application monitoring metrics quickly and easily within the application itself, removing external failure modes and leaving plenty of headroom for performance.</p><h3>The scale and scope of our application monitoring needs</h3><p class="font-size--large">The Vespa platform performs machine-learned inferences over big data with high availability and high performance. The engine powers search, question answering for chatbots, recommendation and personalization, and typeahead suggestions for systems that serve close to a billion users at a rate of 500k queries per second. In these use cases, the engine needs to select a subset of data from a vast data corpus, evaluate machine-learned models over the selected data, organize and aggregate it, and return results in less than 100 milliseconds while the data corpus is continuously changing.</p><div class="root_Fj3M" style="margin-bottom:4rem"><img alt="Chart showing a continuous integration pipeline for Yahoo&#x27;s Vespa engine" class="img_nC75" src="/img/pages/case-study/yahoo/graphic.png" width="1000" height="433"></div><h3>How we capture and store application metrics in QuestDB</h3><p class="font-size--large">We’re running a large number of deployments on behalf of customers. Each consists of several clusters running on dedicated Docker containers. The clusters are controlled by a shared control plane mainly consisting of ’configuration server clusters’ where a single cluster runs per environment and region and handles application configuration.</p><p class="font-size--large">Autoscaling lets you adjust the hardware resources allocated to application clusters automatically depending on actual usage. You want your application to use as few resources as possible to minimize cost, but at the same time, you don’t want to run out of resources when traffic is high or you feed more data. We want clusters to maintain the optimal allocation required to handle the current load at any time.</p><div class="root_Fj3M" style="margin-bottom:4rem"><img alt="Chart showing resource utilization of nodes within Yahoo&#x27;s Vespa engine" class="img_nC75" src="/img/pages/case-study/yahoo/resource-utilization.png" width="791" height="433"></div><p class="font-size--large">We run QuestDB embedded in the admin and configuration clusters to store a few days of resource usage of the nodes. The data is sampled continuously for each cluster or node, and we query the resource utilization data to make scaling decisions based on that data. We use QuestDB to act on the usage patterns observed on the system in the recent past. When users deploy a new cluster (or application), defaults initially configure the minimal resources provided within a given range. When engineers enable autoscaling for a cluster, it will continue unchanged until autoscaling determines that a change is beneficial.</p><p class="font-size--large">Our ’ideal utilization’ considers that a node may be down or failing, that another region may be down, which can cause a doubling of traffic. We can also factor into the equation that we need headroom for maintenance operations and handling requests with low latency.</p><h3>Why QuestDB is a good database to use for fault-tolerance</h3><p class="font-size--large">We decided that metric collection should be embedded within nodes that manage the clusters. We embed QuestDB to avoid failure scenarios where some parts of the cluster work, but others don’t. Using a time series database within Yahoo’s recommendation engine helps include fault-tolerance measures within the engine’s architecture and allows engineers to make AI-driven decisions using customer data in real-time, at any scale.</p><div class="markdown section--inner_6-fB section--column_ZlID"><p class="card__title_RIuC"><span class="card__quote_PgLy">“</span>We use QuestDB to monitor metrics for autoscaling decisions within our ML engine that provides search, recommendation, and personalization via models and aggregations on continuously changing data.<span class="card__quote_PgLy">”</span></p><p class="card__title_RIuC"><b>Jon Bratseth, VP Architect at Yahoo</b></p></div></div></section></div><footer class="root_JnvJ"><div class="content_-gfC center_S24y"><img alt="QuestDB logo" class="logo_JrwJ" src="/img/navbar/tp_brand.png" width="108" height="27"><div class="tagline_T1tH"><p>인프라관리부터 서비스운영까지 클라우드환경에 최적화된 클라우드 네이티브 플랫폼</p></div><div class="links_1SgP"></div></div><div class="border_PW0V"><div class="bottom_wPs3 center_S24y">Copyright © 2023 Gitple. All rights are reserved.</div></div></footer></div>
<script src="/assets/js/main.202cfa5e.js" defer="defer"></script>
</body>
</html>