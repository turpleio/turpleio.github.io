"use strict";(self.webpackChunkquestdb_io=self.webpackChunkquestdb_io||[]).push([[5813],{3905:function(e,t,n){n.d(t,{Zo:function(){return u},kt:function(){return f}});var a=n(67294);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,i=function(e,t){if(null==e)return{};var n,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=a.createContext({}),c=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=c(e.components);return a.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var n=e.components,i=e.mdxType,r=e.originalType,s=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),d=c(n),f=i,h=d["".concat(s,".").concat(f)]||d[f]||p[f]||r;return n?a.createElement(h,o(o({ref:t},u),{},{components:n})):a.createElement(h,o({ref:t},u))}));function f(e,t){var n=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=n.length,o=new Array(r);o[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:i,o[1]=l;for(var c=2;c<r;c++)o[c]=n[c];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},14513:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},metadata:function(){return s},toc:function(){return c},default:function(){return p}});var a=n(83117),i=n(80102),r=(n(67294),n(3905)),o=["components"],l={title:"Launch the official QuestDB AMI via the AWS Marketplace",sidebar_label:"AWS Marketplace AMI",description:"This document describes how to launch the official AWS Marketplace AMI with QuestDB installed and how to access and secure the instance on Amazon Web Services"},s={unversionedId:"deployment/aws-official-ami",id:"deployment/aws-official-ami",isDocsHomePage:!1,title:"Launch the official QuestDB AMI via the AWS Marketplace",description:"This document describes how to launch the official AWS Marketplace AMI with QuestDB installed and how to access and secure the instance on Amazon Web Services",source:"@site/docs/deployment/aws-official-ami.md",sourceDirName:"deployment",slug:"/deployment/aws-official-ami",permalink:"/docs/deployment/aws-official-ami",editUrl:"https://github.com/turpleio/homepage/edit/main/docs/deployment/aws-official-ami.md",version:"current",sidebar_label:"AWS Marketplace AMI",frontMatter:{title:"Launch the official QuestDB AMI via the AWS Marketplace",sidebar_label:"AWS Marketplace AMI",description:"This document describes how to launch the official AWS Marketplace AMI with QuestDB installed and how to access and secure the instance on Amazon Web Services"},sidebar:"docs",previous:{title:"Optimizing ingestion with commit lag configuration",permalink:"/docs/guides/out-of-order-commit-lag"},next:{title:"Run QuestDB on Kubernetes",permalink:"/docs/deployment/kubernetes"}},c=[{value:"Prerequisites",id:"prerequisites",children:[]},{value:"Launching QuestDB on the AWS Marketplace",id:"launching-questdb-on-the-aws-marketplace",children:[]},{value:"QuestDB configuration",id:"questdb-configuration",children:[{value:"Postgres credentials",id:"postgres-credentials",children:[]},{value:"InfluxDB line protocol credentials",id:"influxdb-line-protocol-credentials",children:[]},{value:"Disabling authentication",id:"disabling-authentication",children:[]},{value:"Disabling interfaces",id:"disabling-interfaces",children:[]}]}],u={toc:c};function p(e){var t=e.components,n=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"AWS Marketplace is a digital catalog with software listings from independent\nsoftware vendors that runs on AWS. This guide describes how to launch QuestDB\nvia the AWS Marketplace using the official listing. This document also describes\nusage instructions after you have launched the instance, including hints for\nauthentication, the available interfaces, and tips for accessing the REST API\nand web console."),(0,r.kt)("h2",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"An ",(0,r.kt)("a",{parentName:"li",href:"https://console.aws.amazon.com"},"Amazon Web Services")," account")),(0,r.kt)("h2",{id:"launching-questdb-on-the-aws-marketplace"},"Launching QuestDB on the AWS Marketplace"),(0,r.kt)("p",null,"The QuestDB listing can be found in the AWS Marketplace under the databases\ncategory. To launch a QuestDB instance:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Navigate to the\n",(0,r.kt)("a",{parentName:"li",href:"https://aws.amazon.com/marketplace/search/results?searchTerms=questdb"},"QuestDB listing")),(0,r.kt)("li",{parentName:"ol"},"Click ",(0,r.kt)("strong",{parentName:"li"},"Continue to Subscribe")," and subscribe to the offering"),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("strong",{parentName:"li"},"Configure")," a version, an AWS region and click ",(0,r.kt)("strong",{parentName:"li"},"Continue to")," ",(0,r.kt)("strong",{parentName:"li"},"Launch")),(0,r.kt)("li",{parentName:"ol"},"Choose an instance type and network configuration and click ",(0,r.kt)("strong",{parentName:"li"},"Launch"))),(0,r.kt)("p",null,"An information panel displays the ID of the QuestDB instance with launch\nconfiguration details and hints for locating the instance in the EC2 console."),(0,r.kt)("h2",{id:"questdb-configuration"},"QuestDB configuration"),(0,r.kt)("p",null,"The server configuration file is at the following location on the AMI:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"/var/lib/questdb/conf/server.conf\n")),(0,r.kt)("p",null,"For details on the server properties and using this file, see the\n",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/configuration"},"server configuration documentation"),"."),(0,r.kt)("p",null,"The default ports used by QuestDB interfaces are as follows:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Web console ","&"," REST API is available on port ",(0,r.kt)("inlineCode",{parentName:"li"},"9000")),(0,r.kt)("li",{parentName:"ul"},"PostgreSQL wire protocol available on ",(0,r.kt)("inlineCode",{parentName:"li"},"8812")),(0,r.kt)("li",{parentName:"ul"},"InfluxDB line protocol ",(0,r.kt)("inlineCode",{parentName:"li"},"9009")," (TCP and UDP)"),(0,r.kt)("li",{parentName:"ul"},"Health monitoring ","&"," Prometheus ",(0,r.kt)("inlineCode",{parentName:"li"},"/metrics")," ",(0,r.kt)("inlineCode",{parentName:"li"},"9003"))),(0,r.kt)("h3",{id:"postgres-credentials"},"Postgres credentials"),(0,r.kt)("p",null,"Generated credentials can found in the server configuration file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"/var/lib/questdb/conf/server.conf\n")),(0,r.kt)("p",null,"The default Postgres username is ",(0,r.kt)("inlineCode",{parentName:"p"},"admin")," and a password is randomly generated\nduring startup:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"pg.user=admin\npg.password=...\n")),(0,r.kt)("h3",{id:"influxdb-line-protocol-credentials"},"InfluxDB line protocol credentials"),(0,r.kt)("p",null,"The credentials for InfluxDB line protocol can be found at"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},"/var/lib/questdb/conf/full_auth.json\n")),(0,r.kt)("p",null,"For details on authentication using this protocol, see the\n",(0,r.kt)("a",{parentName:"p",href:"/docs/reference/api/ilp/authenticate"},"InfluxDB line protocol authentication guide"),"."),(0,r.kt)("h3",{id:"disabling-authentication"},"Disabling authentication"),(0,r.kt)("p",null,"If you would like to disable authentication for Postgres wire protocol or\nInfluxDB line protocol, comment out the following lines in the server\nconfiguration file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini",metastring:'title="/var/lib/questdb/conf/server.conf"',title:'"/var/lib/questdb/conf/server.conf"'},"# pg.password=...\n\n# line.tcp.auth.db.path=conf/auth.txt\n")),(0,r.kt)("h3",{id:"disabling-interfaces"},"Disabling interfaces"),(0,r.kt)("p",null,"Interfaces may be ",(0,r.kt)("strong",{parentName:"p"},"disabled completely")," with the following configuration:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini",metastring:'title="/var/lib/questdb/conf/server.conf"',title:'"/var/lib/questdb/conf/server.conf"'},"# disable postgres\npg.enabled=false\n\n# disable InfluxDB line protocol over TCP and UDP\nline.tcp.enabled=false\nline.udp.enabled=false\n\n# disable HTTP (web console and REST API)\nhttp.enabled=false\n")),(0,r.kt)("p",null,"The HTTP interface may alternatively be set to ",(0,r.kt)("strong",{parentName:"p"},"readonly"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini",metastring:'title="/var/lib/questdb/conf/server.conf"',title:'"/var/lib/questdb/conf/server.conf"'},"# set HTTP interface to readonly\nhttp.security.readonly=true\n")))}p.isMDXComponent=!0}}]);