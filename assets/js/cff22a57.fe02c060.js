"use strict";(self.webpackChunkquestdb_io=self.webpackChunkquestdb_io||[]).push([[5955],{3905:function(e,I,g){g.d(I,{Zo:function(){return l},kt:function(){return d}});var t=g(67294);function n(e,I,g){return I in e?Object.defineProperty(e,I,{value:g,enumerable:!0,configurable:!0,writable:!0}):e[I]=g,e}function i(e,I){var g=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);I&&(t=t.filter((function(I){return Object.getOwnPropertyDescriptor(e,I).enumerable}))),g.push.apply(g,t)}return g}function C(e){for(var I=1;I<arguments.length;I++){var g=null!=arguments[I]?arguments[I]:{};I%2?i(Object(g),!0).forEach((function(I){n(e,I,g[I])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(g)):i(Object(g)).forEach((function(I){Object.defineProperty(e,I,Object.getOwnPropertyDescriptor(g,I))}))}return e}function A(e,I){if(null==e)return{};var g,t,n=function(e,I){if(null==e)return{};var g,t,n={},i=Object.keys(e);for(t=0;t<i.length;t++)g=i[t],I.indexOf(g)>=0||(n[g]=e[g]);return n}(e,I);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)g=i[t],I.indexOf(g)>=0||Object.prototype.propertyIsEnumerable.call(e,g)&&(n[g]=e[g])}return n}var a=t.createContext({}),o=function(e){var I=t.useContext(a),g=I;return e&&(g="function"==typeof e?e(I):C(C({},I),e)),g},l=function(e){var I=o(e.components);return t.createElement(a.Provider,{value:I},e.children)},r={inlineCode:"code",wrapper:function(e){var I=e.children;return t.createElement(t.Fragment,{},I)}},c=t.forwardRef((function(e,I){var g=e.components,n=e.mdxType,i=e.originalType,a=e.parentName,l=A(e,["components","mdxType","originalType","parentName"]),c=o(g),d=n,m=c["".concat(a,".").concat(d)]||c[d]||r[d]||i;return g?t.createElement(m,C(C({ref:I},l),{},{components:g})):t.createElement(m,C({ref:I},l))}));function d(e,I){var g=arguments,n=I&&I.mdxType;if("string"==typeof e||n){var i=g.length,C=new Array(i);C[0]=c;var A={};for(var a in I)hasOwnProperty.call(I,a)&&(A[a]=I[a]);A.originalType=e,A.mdxType="string"==typeof e?e:n,C[1]=A;for(var o=2;o<i;o++)C[o]=g[o];return t.createElement.apply(null,C)}return t.createElement.apply(null,g)}c.displayName="MDXCreateElement"},64005:function(e,I,g){g.r(I),g.d(I,{frontMatter:function(){return A},metadata:function(){return a},toc:function(){return o},default:function(){return r}});var t=g(83117),n=g(80102),i=(g(67294),g(3905)),C=["components"],A={title:"ALTER TABLE ADD COLUMN",sidebar_label:"ADD COLUMN",description:"ALTER TABLE ADD COLUMN SQL keyword reference documentation."},a={unversionedId:"reference/sql/alter-table-add-column",id:"reference/sql/alter-table-add-column",isDocsHomePage:!1,title:"ALTER TABLE ADD COLUMN",description:"ALTER TABLE ADD COLUMN SQL keyword reference documentation.",source:"@site/docs/reference/sql/alter-table-add-column.md",sourceDirName:"reference/sql",slug:"/reference/sql/alter-table-add-column",permalink:"/docs/reference/sql/alter-table-add-column",editUrl:"https://github.com/turpleio/homepage/edit/main/docs/reference/sql/alter-table-add-column.md",version:"current",sidebar_label:"ADD COLUMN",frontMatter:{title:"ALTER TABLE ADD COLUMN",sidebar_label:"ADD COLUMN",description:"ALTER TABLE ADD COLUMN SQL keyword reference documentation."},sidebar:"docs",previous:{title:"SQL execution order",permalink:"/docs/concept/sql-execution-order"},next:{title:"ALTER TABLE RENAME COLUMN",permalink:"/docs/reference/sql/alter-table-rename-column"}},o=[{value:"Syntax",id:"syntax",children:[]},{value:"Examples",id:"examples",children:[]}],l={toc:o};function r(e){var I=e.components,A=(0,n.Z)(e,C);return(0,i.kt)("wrapper",(0,t.Z)({},l,A,{components:I,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Adds a new column of a specified type to an existing table."),(0,i.kt)("p",null,"The new column is not back-populated even if the table contains data. While a\nsingle column is added atomically, adding multiple columns is not an atomic\noperation. QuestDB will stop adding the remaining columns on the list on the\nfirst failure. It is therefore possible to add some columns and not others."),(0,i.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("ul",{parentName:"div"},(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"New column names may only consist of letters, numbers and underscores ",(0,i.kt)("inlineCode",{parentName:"p"},"_"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Adding a new column does not lock the table for reading and does not wait on\nany reads to finish."))))),(0,i.kt)("h2",{id:"syntax"},"Syntax"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"Flow chart showing the syntax of the ALTER TABLE keyword",src:g(24118).Z}),"\n",(0,i.kt)("img",{alt:"Flow chart showing the syntax of ALTER TABLE with ADD COLUMN keyword",src:g(54670).Z})),(0,i.kt)("h2",{id:"examples"},"Examples"),(0,i.kt)("p",null,"Add a new column called ",(0,i.kt)("inlineCode",{parentName:"p"},"comment")," of type ",(0,i.kt)("inlineCode",{parentName:"p"},"STRING")," type to the table ",(0,i.kt)("inlineCode",{parentName:"p"},"ratings")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-questdb-sql",metastring:'title="New column"',title:'"New','column"':!0},"ALTER TABLE ratings ADD COLUMN comment STRING;\n")),(0,i.kt)("p",null,"When adding a column of ",(0,i.kt)("inlineCode",{parentName:"p"},"Symbol")," type, optional keywords may be passed which are\nunique to this type. These keywords are described in the\n",(0,i.kt)("a",{parentName:"p",href:"/docs/reference/sql/create-table#symbol"},"Symbol type")," section of the\n",(0,i.kt)("inlineCode",{parentName:"p"},"CREATE TABLE")," documentation."),(0,i.kt)("p",null,"The following example shows how to add a new ",(0,i.kt)("inlineCode",{parentName:"p"},"SYMBOL")," column with ",(0,i.kt)("inlineCode",{parentName:"p"},"NOCACHE")," and\n",(0,i.kt)("inlineCode",{parentName:"p"},"INDEX")," keywords:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-questdb-sql",metastring:'title="New symbol column"',title:'"New',symbol:!0,'column"':!0},"ALTER TABLE ratings ADD COLUMN comment SYMBOL NOCACHE INDEX;\n")))}r.isMDXComponent=!0},54670:function(e,I){I.Z="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NzkiIGhlaWdodD0iODEiPgogICAgPGRlZnM+CiAgICAgICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KICAgICAgICAgICAgQG5hbWVzcGFjZSAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciOwogICAgICAgICAgICAgICAgLmxpbmUgICAgICAgICAgICAgICAgIHtmaWxsOiBub25lOyBzdHJva2U6ICM2MzYyNzM7fQogICAgICAgICAgICAgICAgLmJvbGQtbGluZSAgICAgICAgICAgIHtzdHJva2U6ICM2MzYyNzM7IHNoYXBlLXJlbmRlcmluZzogY3Jpc3BFZGdlczsgc3Ryb2tlLXdpZHRoOiAyOyB9CiAgICAgICAgICAgICAgICAudGhpbi1saW5lICAgICAgICAgICAge3N0cm9rZTogIzYzNjI3Mzsgc2hhcGUtcmVuZGVyaW5nOiBjcmlzcEVkZ2VzfQogICAgICAgICAgICAgICAgLmZpbGxlZCAgICAgICAgICAgICAgIHtmaWxsOiAjNjM2MjczOyBzdHJva2U6IG5vbmU7fQogICAgICAgICAgICAgICAgdGV4dC50ZXJtaW5hbCAgICAgICAgIHtmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAiU2Vnb2UgVUkiLCBSb2JvdG8sIFVidW50dSwgQ2FudGFyZWxsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgICAgICBmaWxsOiAjZmZmZmZmOwogICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB0ZXh0Lm5vbnRlcm1pbmFsICAgICAge2ZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJTZWdvZSBVSSIsIFJvYm90bywgVWJ1bnR1LCBDYW50YXJlbGwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsKICAgICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgICAgICAgICAgIGZpbGw6ICNlMjg5YTQ7CiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogbm9ybWFsOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGV4dC5yZWdleHAgICAgICAgICAgIHtmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAiU2Vnb2UgVUkiLCBSb2JvdG8sIFVidW50dSwgQ2FudGFyZWxsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgICAgICBmaWxsOiAjMDAxNDFGOwogICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHJlY3QsIGNpcmNsZSwgcG9seWdvbiB7ZmlsbDogbm9uZTsgc3Ryb2tlOiBub25lO30KICAgICAgICAgICAgICAgIHJlY3QudGVybWluYWwgICAgICAgICB7ZmlsbDogbm9uZTsgc3Ryb2tlOiAjYmUyZjViO30KICAgICAgICAgICAgICAgIHJlY3Qubm9udGVybWluYWwgICAgICB7ZmlsbDogcmdiYSgyNTUsMjU1LDI1NSwwLjEpOyBzdHJva2U6IG5vbmU7fQogICAgICAgICAgICAgICAgcmVjdC50ZXh0ICAgICAgICAgICAgIHtmaWxsOiBub25lOyBzdHJva2U6IG5vbmU7fQogICAgICAgICAgICAgICAgcG9seWdvbi5yZWdleHAgICAgICAgIHtmaWxsOiAjQzdFQ0ZGOyBzdHJva2U6ICMwMzhjYmM7fQogICAgICAgIDwvc3R5bGU+CiAgICA8L2RlZnM+CiAgICA8cG9seWdvbiBwb2ludHM9IjkgNjEgMSA1NyAxIDY1Ii8+CiAgICAgICAgIDxwb2x5Z29uIHBvaW50cz0iMTcgNjEgOSA1NyA5IDY1Ii8+CiAgICAgICAgIDxyZWN0IHg9IjMxIiB5PSI0NyIgd2lkdGg9IjQ4IiBoZWlnaHQ9IjMyIiByeD0iMTAiLz4KICAgICAgICAgPHJlY3QgeD0iMjkiIHk9IjQ1IiB3aWR0aD0iNDgiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIi8+CiAgICAgICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iMzkiIHk9IjY1Ij5BREQ8L3RleHQ+CiAgICAgICAgIDxyZWN0IHg9Ijk5IiB5PSI0NyIgd2lkdGg9Ijc4IiBoZWlnaHQ9IjMyIiByeD0iMTAiLz4KICAgICAgICAgPHJlY3QgeD0iOTciIHk9IjQ1IiB3aWR0aD0iNzgiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIi8+CiAgICAgICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iMTA3IiB5PSI2NSI+Q09MVU1OPC90ZXh0PjxhIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bGluazpocmVmPSIjY29sdW1uTmFtZSIgeGxpbms6dGl0bGU9ImNvbHVtbk5hbWUiPgogICAgICAgICAgICA8cmVjdCB4PSIyMTciIHk9IjQ3IiB3aWR0aD0iMTAyIiBoZWlnaHQ9IjMyIi8+CiAgICAgICAgICAgIDxyZWN0IHg9IjIxNSIgeT0iNDUiIHdpZHRoPSIxMDIiIGhlaWdodD0iMzIiIGNsYXNzPSJub250ZXJtaW5hbCIvPgogICAgICAgICAgICA8dGV4dCBjbGFzcz0ibm9udGVybWluYWwiIHg9IjIyNSIgeT0iNjUiPmNvbHVtbk5hbWU8L3RleHQ+PC9hPjxhIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bGluazpocmVmPSIjdHlwZURlZiIgeGxpbms6dGl0bGU9InR5cGVEZWYiPgogICAgICAgICAgICA8cmVjdCB4PSIzMzkiIHk9IjQ3IiB3aWR0aD0iNzAiIGhlaWdodD0iMzIiLz4KICAgICAgICAgICAgPHJlY3QgeD0iMzM3IiB5PSI0NSIgd2lkdGg9IjcwIiBoZWlnaHQ9IjMyIiBjbGFzcz0ibm9udGVybWluYWwiLz4KICAgICAgICAgICAgPHRleHQgY2xhc3M9Im5vbnRlcm1pbmFsIiB4PSIzNDciIHk9IjY1Ij50eXBlRGVmPC90ZXh0PjwvYT48cmVjdCB4PSIyMTciIHk9IjMiIHdpZHRoPSIyNCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICAgICAgIDxyZWN0IHg9IjIxNSIgeT0iMSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCIvPgogICAgICAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjIyNSIgeT0iMjEiPiw8L3RleHQ+CiAgICAgICAgIDxzdmc6cGF0aCB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBjbGFzcz0ibGluZSIgZD0ibTE3IDYxIGgyIG0wIDAgaDEwIG00OCAwIGgxMCBtMCAwIGgxMCBtNzggMCBoMTAgbTIwIDAgaDEwIG0xMDIgMCBoMTAgbTAgMCBoMTAgbTcwIDAgaDEwIG0tMjMyIDAgbDIwIDAgbS0xIDAgcS05IDAgLTkgLTEwIGwwIC0yNCBxMCAtMTAgMTAgLTEwIG0yMTIgNDQgbDIwIDAgbS0yMCAwIHExMCAwIDEwIC0xMCBsMCAtMjQgcTAgLTEwIC0xMCAtMTAgbS0yMTIgMCBoMTAgbTI0IDAgaDEwIG0wIDAgaDE2OCBtMjMgNDQgaC0zIi8+CiAgICAgICAgIDxwb2x5Z29uIHBvaW50cz0iNDQ3IDYxIDQ1NSA1NyA0NTUgNjUiLz4KICAgICAgICAgPHBvbHlnb24gcG9pbnRzPSI0NDcgNjEgNDM5IDU3IDQzOSA2NSIvPjwvc3ZnPgo="}}]);