"use strict";(self.webpackChunkquestdb_io=self.webpackChunkquestdb_io||[]).push([[7292],{6322:function(e,a,t){t.r(a);var n=t(6010),s=t(7294),o=t(5789),i=t(5113),r=t(562),c=t(4942),l=t(415),m=t(9386),u=t(9178),d=t(4735);a.default=function(){return s.createElement(i.Z,{canonical:"/case-study/yahoo/",description:"QuestDB is used as a time series database to store resource utilization metrics within a machine learning engine within systems serving over a billion users.",title:"Yahoo use QuestDB for big data machine learning engines"},s.createElement("section",{className:(0,n.Z)(u.Z.section,u.Z["section--center"],l.Z.jumbotron)},s.createElement("div",{className:l.Z.jumbotron__summary},s.createElement("div",{className:l.Z.jumbotron__header},s.createElement(o.Z,{href:"https://yahoo.com/?utm_source=questdb",variant:"plain"},s.createElement("img",{alt:"Yahoo logo",className:l.Z.jumbotron__logo,height:45,src:d.U.yahoo.src,width:100})),s.createElement("span",{className:l.Z.jumbotron__name},"Case study")),s.createElement("h1",{className:u.Z.section__title},"QuestDB enables machine learning engines that power Yahoo search"),s.createElement("p",{className:(0,n.Z)(u.Z.section__subtitle,l.Z.jumbotron__description)},"Yahoo use QuestDB in an embedded capacity within their machine learning engine deployed in systems that serve close to a billion users at a rate of 500k queries per second.")),s.createElement("div",{className:l.Z.jumbotron__banner},s.createElement("img",{alt:"An advertisement for yahoo.com showing personalized search across multiple mobile devices",height:170,src:"/img/pages/case-study/yahoo/header.jpg",width:1200}))),s.createElement("section",{className:(0,n.Z)(u.Z.section,u.Z["section--odd"])},s.createElement("div",{className:(0,n.Z)(u.Z["section--inner"],m.Z.outcome__wrapper)},s.createElement("p",{className:m.Z.outcome},s.createElement("img",{alt:"Dollar icon",className:m.Z.outcome__icon,src:"/img/pages/case-study/icons/dollar.svg"}),"No external monitoring solutions required for autoscaling decisions"),s.createElement("p",{className:m.Z.outcome},s.createElement("img",{alt:"Workflow icon",className:m.Z.outcome__icon,src:"/img/pages/case-study/icons/workflow.svg"}),"Native timeseries support within the ML engine in an embedded capacity"),s.createElement("p",{className:m.Z.outcome},s.createElement("img",{alt:"Leaf icon",className:m.Z.outcome__icon,src:"/img/pages/case-study/icons/leaf.svg"}),"Helps provide fault-tolerance at the software architecture layer"),s.createElement("p",{className:m.Z.outcome},s.createElement("img",{alt:"Gauge icon",className:m.Z.outcome__icon,src:"/img/pages/case-study/icons/gauge.svg"}),"Powering web-scale systems with hundreds of millions of monthly users"),s.createElement("p",{className:m.Z.outcome},s.createElement("img",{alt:"Voice icon",className:m.Z.outcome__icon,src:"/img/pages/case-study/icons/voice.svg"}),"Comprehensive documentation accelerated the integration"),s.createElement("p",{className:m.Z.outcome},s.createElement("img",{alt:"Time icon",className:m.Z.outcome__icon,src:"/img/pages/case-study/icons/time.svg"}),"High-performance solution for real-time resource monitoring"))),s.createElement("section",{className:(0,n.Z)(u.Z.section,c.Z.card)},s.createElement("p",{className:c.Z.card__title},"Yahoo\u2019s media, technology, and business platform serves content to hundreds of millions of users per month. To power search and recommendation, Yahoo relies on a custom machine learning engine which serves personalized content in real-time. High-performance is critical at this scale because every extra millisecond a consumer has to wait matters."),s.createElement("p",{className:c.Z.card__subtitle},"In this case study, VP Architect Jon Bratseth describes how and why QuestDB is relied upon within high-performance machine learning engines at Yahoo.")),s.createElement("section",{className:u.Z.section},s.createElement("div",{className:(0,n.Z)("markdown",u.Z["section--inner"],u.Z["section--column"])},s.createElement("h3",null,"Why Yahoo uses QuestDB for our Vespa machine learning engine"),s.createElement("p",{className:"font-size--large"},"Vespa is an open-source big data processing and serving engine powering applications at Yahoo. Many products, such as Yahoo News, Yahoo Sports, and Yahoo Finance, use this engine to store, search, organize, and make machine-learned inferences over big data at serving time."),s.createElement("p",{className:"font-size--large"},"These platforms serve close to a billion users, and we needed an embedded solution that monitors resource utilization metrics in nodes within our application clusters. We decided to use QuestDB to store and analyze application monitoring metrics quickly and easily within the application itself, removing external failure modes and leaving plenty of headroom for performance."),s.createElement("h3",null,"The scale and scope of our application monitoring needs"),s.createElement("p",{className:"font-size--large"},"The Vespa platform performs machine-learned inferences over big data with high availability and high performance. The engine powers search, question answering for chatbots, recommendation and personalization, and typeahead suggestions for systems that serve close to a billion users at a rate of 500k queries per second. In these use cases, the engine needs to select a subset of data from a vast data corpus, evaluate machine-learned models over the selected data, organize and aggregate it, and return results in less than 100 milliseconds while the data corpus is continuously changing."),s.createElement(r.E,{alt:"Chart showing a continuous integration pipeline for Yahoo's Vespa engine",height:433,src:"/img/pages/case-study/yahoo/graphic.png",width:1e3}),s.createElement("h3",null,"How we capture and store application metrics in QuestDB"),s.createElement("p",{className:"font-size--large"},"We\u2019re running a large number of deployments on behalf of customers. Each consists of several clusters running on dedicated Docker containers. The clusters are controlled by a shared control plane mainly consisting of \u2019configuration server clusters\u2019 where a single cluster runs per environment and region and handles application configuration."),s.createElement("p",{className:"font-size--large"},"Autoscaling lets you adjust the hardware resources allocated to application clusters automatically depending on actual usage. You want your application to use as few resources as possible to minimize cost, but at the same time, you don\u2019t want to run out of resources when traffic is high or you feed more data. We want clusters to maintain the optimal allocation required to handle the current load at any time."),s.createElement(r.E,{alt:"Chart showing resource utilization of nodes within Yahoo's Vespa engine",height:433,src:"/img/pages/case-study/yahoo/resource-utilization.png",width:791}),s.createElement("p",{className:"font-size--large"},"We run QuestDB embedded in the admin and configuration clusters to store a few days of resource usage of the nodes. The data is sampled continuously for each cluster or node, and we query the resource utilization data to make scaling decisions based on that data. We use QuestDB to act on the usage patterns observed on the system in the recent past. When users deploy a new cluster (or application), defaults initially configure the minimal resources provided within a given range. When engineers enable autoscaling for a cluster, it will continue unchanged until autoscaling determines that a change is beneficial."),s.createElement("p",{className:"font-size--large"},"Our \u2019ideal utilization\u2019 considers that a node may be down or failing, that another region may be down, which can cause a doubling of traffic. We can also factor into the equation that we need headroom for maintenance operations and handling requests with low latency."),s.createElement("h3",null,"Why QuestDB is a good database to use for fault-tolerance"),s.createElement("p",{className:"font-size--large"},"We decided that metric collection should be embedded within nodes that manage the clusters. We embed QuestDB to avoid failure scenarios where some parts of the cluster work, but others don\u2019t. Using a time series database within Yahoo\u2019s recommendation engine helps include fault-tolerance measures within the engine\u2019s architecture and allows engineers to make AI-driven decisions using customer data in real-time, at any scale."),s.createElement("div",{className:(0,n.Z)("markdown",u.Z["section--inner"],u.Z["section--column"])},s.createElement("p",{className:c.Z.card__title},s.createElement("span",{className:c.Z.card__quote},"\u201c"),"We use QuestDB to monitor metrics for autoscaling decisions within our ML engine that provides search, recommendation, and personalization via models and aggregations on continuously changing data.",s.createElement("span",{className:c.Z.card__quote},"\u201d")),s.createElement("p",{className:c.Z.card__title},s.createElement("b",null,"Jon Bratseth, VP Architect at Yahoo"))))))}}}]);