"use strict";(self.webpackChunkquestdb_io=self.webpackChunkquestdb_io||[]).push([[6577],{3905:function(e,t,n){n.d(t,{Zo:function(){return d},kt:function(){return p}});var a=n(7294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),u=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=u(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},m=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),m=u(n),p=r,g=m["".concat(s,".").concat(p)]||m[p]||c[p]||o;return n?a.createElement(g,i(i({ref:t},d),{},{components:n})):a.createElement(g,i({ref:t},d))}));function p(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=m;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var u=2;u<o;u++)i[u]=n[u];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},2849:function(e,t,n){n.r(t),n.d(t,{frontMatter:function(){return l},metadata:function(){return s},toc:function(){return u},default:function(){return c}});var a=n(3117),r=n(102),o=(n(7294),n(3905)),i=["components"],l={title:"Row generator",sidebar_label:"Row generator",description:"Row generator function reference documentation."},s={unversionedId:"reference/function/row-generator",id:"reference/function/row-generator",isDocsHomePage:!1,title:"Row generator",description:"Row generator function reference documentation.",source:"@site/docs/reference/function/row-generator.md",sourceDirName:"reference/function",slug:"/reference/function/row-generator",permalink:"/docs/reference/function/row-generator",editUrl:"https://github.com/turpleio/homepage/edit/main/docs/reference/function/row-generator.md",version:"current",sidebar_label:"Row generator",frontMatter:{title:"Row generator",sidebar_label:"Row generator",description:"Row generator function reference documentation."},sidebar:"docs",previous:{title:"Random value generator",permalink:"/docs/reference/function/random-value-generator"},next:{title:"Geospatial functions",permalink:"/docs/reference/function/spatial"}},u=[{value:"long_sequence",id:"long_sequence",children:[{value:"Row generation",id:"row-generation",children:[]},{value:"Random number seed",id:"random-number-seed",children:[]}]}],d={toc:u};function c(e){var t=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"long_sequence()")," function may be used as a row generator to create table\ndata for testing. Basic usage of this function involves providing the number of\niterations required. Deterministic pseudo-random behavior can be achieved by\nproviding seed values when calling the function."),(0,o.kt)("p",null,"This function is commonly used in combination with\n",(0,o.kt)("a",{parentName:"p",href:"/docs/reference/function/random-value-generator"},"random generator functions"),"\nto produce mock data."),(0,o.kt)("h2",{id:"long_sequence"},"long_sequence"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"long_sequence(iterations)")," - generates rows"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"long_sequence(iterations, seed1, seed2)")," - generates rows deterministically")),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Arguments:")),(0,o.kt)("p",null,"-",(0,o.kt)("inlineCode",{parentName:"p"},"iterations"),": is a ",(0,o.kt)("inlineCode",{parentName:"p"},"long")," representing the number of rows to generate. -",(0,o.kt)("inlineCode",{parentName:"p"},"seed1"),"\nand ",(0,o.kt)("inlineCode",{parentName:"p"},"seed2")," are ",(0,o.kt)("inlineCode",{parentName:"p"},"long64")," representing both parts of a ",(0,o.kt)("inlineCode",{parentName:"p"},"long128")," seed."),(0,o.kt)("h3",{id:"row-generation"},"Row generation"),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"long_sequence()")," function can be used to generate very large datasets for\ntesting e.g. billions of rows."),(0,o.kt)("p",null,(0,o.kt)("inlineCode",{parentName:"p"},"long_sequence(iterations)")," is used to:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Generate a number of rows defined by ",(0,o.kt)("inlineCode",{parentName:"li"},"iterations"),"."),(0,o.kt)("li",{parentName:"ul"},"Generate a column ",(0,o.kt)("inlineCode",{parentName:"li"},"x:long")," of monotonically increasing long integers starting\nfrom 1, which can be accessed for queries.")),(0,o.kt)("h3",{id:"random-number-seed"},"Random number seed"),(0,o.kt)("p",null,"When ",(0,o.kt)("inlineCode",{parentName:"p"},"long_sequence")," is used conjointly with\n",(0,o.kt)("a",{parentName:"p",href:"/docs/reference/function/random-value-generator"},"random generators"),", these\nvalues are usually generated at random. The function supports a seed to be\npassed in order to produce deterministic results."),(0,o.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Deterministic procedural generation makes it easy to test on vasts amounts of\ndata without actually moving large files around across machines. Using the same\nseed on any machine at any time will consistently produce the same results for\nall random functions."))),(0,o.kt)("p",null,(0,o.kt)("strong",{parentName:"p"},"Examples:")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-questdb-sql",metastring:'title="Generating multiple rows"',title:'"Generating',multiple:!0,'rows"':!0},"SELECT x, rnd_double()\nFROM long_sequence(5);\n")),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"x"),(0,o.kt)("th",{parentName:"tr",align:null},"rnd_double"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"1"),(0,o.kt)("td",{parentName:"tr",align:null},"0.3279246687")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"2"),(0,o.kt)("td",{parentName:"tr",align:null},"0.8341038236")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"3"),(0,o.kt)("td",{parentName:"tr",align:null},"0.1023834675")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"4"),(0,o.kt)("td",{parentName:"tr",align:null},"0.9130602021")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"5"),(0,o.kt)("td",{parentName:"tr",align:null},"0.718276777")))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-questdb-sql",metastring:'title="Accessing row_number using the x column"',title:'"Accessing',row_number:!0,using:!0,the:!0,x:!0,'column"':!0},"SELECT x, x*x\nFROM long_sequence(5);\n")),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"x"),(0,o.kt)("th",{parentName:"tr",align:null},"x","*","x"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"1"),(0,o.kt)("td",{parentName:"tr",align:null},"1")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"2"),(0,o.kt)("td",{parentName:"tr",align:null},"4")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"3"),(0,o.kt)("td",{parentName:"tr",align:null},"9")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"4"),(0,o.kt)("td",{parentName:"tr",align:null},"16")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"5"),(0,o.kt)("td",{parentName:"tr",align:null},"25")))),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-questdb-sql",metastring:'title="Using with a seed"',title:'"Using',with:!0,a:!0,'seed"':!0},"SELECT rnd_double()\nFROM long_sequence(2,128349234,4327897);\n")),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"The results below will be the same on any machine at any time as long as they\nuse the same seed in long_sequence."))),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"rnd_double"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"0.8251337821991485")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},"0.2714941145110299")))))}c.isMDXComponent=!0}}]);