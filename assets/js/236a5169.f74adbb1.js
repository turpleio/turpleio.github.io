"use strict";(self.webpackChunkquestdb_io=self.webpackChunkquestdb_io||[]).push([[21],{3905:function(e,t,a){a.d(t,{Zo:function(){return s},kt:function(){return c}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),m=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=m(e.components);return n.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),u=m(a),c=r,k=u["".concat(p,".").concat(c)]||u[c]||d[c]||l;return a?n.createElement(k,i(i({ref:t},s),{},{components:a})):n.createElement(k,i({ref:t},s))}));function c(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=u;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var m=2;m<l;m++)i[m]=a[m];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},6727:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return o},metadata:function(){return p},toc:function(){return m},default:function(){return d}});var n=a(3117),r=a(102),l=(a(7294),a(3905)),i=["components"],o={title:"COPY keyword",sidebar_label:"COPY",description:"COPY SQL keyword reference documentation."},p={unversionedId:"reference/sql/copy",id:"reference/sql/copy",isDocsHomePage:!1,title:"COPY keyword",description:"COPY SQL keyword reference documentation.",source:"@site/docs/reference/sql/copy.md",sourceDirName:"reference/sql",slug:"/reference/sql/copy",permalink:"/docs/reference/sql/copy",editUrl:"https://github.com/turpleio/homepage/edit/main/docs/reference/sql/copy.md",version:"current",sidebar_label:"COPY",frontMatter:{title:"COPY keyword",sidebar_label:"COPY",description:"COPY SQL keyword reference documentation."},sidebar:"docs",previous:{title:"CAST keyword",permalink:"/docs/reference/sql/cast"},next:{title:"CREATE TABLE reference",permalink:"/docs/reference/sql/create-table"}},m=[{value:"Syntax",id:"syntax",children:[]},{value:"Description",id:"description",children:[{value:"Root directory",id:"root-directory",children:[]},{value:"Log table",id:"log-table",children:[]}]},{value:"Options",id:"options",children:[]},{value:"Examples",id:"examples",children:[]}],s={toc:m};function d(e){var t=e.components,o=(0,r.Z)(e,i);return(0,l.kt)("wrapper",(0,n.Z)({},s,o,{components:t,mdxType:"MDXLayout"}),(0,l.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"For partitioned tables, the best ",(0,l.kt)("inlineCode",{parentName:"p"},"COPY")," performance can be achieved only on a\nmachine with a local, physically attached SSD. It is possible to use a network\nblock storage, such as an AWS EBS volume to perform the operation, with the\nfollowing impact:"),(0,l.kt)("ul",{parentName:"div"},(0,l.kt)("li",{parentName:"ul"},"Users need to configure the maximum IOPS and throughput setting values for the\nvolume."),(0,l.kt)("li",{parentName:"ul"},"The required import time is likely to be 5-10x longer.")))),(0,l.kt)("h2",{id:"syntax"},"Syntax"),(0,l.kt)("p",null,(0,l.kt)("img",{alt:"Flow chart showing the syntax of the COPY keyword",src:a(7943).Z})),(0,l.kt)("h2",{id:"description"},"Description"),(0,l.kt)("p",null,"Copies tables from a delimited text file saved in the defined root directory\ninto QuestDB. ",(0,l.kt)("inlineCode",{parentName:"p"},"COPY")," has the following import modes:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Parallel import, used for copying partitioned tables:"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"The parallel level is based on partition granularity. It is important to\nchoose the timestamp column and partition type correctly for the data to be\nimported. The higher the granularity of the partitions, the faster an import\noperation can be completed."),(0,l.kt)("li",{parentName:"ul"},"If the target table exists and is partitioned, the target table must be\nempty."),(0,l.kt)("li",{parentName:"ul"},"If the target table does not exist, both ",(0,l.kt)("inlineCode",{parentName:"li"},"TIMESTAMP")," and ",(0,l.kt)("inlineCode",{parentName:"li"},"PARTITION BY"),"\noptions must be defined to create a partitioned table. The ",(0,l.kt)("inlineCode",{parentName:"li"},"PARTITION BY"),"\nvalue should not be ",(0,l.kt)("inlineCode",{parentName:"li"},"NONE"),"."),(0,l.kt)("li",{parentName:"ul"},"When table does exist and is not empty, import is not supported."))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Serial import, used for copying non-partitioned tables:"),(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"If the target table exists and is not partitioned, the data is appended\nprovided the file structure matches the table."),(0,l.kt)("li",{parentName:"ul"},"If the target table does not exist, then it is created using metadata\nderived from the file data.")))),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},(0,l.kt)("inlineCode",{parentName:"p"},"COPY")," takes up all the available resources. While one import is running, new\nrequest(s) will be rejected."))),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"COPY '<id>' CANCEL")," cancels the copying operation defined by the import ",(0,l.kt)("inlineCode",{parentName:"p"},"id"),",\nwhile an import is taking place."),(0,l.kt)("h3",{id:"root-directory"},"Root directory"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"COPY")," requires a defined root directory where CSV files are saved and copied\nfrom. A CSV file must be saved to the root directory before starting the ",(0,l.kt)("inlineCode",{parentName:"p"},"COPY"),"\noperation. There are two root directories to be defined:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"cairo.sql.copy.root")," is used for storing regular files to be imported."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"cairo.sql.copy.work.root")," is used for storing temporary files like indexes or\ntemporary partitions. Unless otherwise specified, it points to the\n",(0,l.kt)("inlineCode",{parentName:"li"},"root_directory/tmp")," directory.")),(0,l.kt)("p",null,"Use the ",(0,l.kt)("a",{parentName:"p",href:"/docs/reference/configuration"},"configuration keys")," to edit these\nproperties in\n",(0,l.kt)("a",{parentName:"p",href:"/docs/reference/configuration#bulk-csv-import"},(0,l.kt)("inlineCode",{parentName:"a"},"COPY")," configuration settings"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="Example"',title:'"Example"'},"cairo.sql.copy.root=/Users/UserName/Desktop\n")),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"cairo.sql.copy.root")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"cairo.sql.copy.work.root")," can be on a local disk to\nthe server, on a remote disk, or a remote filesystem. QuestDB enforces that the\ntables are only written from files located in a directory relative to the\ndirectories. This is a security feature preventing random file access by\nQuestDB."),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"For Mac OS users, using a directory under ",(0,l.kt)("inlineCode",{parentName:"p"},"/Users")," may prevent import due to\npermission problem. It is preferable to save the CSV file in a folder outside of\nthe ",(0,l.kt)("inlineCode",{parentName:"p"},"/Users")," tree and set the root directory accordingly."))),(0,l.kt)("h3",{id:"log-table"},"Log table"),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"COPY")," generates a log table,",(0,l.kt)("inlineCode",{parentName:"p"},"sys.text_import_log"),", tracking ",(0,l.kt)("inlineCode",{parentName:"p"},"COPY")," operation\nfor the last three days with the following information:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Column name"),(0,l.kt)("th",{parentName:"tr",align:null},"Data type"),(0,l.kt)("th",{parentName:"tr",align:null},"Notes"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"ts"),(0,l.kt)("td",{parentName:"tr",align:null},"timestamp"),(0,l.kt)("td",{parentName:"tr",align:null},"The log event timestamp")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"id"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"Import id")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"table"),(0,l.kt)("td",{parentName:"tr",align:null},"symbol"),(0,l.kt)("td",{parentName:"tr",align:null},"Destination table name")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"file"),(0,l.kt)("td",{parentName:"tr",align:null},"symbol"),(0,l.kt)("td",{parentName:"tr",align:null},"The source csv file")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"phase"),(0,l.kt)("td",{parentName:"tr",align:null},"symbol"),(0,l.kt)("td",{parentName:"tr",align:null},"Import phase.","*"," Available only in intermediate log records of parallel import")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"status"),(0,l.kt)("td",{parentName:"tr",align:null},"symbol"),(0,l.kt)("td",{parentName:"tr",align:null},"The event status: started, finished, failed, cancelled")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"message"),(0,l.kt)("td",{parentName:"tr",align:null},"string"),(0,l.kt)("td",{parentName:"tr",align:null},"The error message for when status is failed")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"rows_handled"),(0,l.kt)("td",{parentName:"tr",align:null},"long"),(0,l.kt)("td",{parentName:"tr",align:null},"The counters for the total number of scanned lines in the file")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"The counters are shown in the final log row for the given import")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"rows_imported"),(0,l.kt)("td",{parentName:"tr",align:null},"long"),(0,l.kt)("td",{parentName:"tr",align:null},"The counters for the total number of imported rows")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"The counters are shown in the final log row for the given import")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"errors"),(0,l.kt)("td",{parentName:"tr",align:null},"long"),(0,l.kt)("td",{parentName:"tr",align:null},"The number of errors for the given phase")))),(0,l.kt)("p",null,"*"," Available phases for parallel import are:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"setup"),(0,l.kt)("li",{parentName:"ul"},"boundary_check"),(0,l.kt)("li",{parentName:"ul"},"indexing"),(0,l.kt)("li",{parentName:"ul"},"partition_import"),(0,l.kt)("li",{parentName:"ul"},"symbol_table_merge"),(0,l.kt)("li",{parentName:"ul"},"update_symbol_keys"),(0,l.kt)("li",{parentName:"ul"},"build_symbol_index"),(0,l.kt)("li",{parentName:"ul"},"move_partitions"),(0,l.kt)("li",{parentName:"ul"},"attach_partitions"),(0,l.kt)("li",{parentName:"ul"},"analyze_file_structure"),(0,l.kt)("li",{parentName:"ul"},"cleanup")),(0,l.kt)("p",null,"Log table row retention is configurable through\n",(0,l.kt)("inlineCode",{parentName:"p"},"cairo.sql.copy.log.retention.days")," setting, and is three days by default."),(0,l.kt)("p",null,(0,l.kt)("inlineCode",{parentName:"p"},"COPY")," returns ",(0,l.kt)("inlineCode",{parentName:"p"},"id")," value from ",(0,l.kt)("inlineCode",{parentName:"p"},"sys.text_import_log")," to track the import\nprogress."),(0,l.kt)("h2",{id:"options"},"Options"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"HEADER true/false"),": When ",(0,l.kt)("inlineCode",{parentName:"li"},"true"),", QuestDB automatically assumes the first row\nis a header. Otherwise, schema recognition is used to determine whether the\nfirst row is used as header. The default setting is ",(0,l.kt)("inlineCode",{parentName:"li"},"false"),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"TIMESTAMP"),": Define the name of the timestamp column in the file to be\nimported."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"FORMAT"),": Timestamp column format when the format is not the default\n(",(0,l.kt)("inlineCode",{parentName:"li"},"yyyy-MM-ddTHH:mm:ss.SSSUUUZ"),") or cannot be detected. See\n",(0,l.kt)("a",{parentName:"li",href:"/docs/reference/function/date-time/#date-and-timestamp-format"},"Date and Timestamp format"),"\nfor more information."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"DELIMITER"),": Default setting is ",(0,l.kt)("inlineCode",{parentName:"li"},","),"."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"PARTITION BY"),": Partition unit."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ON ERROR"),": Define responses to data parsing errors. The valid values are:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"SKIP_ROW"),": Skip the entire row"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"SKIP_COLUMN"),": Skip column and use the default value (",(0,l.kt)("inlineCode",{parentName:"li"},"null")," for nullable\ntypes, ",(0,l.kt)("inlineCode",{parentName:"li"},"false")," for boolean, ",(0,l.kt)("inlineCode",{parentName:"li"},"0")," for other non-nullable types)"),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"ABORT"),": Abort whole import on first error, and restore the pre-import table\nstatus")))),(0,l.kt)("h2",{id:"examples"},"Examples"),(0,l.kt)("p",null,"For more details on parallel import, please also see\n",(0,l.kt)("a",{parentName:"p",href:"/docs/guides/importing-data/"},"Importing data in bulk via CSV"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-questdb-sql",metastring:'title="COPY"',title:'"COPY"'},"COPY weather FROM 'weather.csv' WITH HEADER true FORMAT 'yyyy-MM-ddTHH:mm:ss.SSSUUUZ' ON ERROR SKIP_ROW;\n")),(0,l.kt)("p",null,"Starts an import asynchronously and returns an import id string:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"id"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"55ca24e5ba328050")))),(0,l.kt)("p",null,"The log can be accessed by querying:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-questdb-sql"},"SELECT * FROM 'sys.text_import_log' WHERE id = '55ca24e5ba328050';\n")),(0,l.kt)("p",null,"A sample log table:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"ts"),(0,l.kt)("th",{parentName:"tr",align:null},"id"),(0,l.kt)("th",{parentName:"tr",align:null},"table"),(0,l.kt)("th",{parentName:"tr",align:null},"file"),(0,l.kt)("th",{parentName:"tr",align:null},"phase"),(0,l.kt)("th",{parentName:"tr",align:null},"status"),(0,l.kt)("th",{parentName:"tr",align:null},"message"),(0,l.kt)("th",{parentName:"tr",align:null},"rows_handled"),(0,l.kt)("th",{parentName:"tr",align:null},"rows_imported"),(0,l.kt)("th",{parentName:"tr",align:null},"errors"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"2022-08-03T10:40:25.586455Z"),(0,l.kt)("td",{parentName:"tr",align:null},"55ca24e5ba328050"),(0,l.kt)("td",{parentName:"tr",align:null},"weather"),(0,l.kt)("td",{parentName:"tr",align:null},"weather.csv"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"started"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"0")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null})))),(0,l.kt)("p",null,"While it is running, import can be cancelled with:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-questdb-sql"},"COPY '55ca24e5ba328050' CANCEL;\n")),(0,l.kt)("p",null,"Within a few seconds import should stop and message with 'cancelled' status\nshould appear in text_import_log, e.g.:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-questdb-sql"},"SELECT * FROM 'sys.text_import_log' WHERE id = '55ca24e5ba328050' LIMIT -1;\n")),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"ts"),(0,l.kt)("th",{parentName:"tr",align:null},"id"),(0,l.kt)("th",{parentName:"tr",align:null},"table"),(0,l.kt)("th",{parentName:"tr",align:null},"file"),(0,l.kt)("th",{parentName:"tr",align:null},"phase"),(0,l.kt)("th",{parentName:"tr",align:null},"status"),(0,l.kt)("th",{parentName:"tr",align:null},"message"),(0,l.kt)("th",{parentName:"tr",align:null},"rows_handled"),(0,l.kt)("th",{parentName:"tr",align:null},"rows_imported"),(0,l.kt)("th",{parentName:"tr",align:null},"errors"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"2022-08-03T14:04:42.268502Z"),(0,l.kt)("td",{parentName:"tr",align:null},"55ca24e5ba328050"),(0,l.kt)("td",{parentName:"tr",align:null},"weather"),(0,l.kt)("td",{parentName:"tr",align:null},"weather.csv"),(0,l.kt)("td",{parentName:"tr",align:null},"null"),(0,l.kt)("td",{parentName:"tr",align:null},"cancelled"),(0,l.kt)("td",{parentName:"tr",align:null},"import cancelled ","[phase=partition_import, msg=",(0,l.kt)("inlineCode",{parentName:"td"},"Cancelled"),"]"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"0")))))}d.isMDXComponent=!0},7943:function(e,t,a){t.Z=a.p+"assets/images/copy-5c8053df96e548f4b0532d5c505057ae.svg"}}]);