"use strict";(self.webpackChunkquestdb_io=self.webpackChunkquestdb_io||[]).push([[9825],{3905:function(t,e,a){a.d(e,{Zo:function(){return m},kt:function(){return c}});var n=a(7294);function r(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function l(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?l(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function o(t,e){if(null==t)return{};var a,n,r=function(t,e){if(null==t)return{};var a,n,r={},l=Object.keys(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||(r[a]=t[a]);return r}(t,e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(n=0;n<l.length;n++)a=l[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(r[a]=t[a])}return r}var d=n.createContext({}),p=function(t){var e=n.useContext(d),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},m=function(t){var e=p(t.components);return n.createElement(d.Provider,{value:e},t.children)},s={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},u=n.forwardRef((function(t,e){var a=t.components,r=t.mdxType,l=t.originalType,d=t.parentName,m=o(t,["components","mdxType","originalType","parentName"]),u=p(a),c=r,k=u["".concat(d,".").concat(c)]||u[c]||s[c]||l;return a?n.createElement(k,i(i({ref:e},m),{},{components:a})):n.createElement(k,i({ref:e},m))}));function c(t,e){var a=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var l=a.length,i=new Array(l);i[0]=u;var o={};for(var d in e)hasOwnProperty.call(e,d)&&(o[d]=e[d]);o.originalType=t,o.mdxType="string"==typeof t?t:r,i[1]=o;for(var p=2;p<l;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},8423:function(t,e,a){a.r(e),a.d(e,{frontMatter:function(){return o},metadata:function(){return d},toc:function(){return p},default:function(){return s}});var n=a(3117),r=a(102),l=(a(7294),a(3905)),i=["components"],o={title:"Configuration",description:"Server configuration keys reference documentation."},d={unversionedId:"reference/configuration",id:"reference/configuration",isDocsHomePage:!1,title:"Configuration",description:"Server configuration keys reference documentation.",source:"@site/docs/reference/configuration.md",sourceDirName:"reference",slug:"/reference/configuration",permalink:"/docs/reference/configuration",editUrl:"https://github.com/turpleio/homepage/edit/main/docs/reference/configuration.md",version:"current",frontMatter:{title:"Configuration",description:"Server configuration keys reference documentation."},sidebar:"docs",previous:{title:"Command-line options",permalink:"/docs/reference/command-line-options"},next:{title:"Clients overview",permalink:"/docs/reference/clients/overview"}},p=[{value:"Environment variables",id:"environment-variables",children:[{value:"Examples",id:"examples",children:[]}]},{value:"Docker",id:"docker",children:[{value:"Environment variables",id:"environment-variables-1",children:[]},{value:"Mounting a volume",id:"mounting-a-volume",children:[]}]},{value:"Keys and default values",id:"keys-and-default-values",children:[{value:"Shared worker",id:"shared-worker",children:[]},{value:"Minimal HTTP server",id:"minimal-http-server",children:[]},{value:"HTTP server",id:"http-server",children:[]},{value:"Cairo engine",id:"cairo-engine",children:[]},{value:"CSV import",id:"csv-import",children:[]},{value:"Parallel SQL execution",id:"parallel-sql-execution",children:[]},{value:"Postgres wire protocol",id:"postgres-wire-protocol",children:[]},{value:"InfluxDB line protocol",id:"influxdb-line-protocol",children:[]},{value:"Config Validation",id:"config-validation",children:[]},{value:"Telemetry",id:"telemetry",children:[]}]},{value:"Logging",id:"logging",children:[{value:"Configuration file",id:"configuration-file",children:[]},{value:"Environment variables",id:"environment-variables-2",children:[]},{value:"Configuring Docker logging",id:"configuring-docker-logging",children:[]},{value:"Prometheus Alertmanager",id:"prometheus-alertmanager",children:[]},{value:"Debug",id:"debug",children:[]}]}],m={toc:p};function s(t){var e=t.components,a=(0,r.Z)(t,i);return(0,l.kt)("wrapper",(0,n.Z)({},m,a,{components:e,mdxType:"MDXLayout"}),(0,l.kt)("p",null,"This page describes methods for configuring QuestDB server settings.\nConfiguration can be set either:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"In the ",(0,l.kt)("inlineCode",{parentName:"li"},"server.conf")," configuration file available in the\n",(0,l.kt)("a",{parentName:"li",href:"/docs/concept/root-directory-structure"},"root directory")),(0,l.kt)("li",{parentName:"ul"},"Using environment variables")),(0,l.kt)("p",null,"When a key is absent from both the configuration file and the environment\nvariables, the default value is used. Configuration of logging is handled\nseparately and details of configuring this behavior can be found at the\n",(0,l.kt)("a",{parentName:"p",href:"#logging"},"logging section")," below."),(0,l.kt)("h2",{id:"environment-variables"},"Environment variables"),(0,l.kt)("p",null,"All settings in the configuration file can be set or overridden using\nenvironment variables. If a key is set in both the ",(0,l.kt)("inlineCode",{parentName:"p"},"server.conf")," file and via an\nenvironment variable, the environment variable will take precedence and the\nvalue in the server configuration file will be ignored."),(0,l.kt)("p",null,"To make these configuration settings available to QuestDB via environment\nvariables, they must be in the following format:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},"QDB_<KEY_OF_THE_PROPERTY>\n")),(0,l.kt)("p",null,"Where ",(0,l.kt)("inlineCode",{parentName:"p"},"<KEY_OF_THE_PROPERTY>")," is equal to the configuration key name. To\nproperly format a ",(0,l.kt)("inlineCode",{parentName:"p"},"server.conf")," key as an environment variable it must have:"),(0,l.kt)("ol",null,(0,l.kt)("li",{parentName:"ol"},(0,l.kt)("inlineCode",{parentName:"li"},"QDB_")," prefix"),(0,l.kt)("li",{parentName:"ol"},"uppercase characters"),(0,l.kt)("li",{parentName:"ol"},"all ",(0,l.kt)("inlineCode",{parentName:"li"},".")," period characters replaced with ",(0,l.kt)("inlineCode",{parentName:"li"},"_")," underscore")),(0,l.kt)("p",null,"For example, the server configuration key for shared workers must be passed as\ndescribed below:"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"th"},"server.conf")," key"),(0,l.kt)("th",{parentName:"tr",align:null},"env var"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"shared.worker.count")),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("inlineCode",{parentName:"td"},"QDB_SHARED_WORKER_COUNT"))))),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"QuestDB applies these configuration changes on startup and a running instance\nmust be restarted in order for configuration changes to take effect"))),(0,l.kt)("h3",{id:"examples"},"Examples"),(0,l.kt)("p",null,"The following configuration property customizes the number of worker threads\nshared across the application:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="conf/server.conf"',title:'"conf/server.conf"'},"shared.worker.count=5\n")),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="Customizing the worker count via environment variable"',title:'"Customizing',the:!0,worker:!0,count:!0,via:!0,environment:!0,'variable"':!0},"export QDB_SHARED_WORKER_COUNT=5\n")),(0,l.kt)("h2",{id:"docker"},"Docker"),(0,l.kt)("p",null,"This section describes how to configure QuestDB server settings when running\nQuestDB in a Docker container. A command to run QuestDB via Docker with default\ninterfaces is as follows:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="Example of running docker container with built-in storage"',title:'"Example',of:!0,running:!0,docker:!0,container:!0,with:!0,"built-in":!0,'storage"':!0},"docker run -p 9000:9000 \\\n -p 9009:9009 \\\n -p 8812:8812 \\\n -p 9003:9003 \\\n questdb/questdb\n")),(0,l.kt)("p",null,"This publishes the following ports:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-p 9000:9000")," - ",(0,l.kt)("a",{parentName:"li",href:"/docs/reference/api/rest"},"REST API")," and\n",(0,l.kt)("a",{parentName:"li",href:"/docs/develop/web-console"},"Web Console")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-p 9009:9009")," - ",(0,l.kt)("a",{parentName:"li",href:"/docs/reference/api/ilp/overview"},"InfluxDB line protocol")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-p 8812:8812")," - ",(0,l.kt)("a",{parentName:"li",href:"/docs/reference/api/postgres"},"Postgres wire protocol")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-p 9003:9003")," -\n",(0,l.kt)("a",{parentName:"li",href:"#minimal-http-server"},"Min health server and Prometheus metrics"))),(0,l.kt)("p",null,"The examples in this section change the default HTTP and REST API port from\n",(0,l.kt)("inlineCode",{parentName:"p"},"9000")," to ",(0,l.kt)("inlineCode",{parentName:"p"},"4000")," for illustrative purposes, and demonstrate how to publish this\nport with a non-default property."),(0,l.kt)("h3",{id:"environment-variables-1"},"Environment variables"),(0,l.kt)("p",null,"Server configuration can be passed to QuestDB running in Docker by using the\n",(0,l.kt)("inlineCode",{parentName:"p"},"-e")," flag to pass an environment variable to a container:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"docker run -p 4000:4000 -e QDB_HTTP_BIND_TO=0.0.0.0:4000 questdb/questdb\n")),(0,l.kt)("h3",{id:"mounting-a-volume"},"Mounting a volume"),(0,l.kt)("p",null,"A server configuration file can be provided by mounting a local directory in a\nQuestDB container. Given the following configuration file which overrides the\ndefault HTTP bind property:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="./server.conf"',title:'"./server.conf"'},"http.bind.to=0.0.0.0:4000\n")),(0,l.kt)("p",null,"Running the container with the ",(0,l.kt)("inlineCode",{parentName:"p"},"-v")," flag allows for mounting the current\ndirectory to QuestDB's ",(0,l.kt)("inlineCode",{parentName:"p"},"conf")," directory in the container. With the server\nconfiguration above, HTTP ports for the web console and REST API will be\navailable on ",(0,l.kt)("inlineCode",{parentName:"p"},"localhost:4000"),":"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'docker run -v "$(pwd):/var/lib/questdb/conf" -p 4000:4000 questdb/questdb\n')),(0,l.kt)("p",null,"To mount the full root directory of QuestDB when running in a Docker container,\nprovide a the configuration in a ",(0,l.kt)("inlineCode",{parentName:"p"},"conf")," directory:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="./conf/server.conf"',title:'"./conf/server.conf"'},"http.bind.to=0.0.0.0:4000\n")),(0,l.kt)("p",null,"Mount the current directory using the ",(0,l.kt)("inlineCode",{parentName:"p"},"-v")," flag:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},'docker run -v "$(pwd):/var/lib/questdb/" -p 4000:4000 questdb/questdb\n')),(0,l.kt)("p",null,"The current directory will then have data persisted to disk:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash",metastring:'title="Current directory contents"',title:'"Current',directory:!0,'contents"':!0},"\u251c\u2500\u2500 conf\n\u2502  \u2514\u2500\u2500 server.conf\n\u251c\u2500\u2500 db\n\u2514\u2500\u2500 public\n")),(0,l.kt)("h2",{id:"keys-and-default-values"},"Keys and default values"),(0,l.kt)("p",null,"This section lists the configuration keys available to QuestDB by topic or\nsubsystem. Parameters for specifying buffer and memory page sizes are provided\nin the format ",(0,l.kt)("inlineCode",{parentName:"p"},"n<unit>"),", where ",(0,l.kt)("inlineCode",{parentName:"p"},"<unit>")," can be one of the following:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"m")," for ",(0,l.kt)("strong",{parentName:"li"},"MB")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"k")," for ",(0,l.kt)("strong",{parentName:"li"},"kB"))),(0,l.kt)("p",null,"For example:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ini",metastring:'title="Setting maximum send buffer size to 2MB per TCP socket"',title:'"Setting',maximum:!0,send:!0,buffer:!0,size:!0,to:!0,"2MB":!0,per:!0,TCP:!0,'socket"':!0},"http.net.connection.sndbuf=2m\n")),(0,l.kt)("h3",{id:"shared-worker"},"Shared worker"),(0,l.kt)("p",null,"Shared worker threads service SQL execution subsystems and (in the default\nconfiguration) every other subsystem."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"shared.worker.count"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Number of worker threads shared across the application. Increasing this number will increase parallelism in the application at the expense of CPU resources.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"shared.worker.affinity"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Comma-delimited list of CPU ids, one per thread specified in ",(0,l.kt)("inlineCode",{parentName:"td"},"shared.worker.count"),". By default, threads have no CPU affinity.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"shared.worker.haltOnError"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"Toggle whether worker should stop on error.")))),(0,l.kt)("h3",{id:"minimal-http-server"},"Minimal HTTP server"),(0,l.kt)("p",null,"This server runs embedded in a QuestDB instance by default and enables health\nchecks of an instance via HTTP. It responds to all requests with a HTTP status\ncode of ",(0,l.kt)("inlineCode",{parentName:"p"},"200")," unless the QuestDB process dies."),(0,l.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"Port ",(0,l.kt)("inlineCode",{parentName:"p"},"9003")," also provides a ",(0,l.kt)("inlineCode",{parentName:"p"},"/metrics")," endpoint with Prometheus metrics exposed.\nExamples of how to use the min server and Prometheus endpoint can be found on\nthe ",(0,l.kt)("a",{parentName:"p",href:"/docs/operations/health-monitoring"},"health monitoring page"),"."))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.min.enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable or disable Minimal HTTP server.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.min.bind.to"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0.0.0:9003"),(0,l.kt)("td",{parentName:"tr",align:null},"IPv4 address and port of the server. ",(0,l.kt)("inlineCode",{parentName:"td"},"0")," means it will bind to all network interfaces, otherwise the IP address must be one of the existing network adapters.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.min.net.connection.limit"),(0,l.kt)("td",{parentName:"tr",align:null},"4"),(0,l.kt)("td",{parentName:"tr",align:null},"Active connection limit.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.min.net.connection.timeout"),(0,l.kt)("td",{parentName:"tr",align:null},"300000"),(0,l.kt)("td",{parentName:"tr",align:null},"Idle connection timeout is milliseconds.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.min.net.connection.hint"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"Windows specific flag to overcome OS limitations on TCP backlog size.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.min.worker.count"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"By default, minimal HTTP server uses shared thread pool for CPU core count 16 and below. It will use dedicated thread for core count above 16. When ",(0,l.kt)("inlineCode",{parentName:"td"},"0"),", the server will use the shared pool. Do not set pool size to more than ",(0,l.kt)("inlineCode",{parentName:"td"},"1"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.min.worker.affinity"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Core number to pin thread to.")))),(0,l.kt)("h3",{id:"http-server"},"HTTP server"),(0,l.kt)("p",null,"This section describes configuration settings for the Web Console available by\ndefault on port ",(0,l.kt)("inlineCode",{parentName:"p"},"9000"),". For details on the use of this component, refer to the\n",(0,l.kt)("a",{parentName:"p",href:"/docs/develop/web-console"},"web console documentation")," page."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable or disable HTTP server.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.bind.to"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0.0.0:9000"),(0,l.kt)("td",{parentName:"tr",align:null},"IP address and port of HTTP server. A value of ",(0,l.kt)("inlineCode",{parentName:"td"},"0")," means that the HTTP server will bind to all network interfaces. You can specify IP address of any individual network interface on your system.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.net.connection.limit"),(0,l.kt)("td",{parentName:"tr",align:null},"64"),(0,l.kt)("td",{parentName:"tr",align:null},"The maximum number permitted for simultaneous TCP connection to the HTTP server. The rationale of the value is to control server memory consumption.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.net.connection.timeout"),(0,l.kt)("td",{parentName:"tr",align:null},"300000"),(0,l.kt)("td",{parentName:"tr",align:null},"TCP connection idle timeout in milliseconds. Connection is closed by HTTP server when this timeout lapses.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.net.connection.sndbuf"),(0,l.kt)("td",{parentName:"tr",align:null},"2M"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum send buffer size on each TCP socket. If this value is ",(0,l.kt)("inlineCode",{parentName:"td"},"-1"),", the socket send buffer size remains unchanged from the OS defaults.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.net.connection.rcvbuf"),(0,l.kt)("td",{parentName:"tr",align:null},"2M"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum receive buffer size on each TCP socket. If this value is ",(0,l.kt)("inlineCode",{parentName:"td"},"-1"),", the socket receive buffer size remains unchanged from the OS defaults.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.net.connection.hint"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"Windows specific flag to overcome OS limitations on TCP backlog size")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.connection.pool.initial.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"4"),(0,l.kt)("td",{parentName:"tr",align:null},"Initial size of pool of reusable objects that hold connection state. The pool should be configured to maximum realistic load so that it does not resize at runtime.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.connection.string.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"128"),(0,l.kt)("td",{parentName:"tr",align:null},"Initial size of the string pool shared by the HTTP header and multipart content parsers.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.multipart.header.buffer.size"),(0,l.kt)("td",{parentName:"tr",align:null},"512"),(0,l.kt)("td",{parentName:"tr",align:null},"Buffer size in bytes used by the HTTP multipart content parser.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.multipart.idle.spin.count"),(0,l.kt)("td",{parentName:"tr",align:null},"10000"),(0,l.kt)("td",{parentName:"tr",align:null},"How long the code accumulates incoming data chunks for column and delimiter analysis.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.receive.buffer.size"),(0,l.kt)("td",{parentName:"tr",align:null},"1M"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of receive buffer.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.request.header.buffer.size"),(0,l.kt)("td",{parentName:"tr",align:null},"64K"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of internal buffer allocated for HTTP request headers. The value is rounded up to the nearest power of 2. When HTTP requests contain headers that exceed the buffer size server will disconnect the client with HTTP error in server log.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.response.header.buffer.size"),(0,l.kt)("td",{parentName:"tr",align:null},"32K"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of the internal response buffer. The value will be rounded up to the nearest power of 2. The buffer size should be large enough to accommodate max size of server response headers.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.worker.count"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of threads in private worker pool. When ",(0,l.kt)("inlineCode",{parentName:"td"},"0"),", HTTP server will be using shared worker pool of the server. Values above ",(0,l.kt)("inlineCode",{parentName:"td"},"0")," switch on private pool.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.worker.affinity"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Comma separated list of CPU core indexes. The number of items in this list must be equal to the worker count.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.worker.haltOnError"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"Changing the default value is strongly discouraged"),". Flag that indicates if worker thread must shutdown on unhandled error.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.send.buffer.size"),(0,l.kt)("td",{parentName:"tr",align:null},"2M"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of the internal send buffer. Larger buffer sizes result in fewer I/O interruptions the server is making at the expense of memory usage per connection. There is a limit of send buffer size after which increasing it stops being useful in terms of performance. 2MB seems to be optimal value.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.static.index.file.name"),(0,l.kt)("td",{parentName:"tr",align:null},"index.html"),(0,l.kt)("td",{parentName:"tr",align:null},"Name of index file for the Web Console.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.frozen.clock"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"Sets the clock to always return zero. This configuration parameter is used for internal testing.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.allow.deflate.before.send"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"Flag that indicates if Gzip compression of outgoing data is allowed.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.keep-alive.timeout"),(0,l.kt)("td",{parentName:"tr",align:null},"5"),(0,l.kt)("td",{parentName:"tr",align:null},"Used together with ",(0,l.kt)("inlineCode",{parentName:"td"},"http.keep-alive.max")," to set the value of HTTP ",(0,l.kt)("inlineCode",{parentName:"td"},"Keep-Alive")," response header. This instructs browser to keep TCP connection open. Has to be ",(0,l.kt)("inlineCode",{parentName:"td"},"0")," when ",(0,l.kt)("inlineCode",{parentName:"td"},"http.version")," is set to ",(0,l.kt)("inlineCode",{parentName:"td"},"HTTP/1.0"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.keep-alive.max"),(0,l.kt)("td",{parentName:"tr",align:null},"10000"),(0,l.kt)("td",{parentName:"tr",align:null},"See ",(0,l.kt)("inlineCode",{parentName:"td"},"http.keep-alive.timeout"),". Has to be ",(0,l.kt)("inlineCode",{parentName:"td"},"0")," when ",(0,l.kt)("inlineCode",{parentName:"td"},"http.version")," is set to ",(0,l.kt)("inlineCode",{parentName:"td"},"HTTP/1.0"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.static.public.directory"),(0,l.kt)("td",{parentName:"tr",align:null},"public"),(0,l.kt)("td",{parentName:"tr",align:null},"The name of directory for public web site.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.text.date.adapter.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"16"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of date adapter pool. This should be set to the anticipated maximum number of ",(0,l.kt)("inlineCode",{parentName:"td"},"DATE")," fields a text input can have. The pool is assigned to connection state and is reused alongside of connection state object.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.text.json.cache.limit"),(0,l.kt)("td",{parentName:"tr",align:null},"16384"),(0,l.kt)("td",{parentName:"tr",align:null},"JSON parser cache limit. Cache is used to compose JSON elements that have been broken up by TCP protocol. This value limits the maximum length of individual tag or tag value.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.text.json.cache.size"),(0,l.kt)("td",{parentName:"tr",align:null},"8192"),(0,l.kt)("td",{parentName:"tr",align:null},"Initial size of JSON parser cache. The value must not exceed ",(0,l.kt)("inlineCode",{parentName:"td"},"http.text.json.cache.limit")," and should be set to avoid cache resizes at runtime.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.text.max.required.delimiter.stddev"),(0,l.kt)("td",{parentName:"tr",align:null},"0.1222d"),(0,l.kt)("td",{parentName:"tr",align:null},"The maximum standard deviation value for the algorithm that calculates text file delimiter. Usually when text parser cannot recognise the delimiter it will log the calculated and maximum standard deviation for the delimiter candidate.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.text.max.required.line.length.stddev"),(0,l.kt)("td",{parentName:"tr",align:null},"0.8"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum standard deviation value for the algorithm that classifies input as text or binary. For the values above configured stddev input will be considered binary.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.text.metadata.string.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"128"),(0,l.kt)("td",{parentName:"tr",align:null},"The initial size of pool for objects that wrap individual elements of metadata JSON, such as column names, date pattern strings and locale values.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.text.roll.buffer.limit"),(0,l.kt)("td",{parentName:"tr",align:null},"4M"),(0,l.kt)("td",{parentName:"tr",align:null},"The limit of text roll buffer. See ",(0,l.kt)("inlineCode",{parentName:"td"},"http.text.roll.buffer.size")," for description.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.text.roll.buffer.size"),(0,l.kt)("td",{parentName:"tr",align:null},"1024"),(0,l.kt)("td",{parentName:"tr",align:null},"Roll buffer is a structure in the text parser that holds a copy of a line that has been broken up by TCP. The size should be set to the maximum length of text line in text input.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.text.analysis.max.lines"),(0,l.kt)("td",{parentName:"tr",align:null},"1000"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of lines to read on CSV import for heuristics which determine column names & types. Lower line numbers may detect CSV schemas quicker, but possibly with less accuracy. 1000 lines is the maximum for this value.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.text.lexer.string.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"64"),(0,l.kt)("td",{parentName:"tr",align:null},"The initial capacity of string fool, which wraps ",(0,l.kt)("inlineCode",{parentName:"td"},"STRING")," column types in text input. The value should correspond to the maximum anticipated number of STRING columns in text input.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.text.timestamp.adapter.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"64"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of timestamp adapter pool. This should be set to the anticipated maximum number of ",(0,l.kt)("inlineCode",{parentName:"td"},"TIMESTAMP")," fields a text input can have. The pool is assigned to connection state and is reused alongside of connection state object.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.text.utf8.sink.size"),(0,l.kt)("td",{parentName:"tr",align:null},"4096"),(0,l.kt)("td",{parentName:"tr",align:null},"Initial size of UTF-8 adapter sink. The value should correspond the maximum individual field value length in text input.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.json.query.connection.check.frequency"),(0,l.kt)("td",{parentName:"tr",align:null},"1000000"),(0,l.kt)("td",{parentName:"tr",align:null},(0,l.kt)("strong",{parentName:"td"},"Changing the default value is strongly discouraged"),". The value to throttle check if client socket has been disconnected.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.json.query.float.scale"),(0,l.kt)("td",{parentName:"tr",align:null},"4"),(0,l.kt)("td",{parentName:"tr",align:null},"The scale value of string representation of ",(0,l.kt)("inlineCode",{parentName:"td"},"FLOAT")," values.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.json.query.double.scale"),(0,l.kt)("td",{parentName:"tr",align:null},"12"),(0,l.kt)("td",{parentName:"tr",align:null},"The scale value of string representation of ",(0,l.kt)("inlineCode",{parentName:"td"},"DOUBLE")," values.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.query.cache.enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable or disable the query cache. Cache capacity is ",(0,l.kt)("inlineCode",{parentName:"td"},"number_of_blocks * number_of_rows"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.query.cache.block.count"),(0,l.kt)("td",{parentName:"tr",align:null},"4"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of blocks for the query cache.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.query.cache.row.count"),(0,l.kt)("td",{parentName:"tr",align:null},"16"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of rows for the query cache.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.security.readonly"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"Forces HTTP read only mode when ",(0,l.kt)("inlineCode",{parentName:"td"},"true"),", disabling commands which modify the data or data structure, e.g. INSERT, UPDATE, or CREATE TABLE.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.security.max.response.rows"),(0,l.kt)("td",{parentName:"tr",align:null},"2^63-1"),(0,l.kt)("td",{parentName:"tr",align:null},"Limit the number of response rows over HTTP.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.security.interrupt.on.closed.connection"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Switch to enable termination of SQL processing if the HTTP connection is closed. The mechanism affects performance so the connection is only checked after ",(0,l.kt)("inlineCode",{parentName:"td"},"circuit.breaker.throttle")," calls are made to the check method. The mechanism also reads from the input stream and discards it since some HTTP clients send this as a keep alive in between requests, ",(0,l.kt)("inlineCode",{parentName:"td"},"circuit.breaker.buffer.size")," denotes the size of the buffer for this.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"circuit.breaker.throttle"),(0,l.kt)("td",{parentName:"tr",align:null},"2000000"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of internal iterations such as loops over data before checking if the HTTP connection is still open")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"circuit.breaker.buffer.size"),(0,l.kt)("td",{parentName:"tr",align:null},"32"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of buffer to read from HTTP connection. If this buffer returns zero and the HTTP client is no longer sending data, SQL processing will be terminated.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.server.keep.alive"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"If set to ",(0,l.kt)("inlineCode",{parentName:"td"},"false"),", the server will disconnect the client after completion of each request.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"http.version"),(0,l.kt)("td",{parentName:"tr",align:null},"HTTP/1.1"),(0,l.kt)("td",{parentName:"tr",align:null},"Protocol version, other supported value is ",(0,l.kt)("inlineCode",{parentName:"td"},"HTTP/1.0"),".")))),(0,l.kt)("h3",{id:"cairo-engine"},"Cairo engine"),(0,l.kt)("p",null,"This section describes configuration settings for the Cairo SQL engine in\nQuestDB."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"query.timeout.sec"),(0,l.kt)("td",{parentName:"tr",align:null},"60"),(0,l.kt)("td",{parentName:"tr",align:null},"A global timeout (in seconds) for long-running queries.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.max.uncommitted.rows"),(0,l.kt)("td",{parentName:"tr",align:null},"500000"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum number of uncommitted rows per table, when the number of pending rows reaches this parameter on a table, a commit will be issued.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.commit.lag (QuestDB 6.5.5 and earlier)"),(0,l.kt)("td",{parentName:"tr",align:null},"10 minutes"),(0,l.kt)("td",{parentName:"tr",align:null},"Expected maximum time lag for out-of-order rows in milliseconds.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.o3.max.lag (QuestDB 6.6 and later)"),(0,l.kt)("td",{parentName:"tr",align:null},"10 minutes"),(0,l.kt)("td",{parentName:"tr",align:null},"The maximum size of in-memory buffer in milliseconds. The buffer is allocated dynamically through analysing the shape of the incoming data, and ",(0,l.kt)("inlineCode",{parentName:"td"},"o3MaxLag")," is the upper limit.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.backup.root"),(0,l.kt)("td",{parentName:"tr",align:null},"null"),(0,l.kt)("td",{parentName:"tr",align:null},"Output root directory for backups.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.backup.dir.datetime.format"),(0,l.kt)("td",{parentName:"tr",align:null},"null"),(0,l.kt)("td",{parentName:"tr",align:null},"Date format for backup directory.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.backup.dir.tmp.name"),(0,l.kt)("td",{parentName:"tr",align:null},"tmp"),(0,l.kt)("td",{parentName:"tr",align:null},"Name of tmp directory used during backup.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.backup.mkdir.mode"),(0,l.kt)("td",{parentName:"tr",align:null},"509"),(0,l.kt)("td",{parentName:"tr",align:null},"Permission used when creating backup directories.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.snapshot.instance.id"),(0,l.kt)("td",{parentName:"tr",align:null},"empty string"),(0,l.kt)("td",{parentName:"tr",align:null},"Instance id to be included into disk snapshots.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.snapshot.recovery.enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"When ",(0,l.kt)("inlineCode",{parentName:"td"},"false"),", disables snapshot recovery on database start.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.root"),(0,l.kt)("td",{parentName:"tr",align:null},"db"),(0,l.kt)("td",{parentName:"tr",align:null},"Directory for storing db tables and metadata. This directory is inside the server root directory provided at startup.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.commit.mode"),(0,l.kt)("td",{parentName:"tr",align:null},"nosync"),(0,l.kt)("td",{parentName:"tr",align:null},"How changes to table are flushed to disk upon commit. Choices: ",(0,l.kt)("inlineCode",{parentName:"td"},"nosync"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"async")," (flush call schedules update, returns immediately), ",(0,l.kt)("inlineCode",{parentName:"td"},"sync")," (waits for flush on the appended column files to complete).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.create.as.select.retry.count"),(0,l.kt)("td",{parentName:"tr",align:null},"5"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of types table creation or insertion will be attempted.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.default.map.type"),(0,l.kt)("td",{parentName:"tr",align:null},"fast"),(0,l.kt)("td",{parentName:"tr",align:null},"Type of map used. Options: ",(0,l.kt)("inlineCode",{parentName:"td"},"fast")," (speed at the expense of storage), ",(0,l.kt)("inlineCode",{parentName:"td"},"compact"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.default.symbol.cache.flag"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"When ",(0,l.kt)("inlineCode",{parentName:"td"},"true"),", symbol values will be cached on Java heap instead of being looked up in the database files.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.default.symbol.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"256"),(0,l.kt)("td",{parentName:"tr",align:null},"Specifies approximate capacity for ",(0,l.kt)("inlineCode",{parentName:"td"},"SYMBOL")," columns. It should be equal to number of unique symbol values stored in the table and getting this value badly wrong will cause performance degradation. Must be power of 2.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.file.operation.retry.count"),(0,l.kt)("td",{parentName:"tr",align:null},"30"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of attempts to open files.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.idle.check.interval"),(0,l.kt)("td",{parentName:"tr",align:null},"300000"),(0,l.kt)("td",{parentName:"tr",align:null},"Frequency of writer maintenance job in milliseconds.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.inactive.reader.ttl"),(0,l.kt)("td",{parentName:"tr",align:null},"-120000"),(0,l.kt)("td",{parentName:"tr",align:null},"Frequency of reader pool checks for inactive readers in milliseconds.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.inactive.writer.ttl"),(0,l.kt)("td",{parentName:"tr",align:null},"-600000"),(0,l.kt)("td",{parentName:"tr",align:null},"Frequency of writer pool checks for inactive writers in milliseconds.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.index.value.block.size"),(0,l.kt)("td",{parentName:"tr",align:null},"256"),(0,l.kt)("td",{parentName:"tr",align:null},"Approximation of number of rows for a single index key, must be power of 2.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.max.swap.file.count"),(0,l.kt)("td",{parentName:"tr",align:null},"30"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of attempts to open swap files.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.mkdir.mode"),(0,l.kt)("td",{parentName:"tr",align:null},"509"),(0,l.kt)("td",{parentName:"tr",align:null},"File permission mode for new directories.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.parallel.index.threshold"),(0,l.kt)("td",{parentName:"tr",align:null},"100000"),(0,l.kt)("td",{parentName:"tr",align:null},"Minimum number of rows before allowing use of parallel indexation.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.reader.pool.max.segments"),(0,l.kt)("td",{parentName:"tr",align:null},"5"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of attempts to get TableReader.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.spin.lock.timeout"),(0,l.kt)("td",{parentName:"tr",align:null},"1000"),(0,l.kt)("td",{parentName:"tr",align:null},"Timeout when attempting to get BitmapIndexReaders in millisecond.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.character.store.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"1024"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of the CharacterStore.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.character.store.sequence.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"64"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of the CharacterSequence pool.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.column.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"4096"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of the Column pool in the SqlCompiler.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.compact.map.load.factor"),(0,l.kt)("td",{parentName:"tr",align:null},"0.7"),(0,l.kt)("td",{parentName:"tr",align:null},"Load factor for CompactMaps.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.expression.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"8192"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of the ExpressionNode pool in SqlCompiler.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.fast.map.load.factor"),(0,l.kt)("td",{parentName:"tr",align:null},"0.5"),(0,l.kt)("td",{parentName:"tr",align:null},"Load factor for all FastMaps.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.join.context.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"64"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of the JoinContext pool in SqlCompiler.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.lexer.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"2048"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of FloatingSequence pool in GenericLexer.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.map.key.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"2m"),(0,l.kt)("td",{parentName:"tr",align:null},"Key capacity in FastMap and CompactMap.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.map.max.resizes"),(0,l.kt)("td",{parentName:"tr",align:null},"2^31"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of map resizes in FastMap and CompactMap before a resource limit exception is thrown, each resize doubles the previous size.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.map.page.size"),(0,l.kt)("td",{parentName:"tr",align:null},"4m"),(0,l.kt)("td",{parentName:"tr",align:null},"Memory page size for FastMap and CompactMap.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.map.max.pages"),(0,l.kt)("td",{parentName:"tr",align:null},"2^31"),(0,l.kt)("td",{parentName:"tr",align:null},"Memory max pages for CompactMap.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.model.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"1024"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of the QueryModel pool in the SqlCompiler.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.sort.key.page.size"),(0,l.kt)("td",{parentName:"tr",align:null},"4M"),(0,l.kt)("td",{parentName:"tr",align:null},"Memory page size for storing keys in LongTreeChain.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.sort.key.max.pages"),(0,l.kt)("td",{parentName:"tr",align:null},"2^31"),(0,l.kt)("td",{parentName:"tr",align:null},"Max number of pages for storing keys in LongTreeChain before a resource limit exception is thrown.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.sort.light.value.page.size"),(0,l.kt)("td",{parentName:"tr",align:null},"1048576"),(0,l.kt)("td",{parentName:"tr",align:null},"Memory page size for storing values in LongTreeChain.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.sort.light.value.max.pages"),(0,l.kt)("td",{parentName:"tr",align:null},"2^31"),(0,l.kt)("td",{parentName:"tr",align:null},"Max pages for storing values in LongTreeChain.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.hash.join.value.page.size"),(0,l.kt)("td",{parentName:"tr",align:null},"16777216"),(0,l.kt)("td",{parentName:"tr",align:null},"Memory page size of the slave chain in full hash joins.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.hash.join.value.max.pages"),(0,l.kt)("td",{parentName:"tr",align:null},"2^31"),(0,l.kt)("td",{parentName:"tr",align:null},"Max pages of the slave chain in full hash joins.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.latest.by.row.count"),(0,l.kt)("td",{parentName:"tr",align:null},"1000"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of rows for LATEST BY.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.hash.join.light.value.page.size"),(0,l.kt)("td",{parentName:"tr",align:null},"1048576"),(0,l.kt)("td",{parentName:"tr",align:null},"Memory page size of the slave chain in light hash joins.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.hash.join.light.value.max.pages"),(0,l.kt)("td",{parentName:"tr",align:null},"2^31"),(0,l.kt)("td",{parentName:"tr",align:null},"Max pages of the slave chain in light hash joins.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.sort.value.page.size"),(0,l.kt)("td",{parentName:"tr",align:null},"16777216"),(0,l.kt)("td",{parentName:"tr",align:null},"Memory page size of file storing values in SortedRecordCursorFactory.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.sort.value.max.pages"),(0,l.kt)("td",{parentName:"tr",align:null},"2^31"),(0,l.kt)("td",{parentName:"tr",align:null},"Max pages of file storing values in SortedRecordCursorFactory.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.work.steal.timeout.nanos"),(0,l.kt)("td",{parentName:"tr",align:null},"10000"),(0,l.kt)("td",{parentName:"tr",align:null},"Latch await timeout in nanos for stealing indexing work from other threads.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.parallel.indexing.enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Allows parallel indexation. Works in conjunction with cairo.parallel.index.threshold.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.join.metadata.page.size"),(0,l.kt)("td",{parentName:"tr",align:null},"16384"),(0,l.kt)("td",{parentName:"tr",align:null},"Memory page size for JoinMetadata file.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.join.metadata.max.resizes"),(0,l.kt)("td",{parentName:"tr",align:null},"2^31"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of map resizes in JoinMetadata before a resource limit exception is thrown, each resize doubles the previous size.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.analytic.column.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"64"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of AnalyticColumn pool in SqlParser.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.create.table.model.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"16"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of CreateTableModel pool in SqlParser.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.column.cast.model.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"16"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of CreateTableModel pool in SqlParser.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.rename.table.model.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"16"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of RenameTableModel pool in SqlParser.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.with.clause.model.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"128"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of WithClauseModel pool in SqlParser.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.insert.model.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"64"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of InsertModel pool in SqlParser.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.copy.model.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"32"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of CopyModel pool in SqlParser.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.copy.buffer.size"),(0,l.kt)("td",{parentName:"tr",align:null},"2M"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of buffer used when copying tables.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.double.cast.scale"),(0,l.kt)("td",{parentName:"tr",align:null},"12"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum number of decimal places that types cast as doubles have.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.float.cast.scale"),(0,l.kt)("td",{parentName:"tr",align:null},"4"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum number of decimal places that types cast as floats have.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.copy.formats.file"),(0,l.kt)("td",{parentName:"tr",align:null},"/text_loader.json"),(0,l.kt)("td",{parentName:"tr",align:null},"Name of file with user's set of date and timestamp formats.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.jit.mode"),(0,l.kt)("td",{parentName:"tr",align:null},"on"),(0,l.kt)("td",{parentName:"tr",align:null},"JIT compilation for SQL queries. May be disabled by setting this value to ",(0,l.kt)("inlineCode",{parentName:"td"},"off"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.date.locale"),(0,l.kt)("td",{parentName:"tr",align:null},"en"),(0,l.kt)("td",{parentName:"tr",align:null},"The locale to handle date types.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.timestamp.locale"),(0,l.kt)("td",{parentName:"tr",align:null},"en"),(0,l.kt)("td",{parentName:"tr",align:null},"The locale to handle timestamp types.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.o3.column.memory.size"),(0,l.kt)("td",{parentName:"tr",align:null},"8M"),(0,l.kt)("td",{parentName:"tr",align:null},"Memory page size per column for O3 operations. Please be aware O3 will use 2x of the set value per column (therefore a default of 2x8M).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.writer.data.append.page.size"),(0,l.kt)("td",{parentName:"tr",align:null},"16M"),(0,l.kt)("td",{parentName:"tr",align:null},"mmap sliding page size that table writer uses to append data for each column.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.writer.data.index.key.append.page.size"),(0,l.kt)("td",{parentName:"tr",align:null},"512K"),(0,l.kt)("td",{parentName:"tr",align:null},"mmap page size for appending index key data.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.writer.data.index.value.append.page.size"),(0,l.kt)("td",{parentName:"tr",align:null},"16M"),(0,l.kt)("td",{parentName:"tr",align:null},"mmap page size for appending value data.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.writer.misc.append.page.size"),(0,l.kt)("td",{parentName:"tr",align:null},"4K"),(0,l.kt)("td",{parentName:"tr",align:null},"mmap page size for mapping small files, default value is OS page size (4k Linux, 64K windows, 16k OSX M1). Overriding this rounds to the nearest (greater) multiple of the OS page size.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.writer.data.index.key.append.page.size"),(0,l.kt)("td",{parentName:"tr",align:null},"512K"),(0,l.kt)("td",{parentName:"tr",align:null},"mmap page size for appending index key data; key data is number of distinct symbol values times 4 bytes.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.column.purge.queue.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"128"),(0,l.kt)("td",{parentName:"tr",align:null},"Purge column version job queue. Increase the size if column version not automatically cleanup after execution of UPDATE SQL statement. Reduce to decrease initial memory footprint.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.column.purge.task.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"256"),(0,l.kt)("td",{parentName:"tr",align:null},"Column version task object pool capacity. Increase to reduce GC, reduce to decrease memory footprint.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.column.purge.retry.delay"),(0,l.kt)("td",{parentName:"tr",align:null},"10000"),(0,l.kt)("td",{parentName:"tr",align:null},"Initial delay (\u03bcs) before re-trying purge of stale column files.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.column.purge.retry.delay.multiplier"),(0,l.kt)("td",{parentName:"tr",align:null},"10.0"),(0,l.kt)("td",{parentName:"tr",align:null},"Multiplier used to increases retry delay with each iteration.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.column.purge.retry.delay.limit"),(0,l.kt)("td",{parentName:"tr",align:null},"60000000"),(0,l.kt)("td",{parentName:"tr",align:null},"Delay limit (\u03bcs), upon reaching which, the re-try delay remains constant.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.column.purge.retry.limit.days"),(0,l.kt)("td",{parentName:"tr",align:null},"31"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of days purge system will continue to re-try deleting stale column files before giving up.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.system.table.prefix"),(0,l.kt)("td",{parentName:"tr",align:null},"sys."),(0,l.kt)("td",{parentName:"tr",align:null},"Prefix of the tables used for QuestDB internal data storage. These tables are hidden from QuestDB web console.")))),(0,l.kt)("h3",{id:"csv-import"},"CSV import"),(0,l.kt)("p",null,"This section describes configuration settings for using ",(0,l.kt)("inlineCode",{parentName:"p"},"COPY")," to import large\nCSV files."),(0,l.kt)("p",null,"Mandatory settings to enable ",(0,l.kt)("inlineCode",{parentName:"p"},"COPY"),":"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.copy.root"),(0,l.kt)("td",{parentName:"tr",align:null},"null"),(0,l.kt)("td",{parentName:"tr",align:null},"Input root directory for CSV imports via ",(0,l.kt)("inlineCode",{parentName:"td"},"COPY")," SQL. This path should not overlap with other directory (e.g. db, conf) of running instance, otherwise import may delete or overwrite existing files.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.copy.work.root"),(0,l.kt)("td",{parentName:"tr",align:null},"null"),(0,l.kt)("td",{parentName:"tr",align:null},"Temporary import file directory. Defaults to ",(0,l.kt)("inlineCode",{parentName:"td"},"root_directory/tmp")," if not set explicitly.")))),(0,l.kt)("p",null,"Optional settings for ",(0,l.kt)("inlineCode",{parentName:"p"},"COPY"),":"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.iouring.enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable or disable io_uring implementation. Applicable to newer Linux kernels only. Can be used to switch io_uring interface usage off if there's a kernel bug affecting it.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.copy.buffer.size"),(0,l.kt)("td",{parentName:"tr",align:null},"2 MiB"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of read buffers used in import.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.copy.log.retention.days"),(0,l.kt)("td",{parentName:"tr",align:null},"3"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of days to keep import messages in ",(0,l.kt)("inlineCode",{parentName:"td"},"sys.text_import_log"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.copy.max.index.chunk.size"),(0,l.kt)("td",{parentName:"tr",align:null},"100M"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum size of index chunk file used to limit total memory requirements of import. Indexing phase should use roughly ",(0,l.kt)("inlineCode",{parentName:"td"},"thread_count * cairo.sql.copy.max.index.chunk.size")," of memory.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.copy.queue.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"32"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of copy task queue. Should be increased if there's more than 32 import workers.")))),(0,l.kt)("h4",{id:"csv-import-configuration-for-docker"},"CSV import configuration for Docker"),(0,l.kt)("p",null,"For QuestDB instances using Docker:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"cairo.sql.copy.root")," must be defined using one of the following settings:",(0,l.kt)("ul",{parentName:"li"},(0,l.kt)("li",{parentName:"ul"},"The environment variable ",(0,l.kt)("inlineCode",{parentName:"li"},"QDB_CAIRO_SQL_COPY_ROOT"),"."),(0,l.kt)("li",{parentName:"ul"},"The ",(0,l.kt)("inlineCode",{parentName:"li"},"cairo.sql.copy.root")," in ",(0,l.kt)("inlineCode",{parentName:"li"},"server.conf"),"."))),(0,l.kt)("li",{parentName:"ul"},"The path for the source CSV file is mounted."),(0,l.kt)("li",{parentName:"ul"},"The source CSV file path and the path defined by ",(0,l.kt)("inlineCode",{parentName:"li"},"QDB_CAIRO_SQL_COPY_ROOT")," are\nidentical."),(0,l.kt)("li",{parentName:"ul"},"It is optional to define ",(0,l.kt)("inlineCode",{parentName:"li"},"QDB_CAIRO_SQL_COPY_WORK_ROOT"),".")),(0,l.kt)("p",null,"The following is an example command to start a QuestDB instance on Docker, in\norder to import a CSV file:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell"},'docker run -p 9000:9000 \\\n-v "/tmp/questdb:/var/lib/questdb" \\\n-v "/tmp/questdb/my_input_root:/var/lib/questdb/questdb_import" \\\n-e QDB_CAIRO_SQL_COPY_ROOT=/var/lib/questdb/questdb_import \\\nquestdb/questdb\n')),(0,l.kt)("p",null,"Where:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},'-v "/tmp/questdb/my_input_root:/var/lib/questdb/questdb_import"'),": Defining a\nsource CSV file location to be ",(0,l.kt)("inlineCode",{parentName:"li"},"/tmp/questdb/my_input_root")," on local machine\nand mounting it to ",(0,l.kt)("inlineCode",{parentName:"li"},"/var/lib/questdb/questdb_import")," in the container."),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("inlineCode",{parentName:"li"},"-e QDB_CAIRO_SQL_COPY_ROOT=/var/lib/questdb/questdb_import"),": Defining the\ncopy root directory to be ",(0,l.kt)("inlineCode",{parentName:"li"},"/var/lib/questdb/questdb_import"),".")),(0,l.kt)("p",null,"It is important that the two path are identical\n(",(0,l.kt)("inlineCode",{parentName:"p"},"/var/lib/questdb/questdb_import")," in the example)."),(0,l.kt)("h3",{id:"parallel-sql-execution"},"Parallel SQL execution"),(0,l.kt)("p",null,"This section describes settings that can affect parallelism level of SQL\nexecution and therefore performance."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.parallel.filter.enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable or disable parallel SQL filter execution. JIT compilation takes place only when this setting is enabled.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.sql.parallel.filter.pretouch.enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable column pre-touch as part of the parallel SQL filter execution, to improve query performance for large tables.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.page.frame.shard.count"),(0,l.kt)("td",{parentName:"tr",align:null},"4"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of shards for both dispatch and reduce queues. Shards reduce queue contention between SQL statements that are executed concurrently.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.page.frame.reduce.queue.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"64"),(0,l.kt)("td",{parentName:"tr",align:null},"Reduce queue is used for data processing and should be large enough to supply tasks for worker threads (shared worked pool).")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.page.frame.rowid.list.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"256"),(0,l.kt)("td",{parentName:"tr",align:null},"Row ID list initial capacity for each slot of the reduce queue. Larger values reduce memory allocation rate, but increase minimal RSS size.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.page.frame.column.list.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"16"),(0,l.kt)("td",{parentName:"tr",align:null},"Column list capacity for each slot of the reduce queue. Used by JIT-compiled filter functions. Larger values reduce memory allocation rate, but increase minimal RSS size.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"cairo.page.frame.task.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"4"),(0,l.kt)("td",{parentName:"tr",align:null},"Initial object pool capacity for local reduce tasks. These tasks are used to avoid blocking query execution when the reduce queue is full.")))),(0,l.kt)("h3",{id:"postgres-wire-protocol"},"Postgres wire protocol"),(0,l.kt)("p",null,"This section describes configuration settings for client connections using\nPostgresSQL wire protocol."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Configuration for enabling or disabling the Postres interface.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.net.bind.to"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0.0.0:8812"),(0,l.kt)("td",{parentName:"tr",align:null},"IP address and port of Postgres wire protocol server. 0 means that the server will bind to all network interfaces. You can specify IP address of any individual network interface on your system.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.net.connection.limit"),(0,l.kt)("td",{parentName:"tr",align:null},"64"),(0,l.kt)("td",{parentName:"tr",align:null},"The maximum number permitted for simultaneous Postgres connections to the server. This value is intended to control server memory consumption.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.net.connection.timeout"),(0,l.kt)("td",{parentName:"tr",align:null},"300000"),(0,l.kt)("td",{parentName:"tr",align:null},"Connection idle timeout in milliseconds. Connections are closed by the server when this timeout lapses.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.net.connection.rcvbuf"),(0,l.kt)("td",{parentName:"tr",align:null},"-1"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum send buffer size on each TCP socket. If value is -1 socket send buffer remains unchanged from OS default.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.net.connection.sndbuf"),(0,l.kt)("td",{parentName:"tr",align:null},"-1"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum receive buffer size on each TCP socket. If value is -1, the socket receive buffer remains unchanged from OS default.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.net.connection.hint"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"Windows specific flag to overcome OS limitations on TCP backlog size")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.security.readonly"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"Forces PGWire read only mode when ",(0,l.kt)("inlineCode",{parentName:"td"},"true"),", disabling commands which modify the data or data structure, e.g. INSERT, UPDATE, or CREATE TABLE.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.character.store.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"4096"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of the CharacterStore.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.character.store.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"64"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of the CharacterStore pool capacity .")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.connection.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"64"),(0,l.kt)("td",{parentName:"tr",align:null},"The maximum amount of pooled connections this interface may have.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.password"),(0,l.kt)("td",{parentName:"tr",align:null},"quest"),(0,l.kt)("td",{parentName:"tr",align:null},"Postgres database password.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.user"),(0,l.kt)("td",{parentName:"tr",align:null},"admin"),(0,l.kt)("td",{parentName:"tr",align:null},"Postgres database username.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.readonly.user.enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable or disable Postgres database read-only user account. When enabled, this additional user can be used to open read-only connections to the database.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.readonly.password"),(0,l.kt)("td",{parentName:"tr",align:null},"quest"),(0,l.kt)("td",{parentName:"tr",align:null},"Postgres database read-only user password.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.readonly.user"),(0,l.kt)("td",{parentName:"tr",align:null},"user"),(0,l.kt)("td",{parentName:"tr",align:null},"Postgres database read-only user username.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.select.cache.enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable or disable the SELECT query cache. Cache capacity is ",(0,l.kt)("inlineCode",{parentName:"td"},"number_of_blocks * number_of_rows"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.select.cache.block.count"),(0,l.kt)("td",{parentName:"tr",align:null},"16"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of blocks to cache SELECT query execution plan against text to speed up execution.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.select.cache.row.count"),(0,l.kt)("td",{parentName:"tr",align:null},"16"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of rows to cache for SELECT query execution plan against text to speed up execution.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.insert.cache.enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable or disable the INSERT query cache. Cache capacity is ",(0,l.kt)("inlineCode",{parentName:"td"},"number_of_blocks * number_of_rows"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.insert.cache.block.count"),(0,l.kt)("td",{parentName:"tr",align:null},"8"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of blocks to cache INSERT query execution plan against text to speed up execution.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.insert.cache.row.count"),(0,l.kt)("td",{parentName:"tr",align:null},"8"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of rows to cache for INSERT query execution plan against text to speed up execution.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.update.cache.enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable or disable the UPDATE query cache. Cache capacity is ",(0,l.kt)("inlineCode",{parentName:"td"},"number_of_blocks * number_of_rows"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.update.cache.block.count"),(0,l.kt)("td",{parentName:"tr",align:null},"8"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of blocks to cache UPDATE query execution plan against text to speed up execution.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.update.cache.row.count"),(0,l.kt)("td",{parentName:"tr",align:null},"8"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of rows to cache for UPDATE query execution plan against text to speed up execution.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.max.blob.size.on.query"),(0,l.kt)("td",{parentName:"tr",align:null},"512k"),(0,l.kt)("td",{parentName:"tr",align:null},"For binary values, clients will receive an error when requesting blob sizes above this value.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.recv.buffer.size"),(0,l.kt)("td",{parentName:"tr",align:null},"1M"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of the buffer for receiving data.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.send.buffer.size"),(0,l.kt)("td",{parentName:"tr",align:null},"1M"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of the buffer for sending data.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.date.locale"),(0,l.kt)("td",{parentName:"tr",align:null},"en"),(0,l.kt)("td",{parentName:"tr",align:null},"The locale to handle date types.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.timestamp.locale"),(0,l.kt)("td",{parentName:"tr",align:null},"en"),(0,l.kt)("td",{parentName:"tr",align:null},"The locale to handle timestamp types.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.worker.count"),(0,l.kt)("td",{parentName:"tr",align:null},"0"),(0,l.kt)("td",{parentName:"tr",align:null},"Number of dedicated worker threads assigned to handle PGWire queries. When ",(0,l.kt)("inlineCode",{parentName:"td"},"0"),", the jobs will use the shared pool.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.worker.affinity"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Comma-separated list of thread numbers which should be pinned for Postgres ingestion. Example ",(0,l.kt)("inlineCode",{parentName:"td"},"pg.worker.affinity=1,2,3"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"pg.halt.on.error"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"Whether ingestion should stop upon internal error.")))),(0,l.kt)("h3",{id:"influxdb-line-protocol"},"InfluxDB line protocol"),(0,l.kt)("p",null,"This section describes ingestion settings for incoming messages using InfluxDB\nline protocol."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.default.partition.by"),(0,l.kt)("td",{parentName:"tr",align:null},"DAY"),(0,l.kt)("td",{parentName:"tr",align:null},"The default partitioning strategy applied to new tables dynamically created by sending records via ILP.")))),(0,l.kt)("h4",{id:"tcp-specific-settings"},"TCP specific settings"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable or disable line protocol over TCP.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.net.bind.to"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0.0.0:9009"),(0,l.kt)("td",{parentName:"tr",align:null},"IP address of the network interface to bind listener to and port. By default, TCP receiver listens on all network interfaces.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.net.connection.limit"),(0,l.kt)("td",{parentName:"tr",align:null},"256"),(0,l.kt)("td",{parentName:"tr",align:null},"The maximum number permitted for simultaneous connections to the server. This value is intended to control server memory consumption.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.net.connection.timeout"),(0,l.kt)("td",{parentName:"tr",align:null},"300000"),(0,l.kt)("td",{parentName:"tr",align:null},"Connection idle timeout in milliseconds. Connections are closed by the server when this timeout lapses.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.net.connection.hint"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"Windows specific flag to overcome OS limitations on TCP backlog size")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.net.connection.rcvbuf"),(0,l.kt)("td",{parentName:"tr",align:null},"-1"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum buffer receive size on each TCP socket. If value is -1, the socket receive buffer remains unchanged from OS default.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.auth.db.path"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Path which points to the authentication db file.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.connection.pool.capacity"),(0,l.kt)("td",{parentName:"tr",align:null},"64"),(0,l.kt)("td",{parentName:"tr",align:null},"The maximum amount of pooled connections this interface may have.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.timestamp"),(0,l.kt)("td",{parentName:"tr",align:null},"n"),(0,l.kt)("td",{parentName:"tr",align:null},"Input timestamp resolution. Possible values are ",(0,l.kt)("inlineCode",{parentName:"td"},"n"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"u"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"ms"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"s")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"h"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.msg.buffer.size"),(0,l.kt)("td",{parentName:"tr",align:null},"32768"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of the buffer read from queue. Maximum size of write request, regardless of the number of measurements.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.maintenance.job.interval"),(0,l.kt)("td",{parentName:"tr",align:null},"1000"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum amount of time (in milliseconds) between maintenance jobs committing any uncommitted data on inactive tables.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.min.idle.ms.before.writer.release"),(0,l.kt)("td",{parentName:"tr",align:null},"500"),(0,l.kt)("td",{parentName:"tr",align:null},"Minimum amount of idle time (in milliseconds) before a table writer is released.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.commit.interval.fraction"),(0,l.kt)("td",{parentName:"tr",align:null},"0.5"),(0,l.kt)("td",{parentName:"tr",align:null},"Commit lag fraction. Used to calculate commit interval for the table according to the following formula: ",(0,l.kt)("inlineCode",{parentName:"td"},"commit_interval = commit_lag \u2217 fraction"),". The calculated commit interval defines how long uncommitted data will need to remain uncommitted.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.commit.interval.default"),(0,l.kt)("td",{parentName:"tr",align:null},"1000"),(0,l.kt)("td",{parentName:"tr",align:null},"Default commit interval in milliseconds.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.max.measurement.size"),(0,l.kt)("td",{parentName:"tr",align:null},"32768"),(0,l.kt)("td",{parentName:"tr",align:null},"Maximum size of any measurement.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.writer.queue.size"),(0,l.kt)("td",{parentName:"tr",align:null},"128"),(0,l.kt)("td",{parentName:"tr",align:null},"Size of the queue between network I/O and writer jobs. Each queue entry represents a measurement.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.writer.worker.count"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Number of dedicated I/O worker threads assigned to write data to tables. When ",(0,l.kt)("inlineCode",{parentName:"td"},"0"),", the writer jobs will use the shared pool.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.writer.worker.affinity"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Comma-separated list of thread numbers which should be pinned for line protocol ingestion over TCP. CPU core indexes are 0-based.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.io.worker.count"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Number of dedicated I/O worker threads assigned to parse TCP input. When ",(0,l.kt)("inlineCode",{parentName:"td"},"0"),", the writer jobs will use the shared pool.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.io.worker.affinity"),(0,l.kt)("td",{parentName:"tr",align:null}),(0,l.kt)("td",{parentName:"tr",align:null},"Comma-separated list of thread numbers which should be pinned for line protocol ingestion over TCP. CPU core indexes are 0-based.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.default.partition.by"),(0,l.kt)("td",{parentName:"tr",align:null},"DAY"),(0,l.kt)("td",{parentName:"tr",align:null},"Table partition strategy to be used with tables that are created automatically by ILP. Possible values are: ",(0,l.kt)("inlineCode",{parentName:"td"},"HOUR"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"DAY"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"MONTH")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"YEAR"))),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.tcp.disconnect.on.error"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Disconnect TCP socket that sends malformed messages.")))),(0,l.kt)("h4",{id:"udp-specific-settings"},"UDP specific settings"),(0,l.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,l.kt)("div",{parentName:"div",className:"admonition-heading"},(0,l.kt)("h5",{parentName:"div"},(0,l.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,l.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,l.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,l.kt)("div",{parentName:"div",className:"admonition-content"},(0,l.kt)("p",{parentName:"div"},"The UDP receiver is deprecated since QuestDB version 6.5.2. We recommend the\n",(0,l.kt)("a",{parentName:"p",href:"/docs/reference/api/ilp/tcp-receiver/"},"TCP receiver")," instead."))),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.udp.join"),(0,l.kt)("td",{parentName:"tr",align:null},"232.1.2.3"),(0,l.kt)("td",{parentName:"tr",align:null},'Multicast address receiver joins. This values is ignored when receiver is in "unicast" mode.')),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.udp.bind.to"),(0,l.kt)("td",{parentName:"tr",align:null},"0.0.0.0:9009"),(0,l.kt)("td",{parentName:"tr",align:null},"IP address of the network interface to bind listener to and port. By default UDP receiver listens on all network interfaces.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.udp.commit.rate"),(0,l.kt)("td",{parentName:"tr",align:null},"1000000"),(0,l.kt)("td",{parentName:"tr",align:null},"For packet bursts the number of continuously received messages after which receiver will force commit. Receiver will commit irrespective of this parameter when there are no messages.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.udp.msg.buffer.size"),(0,l.kt)("td",{parentName:"tr",align:null},"2048"),(0,l.kt)("td",{parentName:"tr",align:null},"Buffer used to receive single message. This value should be roughly equal to your MTU size.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.udp.msg.count"),(0,l.kt)("td",{parentName:"tr",align:null},"10000"),(0,l.kt)("td",{parentName:"tr",align:null},"Only for Linux. On Linux, QuestDB will use the ",(0,l.kt)("inlineCode",{parentName:"td"},"recvmmsg()")," system call. This is the max number of messages to receive at once.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.udp.receive.buffer.size"),(0,l.kt)("td",{parentName:"tr",align:null},"8388608"),(0,l.kt)("td",{parentName:"tr",align:null},"UDP socket buffer size. Larger size of the buffer will help reduce message loss during bursts.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.udp.enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable or disable UDP receiver.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.udp.own.thread"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"When ",(0,l.kt)("inlineCode",{parentName:"td"},"true"),', UDP receiver will use its own thread and busy spin that for performance reasons. "false" makes receiver use worker threads that do everything else in QuestDB.')),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.udp.own.thread.affinity"),(0,l.kt)("td",{parentName:"tr",align:null},"-1"),(0,l.kt)("td",{parentName:"tr",align:null},"-1 does not set thread affinity. OS will schedule thread and it will be liable to run on random cores and jump between the. 0 or higher pins thread to give core. This property is only valid when UDP receiver uses own thread.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.udp.unicast"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"When ",(0,l.kt)("inlineCode",{parentName:"td"},"true"),", UDP will use unicast. Otherwise multicast.")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.udp.timestamp"),(0,l.kt)("td",{parentName:"tr",align:null},"n"),(0,l.kt)("td",{parentName:"tr",align:null},"Input timestamp resolution. Possible values are ",(0,l.kt)("inlineCode",{parentName:"td"},"n"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"u"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"ms"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"s")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"h"),".")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"line.udp.commit.mode"),(0,l.kt)("td",{parentName:"tr",align:null},"nosync"),(0,l.kt)("td",{parentName:"tr",align:null},"Commit durability. Available values are ",(0,l.kt)("inlineCode",{parentName:"td"},"nosync"),", ",(0,l.kt)("inlineCode",{parentName:"td"},"sync")," and ",(0,l.kt)("inlineCode",{parentName:"td"},"async"),".")))),(0,l.kt)("h3",{id:"config-validation"},"Config Validation"),(0,l.kt)("p",null,"The database startup phase checks for configuration issues, such as invalid or\ndeprecated settings. Issues may be classified as advisories or errors. Advisory\nissues are ",(0,l.kt)("a",{parentName:"p",href:"/docs/concept/root-directory-structure#log-directory"},"logged"),"\nwithout causing the database to stop its startup sequence: These are usually\nsetting deprecation warnings. Configuration errors can optionally cause the\ndatabase to fail its startup."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"config.validation.strict"),(0,l.kt)("td",{parentName:"tr",align:null},"false"),(0,l.kt)("td",{parentName:"tr",align:null},"When enabled, startup fails if there are configuration errors.")))),(0,l.kt)("p",null,(0,l.kt)("em",{parentName:"p"},"We recommended enabling strict validation.")),(0,l.kt)("h3",{id:"telemetry"},"Telemetry"),(0,l.kt)("p",null,"QuestDB sends anonymous telemetry data with information about usage which helps\nus improve the product over time. We do not collect any personally-identifying\ninformation, and we do not share any of this data with third parties."),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:null},"Property"),(0,l.kt)("th",{parentName:"tr",align:null},"Default"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:null},"telemetry.enabled"),(0,l.kt)("td",{parentName:"tr",align:null},"true"),(0,l.kt)("td",{parentName:"tr",align:null},"Enable or disable anonymous usage metrics collection.")))),(0,l.kt)("h2",{id:"logging"},"Logging"),(0,l.kt)("p",null,"The logging behavior of QuestDB may be set in dedicated configuration files or\nby environment variables. This section describes how to configure logging using\nthese methods."),(0,l.kt)("h3",{id:"configuration-file"},"Configuration file"),(0,l.kt)("p",null,"Logs may be configured via a dedicated configuration file ",(0,l.kt)("inlineCode",{parentName:"p"},"log.conf"),"."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="log.conf"',title:'"log.conf"'},"# list of configured writers\nwriters=file,stdout\n\n# file writer\n#w.file.class=io.questdb.log.LogFileWriter\n#w.file.location=questdb-debug.log\n#w.file.level=INFO,ERROR\n\n# rolling file writer\n#w.file.class=io.questdb.log.LogRollingFileWriter\n#w.file.location=${log.dir}/questdb-rolling.log.${date:yyyyMMdd}\n#w.file.level=INFO,ERROR\n#rollEvery accepts: day, hour, minute, month\n#w.file.rollEvery=day\n#w.file.rollSize=1g\n\n# stdout\nw.stdout.class=io.questdb.log.LogConsoleWriter\nw.stdout.level=INFO,ERROR\n")),(0,l.kt)("p",null,"QuestDB will look for ",(0,l.kt)("inlineCode",{parentName:"p"},"/log.conf")," first in ",(0,l.kt)("inlineCode",{parentName:"p"},"conf/")," directory and then on the\nclasspath unless this name is overridden via a command line property:\n",(0,l.kt)("inlineCode",{parentName:"p"},"-Dout=/something_else.conf"),". QuestDB will create ",(0,l.kt)("inlineCode",{parentName:"p"},"conf/log.conf")," using default\nvalues If ",(0,l.kt)("inlineCode",{parentName:"p"},"-Dout")," is not set and file doesn't exist ."),(0,l.kt)("p",null,"On Windows log messages go to depending on run mode :"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"interactive session - console and ",(0,l.kt)("inlineCode",{parentName:"li"},"$dataDir\\log\\stdout-%Y-%m-%dT%H-%M-%S.txt"),"\n(default is ",(0,l.kt)("inlineCode",{parentName:"li"},".\\log\\stdout-%Y-%m-%dT%H-%M-%S.txt")," )"),(0,l.kt)("li",{parentName:"ul"},"service - ",(0,l.kt)("inlineCode",{parentName:"li"},"$dataDir\\log\\service-%Y-%m-%dT%H-%M-%S.txt")," (default is\n",(0,l.kt)("inlineCode",{parentName:"li"},"C:\\Windows\\System32\\qdbroot\\log\\service-%Y-%m-%dT%H-%M-%S.txt")," )")),(0,l.kt)("h3",{id:"environment-variables-2"},"Environment variables"),(0,l.kt)("p",null,"Values in the log configuration file can be overridden with environment\nvariables. All configuration keys must be formatted as described in the\n",(0,l.kt)("a",{parentName:"p",href:"#environment-variables"},"environment variables")," section above."),(0,l.kt)("p",null,"For example, to set logging on ",(0,l.kt)("inlineCode",{parentName:"p"},"ERROR")," level only:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="Setting log level to ERROR in log-stdout.conf"',title:'"Setting',log:!0,level:!0,to:!0,ERROR:!0,in:!0,'log-stdout.conf"':!0},"w.stdout.level=ERROR\n")),(0,l.kt)("p",null,"This can be passed as an environment variable as follows:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="Setting log level to ERROR via environment variable"',title:'"Setting',log:!0,level:!0,to:!0,ERROR:!0,via:!0,environment:!0,'variable"':!0},"export QDB_LOG_W_STDOUT_LEVEL=ERROR\n")),(0,l.kt)("h3",{id:"configuring-docker-logging"},"Configuring Docker logging"),(0,l.kt)("p",null,"When mounting a volume to a Docker container, a logging configuration file may\nbe provided in the container located at ",(0,l.kt)("inlineCode",{parentName:"p"},"./conf/log.conf"),". For example, a file\nwith the following contents can be created:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="./conf/log.conf"',title:'"./conf/log.conf"'},"# list of configured writers\nwriters=file,stdout,http.min\n\n# file writer\nw.file.class=io.questdb.log.LogFileWriter\nw.file.location=questdb-docker.log\nw.file.level=INFO,ERROR,DEBUG\n\n# stdout\nw.stdout.class=io.questdb.log.LogConsoleWriter\nw.stdout.level=INFO\n\n# min http server, used monitoring\nw.http.min.class=io.questdb.log.LogConsoleWriter\nw.http.min.level=ERROR\nw.http.min.scope=http-min-server\n")),(0,l.kt)("p",null,"The current directory can be mounted:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-shell",metastring:'title="Mount the current directory to a QuestDB container"',title:'"Mount',the:!0,current:!0,directory:!0,to:!0,a:!0,QuestDB:!0,'container"':!0},'docker run -p 9000:9000 -v "$(pwd):/var/lib/questdb/" questdb/questdb\n')),(0,l.kt)("p",null,"The container logs will be written to disk using the logging level and file name\nprovided in the ",(0,l.kt)("inlineCode",{parentName:"p"},"./conf/log.conf")," file, in this case in ",(0,l.kt)("inlineCode",{parentName:"p"},"./questdb-docker.log"),"."),(0,l.kt)("h3",{id:"prometheus-alertmanager"},"Prometheus Alertmanager"),(0,l.kt)("p",null,'QuestDB includes a log writer that sends any message logged at critical level\n(logger.critical("may-day")) to Prometheus Alertmanager over a TCP/IP socket.\nDetails for configuring this can be found in the\n',(0,l.kt)("a",{parentName:"p",href:"/docs/third-party-tools/prometheus"},"Prometheus documentation"),". To configure\nthis writer, add it to the ",(0,l.kt)("inlineCode",{parentName:"p"},"writers")," config alongside other log writers."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-ini",metastring:'title="log.conf"',title:'"log.conf"'},"# Which writers to enable\nwriters=stdout,alert\n\n# stdout\nw.stdout.class=io.questdb.log.LogConsoleWriter\nw.stdout.level=INFO\n\n# Prometheus Alerting\nw.alert.class=io.questdb.log.LogAlertSocketWriter\nw.alert.level=CRITICAL\nw.alert.location=/alert-manager-tpt.json\nw.alert.alertTargets=localhost:9093,localhost:9096,otherhost:9093\nw.alert.defaultAlertHost=localhost\nw.alert.defaultAlertPort=9093\n\n# The `inBufferSize` and `outBufferSize` properties are the size in bytes for the\n# socket write buffers.\nw.alert.inBufferSize=2m\nw.alert.outBufferSize=4m\n# Delay in milliseconds between two consecutive attempts to alert when\n# there is only one target configured\nw.alert.reconnectDelay=250\n")),(0,l.kt)("p",null,"Of all properties, only ",(0,l.kt)("inlineCode",{parentName:"p"},"w.alert.class")," and ",(0,l.kt)("inlineCode",{parentName:"p"},"w.alert.level")," are required, the\nrest assume default values as stated above (except for ",(0,l.kt)("inlineCode",{parentName:"p"},"w.alert.alertTargets"),"\nwhich is empty by default)."),(0,l.kt)("p",null,"Alert targets are specified using ",(0,l.kt)("inlineCode",{parentName:"p"},"w.alert.alertTargets")," as a comma-separated\nlist of up to 12 ",(0,l.kt)("inlineCode",{parentName:"p"},"host:port")," TCP/IP addresses. Specifying a port is optional and\ndefaults to the value of ",(0,l.kt)("inlineCode",{parentName:"p"},"defaultAlertHost"),". One of these alert managers is\npicked at random when QuestDB starts, and a connection is created."),(0,l.kt)("p",null,"All alerts will be sent to the chosen server unless it becomes unavailable. If\nit is unavailable, the next server is chosen. If there is only one server\nconfigured and a fail-over cannot occur, a delay of 250 milliseconds is added\nbetween send attempts."),(0,l.kt)("p",null,"The ",(0,l.kt)("inlineCode",{parentName:"p"},"w.alert.location")," property refers to the path (absolute, otherwise relative\nto ",(0,l.kt)("inlineCode",{parentName:"p"},"-d database-root"),") of a template file. By default, it is a resource file\nwhich contains:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json",metastring:'title="/alert-manager-tpt.json"',title:'"/alert-manager-tpt.json"'},'[\n  {\n    "Status": "firing",\n    "Labels": {\n      "alertname": "QuestDbInstanceLogs",\n      "service": "QuestDB",\n      "category": "application-logs",\n      "severity": "critical",\n      "version": "${QDB_VERSION}",\n      "cluster": "${CLUSTER_NAME}",\n      "orgid": "${ORGID}",\n      "namespace": "${NAMESPACE}",\n      "instance": "${INSTANCE_NAME}",\n      "alertTimestamp": "${date: yyyy/MM/ddTHH:mm:ss.SSS}"\n    },\n    "Annotations": {\n      "description": "ERROR/cl:${CLUSTER_NAME}/org:${ORGID}/ns:${NAMESPACE}/db:${INSTANCE_NAME}",\n      "message": "${ALERT_MESSAGE}"\n    }\n  }\n]\n')),(0,l.kt)("p",null,"Four environment variables can be defined, and referred to with the\n",(0,l.kt)("inlineCode",{parentName:"p"},"${VAR_NAME}")," syntax:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"ORGID")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"NAMESPACE")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"CLUSTER_NAME")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("em",{parentName:"li"},"INSTANCE_NAME"))),(0,l.kt)("p",null,"Their default value is ",(0,l.kt)("inlineCode",{parentName:"p"},"GLOBAL"),", they mean nothing outside a cloud environment."),(0,l.kt)("p",null,"In addition, ",(0,l.kt)("inlineCode",{parentName:"p"},"ALERT_MESSAGE")," is a placeholder for the actual ",(0,l.kt)("inlineCode",{parentName:"p"},"critical")," message\nbeing sent, and ",(0,l.kt)("inlineCode",{parentName:"p"},"QDB_VERSION")," is the runtime version of the QuestDB instance\nsending the alert. The ",(0,l.kt)("inlineCode",{parentName:"p"},"${date: <format>}")," syntax can be used to produce a\ntimestamp at the time of sending the alert."),(0,l.kt)("h3",{id:"debug"},"Debug"),(0,l.kt)("p",null,"QuestDB logging can be quickly forced globally to ",(0,l.kt)("inlineCode",{parentName:"p"},"DEBUG")," via either providing\nthe java option ",(0,l.kt)("inlineCode",{parentName:"p"},"-Debug")," or setting the environment variable ",(0,l.kt)("inlineCode",{parentName:"p"},"QDB_DEBUG=true"),"."))}s.isMDXComponent=!0}}]);