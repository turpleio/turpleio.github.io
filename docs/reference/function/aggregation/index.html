<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3">
<meta httpequiv="x-ua-compatible" content="ie=edge">
<meta property="og:type" content="website">
<meta name="author" content="turpleio">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link href="https://www.googletagmanager.com" rel="dns-prefetch">
<link href="https://www.google-analytics.com" rel="dns-prefetch">
<link rel="icon" href="/favicon.png">
<link rel="apple-touch-icon" href="/img/icons/apple-180x180.png" sizes="180x180">
<meta name="msapplication-config" content="/browserconfig.xml">
<link rel="sitemap" type="application/xml" href="/sitemap.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PVR7M2G"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-PVR7M2G",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Turple: Cloud Native Platform" href="/opensearch.xml">
<link rel="manifest" href="/manifest.webmanifest">
<meta name="theme-color" content="#d14671">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#21222c">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Turple: Cloud Native Platform Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Turple: Cloud Native Platform Blog Atom Feed"><title data-react-helmet="true">Aggregate functions | Turple: Cloud Native Platform</title><meta data-react-helmet="true" name="twitter:description" content="Turple is a cloud native platform which can help you build and operate your services on cloud."><meta data-react-helmet="true" name="twitter:title" content="Introduction | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for &quot;Introduction | Turple: Cloud Native Platform&quot;"><meta data-react-helmet="true" property="og:title" content="Aggregate functions | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="description" content="Aggregate functions reference documentation."><meta data-react-helmet="true" property="og:description" content="Aggregate functions reference documentation."><meta data-react-helmet="true" property="og:image" content="https://turpleio.github.io/img/og.png"><meta data-react-helmet="true" name="twitter:image" content="https://turpleio.github.io/img/og.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link rel="stylesheet" href="/assets/css/styles.0702fa65.css">
</head>
<body itemscope itemtype="http://schema.org/Organization">
<meta itemprop="name" content="Turple: Cloud Native Platform">
<meta itemprop="description" content="Turple is a cloud native platform which can help you build and operate your services on cloud.">
<meta itemprop="url" content="https://turpleio.github.io">
<meta itemprop="logo" content="https://turpleio.github.io/img/favicon.png">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar_wBc8 navbar--light"><div class="navbar__inner inner_Y8Z6"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand brand_AtiA" href="/">QuestDB</a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">Features</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/blog/2023/03/09/multi-cloud">멀티클라우드</a></li><li><a class="dropdown__link" href="/blog/2023/03/09/devops">데브옵스</a></li><li><a class="dropdown__link" href="/blog/2023/03/09/turple-docker-k8s">도커 &amp; 쿠버네티스</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link">Learn</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/blog/tags/why-turple">왜 터플인가?</a></li><li><a class="dropdown__link" href="/blog/2023/03/10/turple-dashboard">터플대시보드</a></li><li><a class="dropdown__link" href="/blog/">블로그</a></li></ul></div></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand brand_AtiA" href="/">QuestDB</a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/blog/2023/03/09/multi-cloud">멀티클라우드</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/2023/03/09/devops">데브옵스</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/2023/03/09/turple-docker-k8s">도커 &amp; 쿠버네티스</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a role="button" class="menu__link menu__link--sublist">Learn</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/blog/tags/why-turple">왜 터플인가?</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/2023/03/10/turple-dashboard">터플대시보드</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/">블로그</a></li></ul></li></ul></div></div></div></nav><div class="wrapper_DIJ0"><div class="doc_D+rh"><div class="doc__sidebar_gVFN" role="complementary"><div class="sidebar_LIo8"><div class="menu menu--responsive thin-scrollbar menu_oAhv"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_nrF-" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" href="/docs/">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Get Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/docker/">Docker</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/binaries/">Binaries</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/homebrew/">Homebrew</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/first-database/">Create my first dataset</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/learn-more/">Learn more</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Develop</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/develop/connect/">Connect</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/develop/insert-data/">Insert data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/develop/query-data/">Query data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/develop/update-data/">Update data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/develop/web-console/">Web Console</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/importing-data/">Large CSV import (COPY SQL)</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/importing-data-rest/">Small CSV import (REST API)</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/modifying-data/">Modify data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/working-with-timestamps-timezones/">Timestamps and time zones</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/out-of-order-commit-lag/">Out-of-order commit lag</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Deployment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/deployment/aws-official-ami/">AWS Marketplace AMI</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/deployment/kubernetes/">Kubernetes</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/deployment/google-cloud-platform/">Google Cloud Platform</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/deployment/digitalocean/">DigitalOcean Droplet</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Operations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/design-for-performance/">Design for performance</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/capacity-planning/">Capacity planning</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/data-retention/">Data retention</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/health-monitoring/">Health monitoring</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/backup/">Backup and restore</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/updating-data/">Updating data</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Third-party Tools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/prometheus/">Prometheus</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/grafana/">Grafana</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">Kafka</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/kafka/overview/">Overview</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/kafka/questdb-kafka/">QuestDB Kafka connector</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/kafka/jdbc/">JDBC connector</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/telegraf/">Telegraf</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/storage-model/">Storage model</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/designated-timestamp/">Designated timestamp</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/sql-extensions/">SQL extensions</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/jit-compiler/">JIT compiler</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/partitions/">Partitions</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/symbol/">Symbol</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/indexes/">Indexes</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/geohashes/">Geospatial data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/root-directory-structure/">Root directory</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u menu__link--sublist menu__link--active" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="0">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/rest/">REST</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/postgres/">Postgres</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">InfluxDB Line Protocol</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/overview/">Overview</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/columnset-types/">Columnset Value Types</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/tcp-receiver/">TCP Receiver</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/udp-receiver/">UDP Receiver</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/authenticate/">Authenticate</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/java-embedded/">Java (embedded)</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/command-line-options/">Command-line options</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/configuration/">Configuration</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="0">ILP client libraries</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/clients/overview/">Clients overview</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/clients/java_ilp/">Java ILP client</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/datatypes/">Data types</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u menu__link--sublist menu__link--active" href="#!" tabindex="0">Functions</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menuLink_Zq3u menu__link--active active" tabindex="0" href="/docs/reference/function/aggregation/">Aggregate</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/function/analytic/">Analytic</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/function/binary/">Binary</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/function/boolean/">Boolean</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/function/conditional/">Conditional</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/function/date-time/">Date and time</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/function/meta/">Meta</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/function/numeric/">Numeric</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/function/random-value-generator/">Random value generator</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/function/row-generator/">Row generator</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/function/spatial/">Spatial</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/function/text/">Text</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/function/timestamp-generator/">Timestamp generator</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/function/timestamp/">Timestamp</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="0">Operators</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/operators/bitwise/">Bitwise</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/operators/pattern-matching/">Pattern matching</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/operators/spatial/">Spatial</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="0">SQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/sql-execution-order/">SQL execution order</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">ALTER TABLE</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-add-column/">ADD COLUMN</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-rename-column/">RENAME COLUMN</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-drop-column/">DROP COLUMN</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-attach-partition/">ATTACH PARTITION</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-detach-partition/">DETACH PARTITION</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-drop-partition/">DROP PARTITION</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-set-param/">SET PARAM</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">ALTER COLUMN</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-alter-column-add-index/">ADD INDEX</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-alter-column-drop-index/">DROP INDEX</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-alter-column-cache/">CACHE | NOCACHE</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/backup/">BACKUP</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/case/">CASE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/cast/">CAST</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/copy/">COPY</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/create-table/">CREATE TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/distinct/">DISTINCT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/fill/">FILL</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/drop/">DROP TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/group-by/">GROUP BY</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/insert/">INSERT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/join/">JOIN</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/latest-on/">LATEST ON</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/limit/">LIMIT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/order-by/">ORDER BY</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/reindex/">REINDEX</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/rename/">RENAME TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/sample-by/">SAMPLE BY</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/select/">SELECT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/show/">SHOW</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/snapshot/">SNAPSHOT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/truncate/">TRUNCATE TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/union-except-intersect/">UNION EXCEPT INTERSECT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/update/">UPDATE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/vacuum-table/">VACUUM TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/where/">WHERE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/with/">WITH</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/troubleshooting/faq/">FAQ</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/troubleshooting/os-error-codes/">List of OS error codes</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" href="/blog/tags/tutorial/">Tutorials</a></li></ul></div></div></div><main class="doc__main_VklL"><div class="padding-vert--lg container doc__item-wrapper_FIxd"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">Aggregate functions</h1></header><div class="markdown"><p>This page describes the available functions to assist with performing aggregate
calculations.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="avg"></a>avg<a class="hash-link" href="#avg" title="Direct link to heading">#</a></h2><p><code>avg(value)</code> calculates simple average of values ignoring missing data (e.g
<code>null</code> values).</p><p><strong>Arguments:</strong></p><ul><li><code>value</code> is any numeric value.</li></ul><p><strong>Return value:</strong></p><p>Return value type is <code>double</code>.</p><p><strong>Examples:</strong></p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Average transaction amount</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT avg(amount) FROM transactions;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">avg</th></tr></thead><tbody><tr><td align="left">22.4</td></tr></tbody></table><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Average transaction amount by payment_type</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT payment_type, avg(amount) FROM transactions;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">cash_or_card</th><th align="left">avg</th></tr></thead><tbody><tr><td align="left">cash</td><td align="left">22.1</td></tr><tr><td align="left">card</td><td align="left">27.4</td></tr><tr><td align="left">null</td><td align="left">18.02</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="count"></a>count<a class="hash-link" href="#count" title="Direct link to heading">#</a></h2><p><code>count()</code> or <code>count(*)</code> - counts rows irrespective of underlying data.</p><p><strong>Arguments:</strong></p><ul><li><code>count</code> does not require arguments.</li></ul><p><strong>Return value:</strong></p><p>Return value type is <code>long</code>.</p><p><strong>Examples:</strong></p><ul><li>Count of rows in the transactions table.</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT count() FROM transactions;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">count</th></tr></thead><tbody><tr><td align="left">100</td></tr></tbody></table><ul><li>Count of rows in the transactions table aggregated by <code>payment_type</code> value.</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT payment_type, count() FROM transactions;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">cash_or_card</th><th align="left">count</th></tr></thead><tbody><tr><td align="left">cash</td><td align="left">25</td></tr><tr><td align="left">card</td><td align="left">70</td></tr><tr><td align="left">null</td><td align="left">5</td></tr></tbody></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p><code>null</code> values are aggregated with <code>count()</code>.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="count_distinct"></a>count_distinct<a class="hash-link" href="#count_distinct" title="Direct link to heading">#</a></h2><p><code>count_distinct(column_name)</code> - counts distinct values in <code>string</code>, <code>symbol</code>,
<code>long256</code>, <code>long</code>, or <code>int</code> columns.</p><p><strong>Return value:</strong></p><p>Return value type is <code>long</code>.</p><p><strong>Examples:</strong></p><ul><li>Count of distinct sides in the transactions table. Side column can either be
<code>BUY</code> or <code>SELL</code> or <code>null</code></li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT count_distinct(side) FROM transactions;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">count_distinct</th></tr></thead><tbody><tr><td align="left">2</td></tr></tbody></table><ul><li>Count of distinct counterparties in the transactions table aggregated by
<code>payment_type</code> value.</li></ul><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT payment_type, count_distinct(counterparty) FROM transactions;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">cash_or_card</th><th align="left">count_distinct</th></tr></thead><tbody><tr><td align="left">cash</td><td align="left">3</td></tr><tr><td align="left">card</td><td align="left">23</td></tr><tr><td align="left">null</td><td align="left">5</td></tr></tbody></table><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p><code>null</code> values are not counted in the <code>count_distinct</code> function.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="firstlast"></a>first/last<a class="hash-link" href="#firstlast" title="Direct link to heading">#</a></h2><ul><li><code>first(column_name)</code> - returns the first value of a column.</li><li><code>last(column_name)</code> - returns the last value of a column.</li></ul><p>Supported column datatype: <code>double</code>, <code>float</code>, <code>integer</code>, <code>character</code>, <code>short</code>,
<code>byte</code>, <code>timestamp</code>, <code>date</code>, <code>long</code>, <code>geohash</code>.</p><p>If a table has a <a href="/docs/concept/designated-timestamp">designated timestamp</a>,
then the first row is always the row with the lowest timestamp (oldest) and the
last row is always the one with the highest (latest) timestamp. For a table
without a designated timestamp column, <code>first</code> returns the first row and <code>last</code>
returns the last inserted row, regardless of any timestamp column.</p><p><strong>Return value:</strong></p><p>Return value type is <code>string</code>.</p><p><strong>Examples:</strong></p><p>Given a table <code>sensors</code>, which has a designated timestamp column:</p><table><thead><tr><th align="left">device_id</th><th align="left">temperature</th><th align="left">ts</th></tr></thead><tbody><tr><td align="left">arduino-01</td><td align="left">12</td><td align="left">2021-06-02T14:33:19.970258Z</td></tr><tr><td align="left">arduino-02</td><td align="left">10</td><td align="left">2021-06-02T14:33:21.703934Z</td></tr><tr><td align="left">arduino-03</td><td align="left">18</td><td align="left">2021-06-02T14:33:23.707013Z</td></tr></tbody></table><p>The following query returns oldest value for the <code>device_id</code> column:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT first(device_id) FROM sensors;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">first</th></tr></thead><tbody><tr><td align="left">arduino-01</td></tr></tbody></table><p>The following query returns the latest symbol value for the <code>device_id</code> column:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT last(device_id) FROM sensors;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">last</th></tr></thead><tbody><tr><td align="left">arduino-03</td></tr></tbody></table><p>Without selecting a designated timestamp column, the table may be unordered and
the query may return different result. Given an unordered table
<code>sensors_unordered</code>:</p><table><thead><tr><th align="left">device_id</th><th align="left">temperature</th><th align="left">ts</th></tr></thead><tbody><tr><td align="left">arduino-01</td><td align="left">12</td><td align="left">2021-06-02T14:33:19.970258Z</td></tr><tr><td align="left">arduino-03</td><td align="left">18</td><td align="left">2021-06-02T14:33:23.707013Z</td></tr><tr><td align="left">arduino-02</td><td align="left">10</td><td align="left">2021-06-02T14:33:21.703934Z</td></tr></tbody></table><p>The following query returns the first record for the <code>device_id</code> column:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT first(device_id) FROM sensors_unordered;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">first</th></tr></thead><tbody><tr><td align="left">arduino-01</td></tr></tbody></table><p>The following query returns the last record for the <code>device_id</code> column:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT last(device_id) FROM sensors_unordered;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">last</th></tr></thead><tbody><tr><td align="left">arduino-02</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="haversine_dist_deg"></a>haversine_dist_deg<a class="hash-link" href="#haversine_dist_deg" title="Direct link to heading">#</a></h2><p><code>haversine_dist_deg(lat, lon, ts)</code> - calculates the traveled distance for a
series of latitude and longitude points.</p><p><strong>Arguments:</strong></p><ul><li><code>lat</code> is the latitude expressed as degrees in decimal format (<code>double</code>)</li><li><code>lon</code> is the longitude expressed as degrees in decimal format (<code>double</code>)</li><li><code>ts</code> is the <code>timestamp</code> for the data point</li></ul><p><strong>Return value:</strong></p><p>Return value type is <code>double</code>.</p><p><strong>Examples:</strong></p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Calculate the aggregate traveled distance for each car_id</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT car_id, haversine_dist_deg(lat, lon, k)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  FROM table rides</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="ksum"></a>ksum<a class="hash-link" href="#ksum" title="Direct link to heading">#</a></h2><p><code>ksum(value)</code> - adds values ignoring missing data (e.g <code>null</code> values). Values
are added using the</p><p><a href="https://en.wikipedia.org/wiki/Kahan_summation_algorithm" target="_blank" rel="noopener noreferrer">Kahan compensated sum algorithm</a>.
This is only beneficial for floating-point values such as <code>float</code> or <code>double</code>.</p><p><strong>Arguments:</strong></p><ul><li><code>value</code> is any numeric value.</li></ul><p><strong>Return value:</strong></p><p>Return value type is the same as the type of the argument.</p><p><strong>Examples:</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ksum(a)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">FROM (SELECT rnd_double() a FROM long_sequence(100));</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">ksum</th></tr></thead><tbody><tr><td align="left">52.79143968514029</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="max"></a>max<a class="hash-link" href="#max" title="Direct link to heading">#</a></h2><p><code>max(value)</code> - returns the highest value ignoring missing data (e.g <code>null</code>
values).</p><p><strong>Arguments:</strong></p><ul><li><code>value</code> is any numeric value</li></ul><p><strong>Return value:</strong></p><p>Return value type is the same as the type of the argument.</p><p><strong>Examples:</strong></p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Highest transaction amount</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT max(amount) FROM transactions;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">max</th></tr></thead><tbody><tr><td align="left">55.3</td></tr></tbody></table><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Highest transaction amount by payment_type</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT payment_type, max(amount) FROM transactions;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">cash_or_card</th><th align="left">amount</th></tr></thead><tbody><tr><td align="left">cash</td><td align="left">31.5</td></tr><tr><td align="left">card</td><td align="left">55.3</td></tr><tr><td align="left">null</td><td align="left">29.2</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="min"></a>min<a class="hash-link" href="#min" title="Direct link to heading">#</a></h2><p><code>min(value)</code> - returns the lowest value ignoring missing data (e.g <code>null</code>
values).</p><p><strong>Arguments:</strong></p><ul><li><code>value</code> is any numeric value</li></ul><p><strong>Return value:</strong></p><p>Return value type is the same as the type of the argument.</p><p><strong>Examples:</strong></p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Lowest transaction amount</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT min(amount) FROM transactions;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">min</th></tr></thead><tbody><tr><td align="left">12.5</td></tr></tbody></table><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Lowest transaction amount, by payment_type</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT payment_type, min(amount) FROM transactions;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">cash_or_card</th><th align="left">min</th></tr></thead><tbody><tr><td align="left">cash</td><td align="left">12.5</td></tr><tr><td align="left">card</td><td align="left">15.3</td></tr><tr><td align="left">null</td><td align="left">22.2</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="nsum"></a>nsum<a class="hash-link" href="#nsum" title="Direct link to heading">#</a></h2><p><code>nsum(value)</code> - adds values ignoring missing data (e.g <code>null</code> values). Values
are added using the
<a href="https://en.wikipedia.org/wiki/Kahan_summation_algorithm#Further_enhancements" target="_blank" rel="noopener noreferrer">Neumaier sum algorithm</a>.
This is only beneficial for floating-point values such as <code>float</code> or <code>double</code>.</p><p><strong>Arguments:</strong></p><ul><li><code>value</code> is any numeric value.</li></ul><p><strong>Return value:</strong></p><p>Return value type is <code>double</code>.</p><p><strong>Examples:</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT nsum(a)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">FROM (SELECT rnd_double() a FROM long_sequence(100));</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">nsum</th></tr></thead><tbody><tr><td align="left">49.5442334742831</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="stddev_samp"></a>stddev_samp<a class="hash-link" href="#stddev_samp" title="Direct link to heading">#</a></h2><p><code>stddev_samp(value)</code> - calculates the sample standard deviation of values
ignoring missing data (e.g <code>null</code> values).</p><p><strong>Arguments:</strong></p><ul><li><code>value</code> is any numeric value.</li></ul><p><strong>Return value:</strong></p><p>Return value type is <code>double</code>.</p><p><strong>Examples:</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT stddev_samp(x)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">FROM (SELECT x FROM long_sequence(100));</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">stddev_samp</th></tr></thead><tbody><tr><td align="left">29.011491975882</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="sum"></a>sum<a class="hash-link" href="#sum" title="Direct link to heading">#</a></h2><p><code>sum(value)</code> - adds values ignoring missing data (e.g <code>null</code> values).</p><p><strong>Arguments:</strong></p><ul><li><code>value</code> is any numeric value.</li></ul><p><strong>Return value:</strong></p><p>Return value type is the same as the type of the argument.</p><p><strong>Examples:</strong></p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Sum all quantities in the transactions table</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT sum(quantity) FROM transactions;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">sum</th></tr></thead><tbody><tr><td align="left">100</td></tr></tbody></table><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Sum all quantities in the transactions table, aggregated by item</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT item, sum(quantity) FROM transactions;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th align="left">item</th><th align="left">count</th></tr></thead><tbody><tr><td align="left">apple</td><td align="left">53</td></tr><tr><td align="left">orange</td><td align="left">47</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="overflow"></a>Overflow<a class="hash-link" href="#overflow" title="Direct link to heading">#</a></h3><p><code>sum</code> does not perform overflow check. To avoid overflow, you can cast the
argument to wider type.</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Cast as long to avoid overflow</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT sum(cast(a AS LONG)) FROM table;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/turpleio/homepage/edit/main/docs/reference/function/aggregation.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/reference/sql/datatypes"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Data types</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/reference/function/analytic"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Analytic functions »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#avg" class="table-of-contents__link">avg</a></li><li><a href="#count" class="table-of-contents__link">count</a></li><li><a href="#count_distinct" class="table-of-contents__link">count_distinct</a></li><li><a href="#firstlast" class="table-of-contents__link">first/last</a></li><li><a href="#haversine_dist_deg" class="table-of-contents__link">haversine_dist_deg</a></li><li><a href="#ksum" class="table-of-contents__link">ksum</a></li><li><a href="#max" class="table-of-contents__link">max</a></li><li><a href="#min" class="table-of-contents__link">min</a></li><li><a href="#nsum" class="table-of-contents__link">nsum</a></li><li><a href="#stddev_samp" class="table-of-contents__link">stddev_samp</a></li><li><a href="#sum" class="table-of-contents__link">sum</a><ul><li><a href="#overflow" class="table-of-contents__link">Overflow</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="root_JnvJ"><div class="content_-gfC center_S24y"><img alt="QuestDB logo" class="logo_JrwJ" src="/img/navbar/tp_brand.png" width="108" height="27"><div class="tagline_T1tH"><p>인프라관리부터 서비스운영까지 클라우드환경에 최적화된 클라우드 네이티브 플랫폼</p></div><div class="links_1SgP"></div></div><div class="border_PW0V"><div class="bottom_wPs3 center_S24y">Copyright © 2023 Gitple. All rights are reserved.</div></div></footer></div>
<script src="/assets/js/main.c107d70c.js" defer="defer"></script>
<script src="/gitplechat.js"></script>
</body>
</html>