<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3">
<meta httpequiv="x-ua-compatible" content="ie=edge">
<meta property="og:type" content="website">
<meta name="author" content="turpleio">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link href="https://www.googletagmanager.com" rel="dns-prefetch">
<link href="https://www.google-analytics.com" rel="dns-prefetch">
<link rel="icon" href="/favicon.png">
<link rel="apple-touch-icon" href="/img/icons/apple-180x180.png" sizes="180x180">
<meta name="msapplication-config" content="/browserconfig.xml">
<link rel="sitemap" type="application/xml" href="/sitemap.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PVR7M2G"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-PVR7M2G",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Turple: Cloud Native Platform" href="/opensearch.xml">
<link rel="manifest" href="/manifest.webmanifest">
<meta name="theme-color" content="#d14671">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#21222c">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Turple: Cloud Native Platform Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Turple: Cloud Native Platform Blog Atom Feed"><title data-react-helmet="true">SAMPLE BY keyword | Turple: Cloud Native Platform</title><meta data-react-helmet="true" name="twitter:description" content="Turple is a cloud native platform which can help you build and operate your services on cloud."><meta data-react-helmet="true" name="twitter:title" content="Introduction | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for &quot;Introduction | Turple: Cloud Native Platform&quot;"><meta data-react-helmet="true" property="og:title" content="SAMPLE BY keyword | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="description" content="SAMPLE BY SQL keyword reference documentation."><meta data-react-helmet="true" property="og:description" content="SAMPLE BY SQL keyword reference documentation."><meta data-react-helmet="true" property="og:image" content="https://turpleio.github.io/img/og.png"><meta data-react-helmet="true" name="twitter:image" content="https://turpleio.github.io/img/og.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link rel="stylesheet" href="/assets/css/styles.4f6557e4.css">
</head>
<body itemscope itemtype="http://schema.org/Organization">
<meta itemprop="name" content="Turple: Cloud Native Platform">
<meta itemprop="description" content="Turple is a cloud native platform which can help you build and operate your services on cloud.">
<meta itemprop="url" content="https://turpleio.github.io">
<meta itemprop="logo" content="https://turpleio.github.io/img/favicon.png">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar_wBc8 navbar--light"><div class="navbar__inner inner_Y8Z6"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand brand_AtiA" href="/">QuestDB</a></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand brand_AtiA" href="/">QuestDB</a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="wrapper_DIJ0"><div class="doc_D+rh"><div class="doc__sidebar_gVFN" role="complementary"><div class="sidebar_LIo8"><div class="menu menu--responsive thin-scrollbar menu_oAhv"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_nrF-" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" href="/docs/">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Get Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/docker/">Docker</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/binaries/">Binaries</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/homebrew/">Homebrew</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/first-database/">Create my first dataset</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/learn-more/">Learn more</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Develop</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/develop/connect/">Connect</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/develop/insert-data/">Insert data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/develop/query-data/">Query data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/develop/update-data/">Update data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/develop/web-console/">Web Console</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/importing-data/">Large CSV import (COPY SQL)</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/importing-data-rest/">Small CSV import (REST API)</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/modifying-data/">Modify data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/working-with-timestamps-timezones/">Timestamps and time zones</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/out-of-order-commit-lag/">Out-of-order commit lag</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Deployment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/deployment/aws-official-ami/">AWS Marketplace AMI</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/deployment/kubernetes/">Kubernetes</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/deployment/google-cloud-platform/">Google Cloud Platform</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/deployment/digitalocean/">DigitalOcean Droplet</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Operations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/design-for-performance/">Design for performance</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/capacity-planning/">Capacity planning</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/data-retention/">Data retention</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/health-monitoring/">Health monitoring</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/backup/">Backup and restore</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/updating-data/">Updating data</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Third-party Tools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/prometheus/">Prometheus</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/grafana/">Grafana</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">Kafka</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/kafka/overview/">Overview</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/kafka/questdb-kafka/">QuestDB Kafka connector</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/kafka/jdbc/">JDBC connector</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/telegraf/">Telegraf</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/storage-model/">Storage model</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/designated-timestamp/">Designated timestamp</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/sql-extensions/">SQL extensions</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/jit-compiler/">JIT compiler</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/partitions/">Partitions</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/symbol/">Symbol</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/indexes/">Indexes</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/geohashes/">Geospatial data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/root-directory-structure/">Root directory</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u menu__link--sublist menu__link--active" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="0">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/rest/">REST</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/postgres/">Postgres</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">InfluxDB Line Protocol</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/overview/">Overview</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/columnset-types/">Columnset Value Types</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/tcp-receiver/">TCP Receiver</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/udp-receiver/">UDP Receiver</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/authenticate/">Authenticate</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/java-embedded/">Java (embedded)</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/command-line-options/">Command-line options</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/configuration/">Configuration</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="0">ILP client libraries</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/clients/overview/">Clients overview</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/clients/java_ilp/">Java ILP client</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/datatypes/">Data types</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="0">Functions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/aggregation/">Aggregate</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/analytic/">Analytic</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/binary/">Binary</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/boolean/">Boolean</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/conditional/">Conditional</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/date-time/">Date and time</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/meta/">Meta</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/numeric/">Numeric</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/random-value-generator/">Random value generator</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/row-generator/">Row generator</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/spatial/">Spatial</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/text/">Text</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/timestamp-generator/">Timestamp generator</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/timestamp/">Timestamp</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="0">Operators</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/operators/bitwise/">Bitwise</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/operators/pattern-matching/">Pattern matching</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/operators/spatial/">Spatial</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u menu__link--sublist menu__link--active" href="#!" tabindex="0">SQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/concept/sql-execution-order/">SQL execution order</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="0">ALTER TABLE</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-add-column/">ADD COLUMN</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-rename-column/">RENAME COLUMN</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-drop-column/">DROP COLUMN</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-attach-partition/">ATTACH PARTITION</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-detach-partition/">DETACH PARTITION</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-drop-partition/">DROP PARTITION</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-set-param/">SET PARAM</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="0">ALTER COLUMN</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-alter-column-add-index/">ADD INDEX</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-alter-column-drop-index/">DROP INDEX</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-alter-column-cache/">CACHE | NOCACHE</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/backup/">BACKUP</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/case/">CASE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/cast/">CAST</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/copy/">COPY</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/create-table/">CREATE TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/distinct/">DISTINCT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/fill/">FILL</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/drop/">DROP TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/group-by/">GROUP BY</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/insert/">INSERT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/join/">JOIN</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/latest-on/">LATEST ON</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/limit/">LIMIT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/order-by/">ORDER BY</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/reindex/">REINDEX</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/rename/">RENAME TABLE</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menuLink_Zq3u menu__link--active active" tabindex="0" href="/docs/reference/sql/sample-by/">SAMPLE BY</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/select/">SELECT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/show/">SHOW</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/snapshot/">SNAPSHOT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/truncate/">TRUNCATE TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/union-except-intersect/">UNION EXCEPT INTERSECT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/update/">UPDATE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/vacuum-table/">VACUUM TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/where/">WHERE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/reference/sql/with/">WITH</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/troubleshooting/faq/">FAQ</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/troubleshooting/os-error-codes/">List of OS error codes</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" href="/blog/tags/tutorial/">Tutorials</a></li></ul></div></div></div><main class="doc__main_VklL"><div class="padding-vert--lg container doc__item-wrapper_FIxd"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">SAMPLE BY keyword</h1></header><div class="markdown"><p><code>SAMPLE BY</code> is used on time series data to summarize large datasets into
aggregates of homogeneous time chunks as part of a
<a href="/docs/reference/sql/select">SELECT statement</a>. Users performing <code>SAMPLE BY</code>
queries on datasets <strong>with missing data</strong> may make use of the
<a href="#fill-options">FILL</a> keyword to specify a fill behavior.</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Sample trades table in 30 minute intervals</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT time, avg(price) FROM trades SAMPLE BY 30m</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>To use <code>SAMPLE BY</code>, a table column needs to be specified as a designated
timestamp. Details about this concept can be found in the
<a href="/docs/concept/designated-timestamp">designated timestamp</a> documentation.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="syntax"></a>Syntax<a class="hash-link" href="#syntax" title="Direct link to heading">#</a></h2><p><img alt="Flow chart showing the syntax of the SAMPLE BY keywords" src="data:image/svg+xml;base64,Cgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjUyMyIgaGVpZ2h0PSIyODkiPgogIDxkZWZzPgogICAgPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KICAgICAgQG5hbWVzcGFjZSAiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciOwogICAgICAubGluZSAgICAgICAgICAgICAgICAge2ZpbGw6IG5vbmU7IHN0cm9rZTogIzYzNjI3Mzt9CiAgICAgIC5ib2xkLWxpbmUgICAgICAgICAgICB7c3Ryb2tlOiAjNjM2MjczOyBzaGFwZS1yZW5kZXJpbmc6IGNyaXNwRWRnZXM7IHN0cm9rZS13aWR0aDogMjsgfQogICAgICAudGhpbi1saW5lICAgICAgICAgICAge3N0cm9rZTogIzYzNjI3Mzsgc2hhcGUtcmVuZGVyaW5nOiBjcmlzcEVkZ2VzfQogICAgICAuZmlsbGVkICAgICAgICAgICAgICAge2ZpbGw6ICM2MzYyNzM7IHN0cm9rZTogbm9uZTt9CiAgICAgIHRleHQudGVybWluYWwgICAgICAgICB7Zm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCBVYnVudHUsIENhbnRhcmVsbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwogICAgICBmb250LXNpemU6IDEycHg7CiAgICAgIGZpbGw6ICNmZmZmZmY7CiAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICB9CiAgICAgIHRleHQubm9udGVybWluYWwgICAgICB7Zm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCBVYnVudHUsIENhbnRhcmVsbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwogICAgICBmb250LXNpemU6IDEycHg7CiAgICAgIGZpbGw6ICNlMjg5YTQ7CiAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgICAgIH0KICAgICAgdGV4dC5yZWdleHAgICAgICAgICAgIHtmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAiU2Vnb2UgVUkiLCBSb2JvdG8sIFVidW50dSwgQ2FudGFyZWxsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7CiAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgZmlsbDogIzAwMTQxRjsKICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICAgICAgfQogICAgICByZWN0LCBjaXJjbGUsIHBvbHlnb24ge2ZpbGw6IG5vbmU7IHN0cm9rZTogbm9uZTt9CiAgICAgIHJlY3QudGVybWluYWwgICAgICAgICB7ZmlsbDogbm9uZTsgc3Ryb2tlOiAjYmUyZjViO30KICAgICAgcmVjdC5ub250ZXJtaW5hbCAgICAgIHtmaWxsOiByZ2JhKDI1NSwyNTUsMjU1LDAuMSk7IHN0cm9rZTogbm9uZTt9CiAgICAgIHJlY3QudGV4dCAgICAgICAgICAgICB7ZmlsbDogbm9uZTsgc3Ryb2tlOiBub25lO30KICAgICAgcG9seWdvbi5yZWdleHAgICAgICAgIHtmaWxsOiAjQzdFQ0ZGOyBzdHJva2U6ICMwMzhjYmM7fQogICAgPC9zdHlsZT4KICA8L2RlZnM+CiAgPHBvbHlnb24gcG9pbnRzPSI5IDE3IDEgMTMgMSAyMSIvPgogIDxwb2x5Z29uIHBvaW50cz0iMTcgMTcgOSAxMyA5IDIxIi8+CiAgPGEgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHhsaW5rOmhyZWY9IiNzb21lU2VsZWN0U3RhdGVtZW50Li4uIiB4bGluazp0aXRsZT0ic29tZVNlbGVjdFN0YXRlbWVudC4uLiI+CiAgICA8cmVjdCB4PSIzMSIgeT0iMyIgd2lkdGg9IjE3MiIgaGVpZ2h0PSIzMiIvPgogICAgPHJlY3QgeD0iMjkiIHk9IjEiIHdpZHRoPSIxNzIiIGhlaWdodD0iMzIiIGNsYXNzPSJub250ZXJtaW5hbCIvPgogICAgPHRleHQgY2xhc3M9Im5vbnRlcm1pbmFsIiB4PSIzOSIgeT0iMjEiPnNvbWVTZWxlY3RTdGF0ZW1lbnQuLi48L3RleHQ+CiAgPC9hPgogIDxyZWN0IHg9IjIyMyIgeT0iMyIgd2lkdGg9Ijc0IiBoZWlnaHQ9IjMyIiByeD0iMTAiLz4KICA8cmVjdCB4PSIyMjEiIHk9IjEiIHdpZHRoPSI3NCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiLz4KICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjIzMSIgeT0iMjEiPlNBTVBMRTwvdGV4dD4KICA8cmVjdCB4PSIzMTciIHk9IjMiIHdpZHRoPSIzOCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgPHJlY3QgeD0iMzE1IiB5PSIxIiB3aWR0aD0iMzgiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIi8+CiAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSIzMjUiIHk9IjIxIj5CWTwvdGV4dD4KICA8YSB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeGxpbms6aHJlZj0iI24iIHhsaW5rOnRpdGxlPSJuIj4KICAgIDxyZWN0IHg9IjM3NSIgeT0iMyIgd2lkdGg9IjI4IiBoZWlnaHQ9IjMyIi8+CiAgICA8cmVjdCB4PSIzNzMiIHk9IjEiIHdpZHRoPSIyOCIgaGVpZ2h0PSIzMiIgY2xhc3M9Im5vbnRlcm1pbmFsIi8+CiAgICA8dGV4dCBjbGFzcz0ibm9udGVybWluYWwiIHg9IjM4MyIgeT0iMjEiPm48L3RleHQ+CiAgPC9hPgogIDxyZWN0IHg9IjQ0MyIgeT0iMzUiIHdpZHRoPSIyOCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgPHJlY3QgeD0iNDQxIiB5PSIzMyIgd2lkdGg9IjI4IiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCIvPgogIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iNDUxIiB5PSI1MyI+VDwvdGV4dD4KICA8cmVjdCB4PSI0NDMiIHk9Ijc5IiB3aWR0aD0iMjYiIGhlaWdodD0iMzIiIHJ4PSIxMCIvPgogIDxyZWN0IHg9IjQ0MSIgeT0iNzciIHdpZHRoPSIyNiIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiLz4KICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjQ1MSIgeT0iOTciPnM8L3RleHQ+CiAgPHJlY3QgeD0iNDQzIiB5PSIxMjMiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgPHJlY3QgeD0iNDQxIiB5PSIxMjEiIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiLz4KICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjQ1MSIgeT0iMTQxIj5tPC90ZXh0PgogIDxyZWN0IHg9IjQ0MyIgeT0iMTY3IiB3aWR0aD0iMjgiIGhlaWdodD0iMzIiIHJ4PSIxMCIvPgogIDxyZWN0IHg9IjQ0MSIgeT0iMTY1IiB3aWR0aD0iMjgiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIi8+CiAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSI0NTEiIHk9IjE4NSI+aDwvdGV4dD4KICA8cmVjdCB4PSI0NDMiIHk9IjIxMSIgd2lkdGg9IjI4IiBoZWlnaHQ9IjMyIiByeD0iMTAiLz4KICA8cmVjdCB4PSI0NDEiIHk9IjIwOSIgd2lkdGg9IjI4IiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCIvPgogIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iNDUxIiB5PSIyMjkiPmQ8L3RleHQ+CiAgPHJlY3QgeD0iNDQzIiB5PSIyNTUiIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgPHJlY3QgeD0iNDQxIiB5PSIyNTMiIHdpZHRoPSIzMCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiLz4KICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjQ1MSIgeT0iMjczIj5NPC90ZXh0PgogIDxzdmc6cGF0aCB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBjbGFzcz0ibGluZSIgZD0ibTE3IDE3IGgyIG0wIDAgaDEwIG0xNzIgMCBoMTAgbTAgMCBoMTAgbTc0IDAgaDEwIG0wIDAgaDEwIG0zOCAwIGgxMCBtMCAwIGgxMCBtMjggMCBoMTAgbTIwIDAgaDEwIG0wIDAgaDQyIG0tNzIgMCBoMjAgbTUyIDAgaDIwIG0tOTIgMCBxMTAgMCAxMCAxMCBtNzIgMCBxMCAtMTAgMTAgLTEwIG0tODIgMTAgdjEyIG03MiAwIHYtMTIgbS03MiAxMiBxMCAxMCAxMCAxMCBtNTIgMCBxMTAgMCAxMCAtMTAgbS02MiAxMCBoMTAgbTI4IDAgaDEwIG0wIDAgaDQgbS02MiAtMTAgdjIwIG03MiAwIHYtMjAgbS03MiAyMCB2MjQgbTcyIDAgdi0yNCBtLTcyIDI0IHEwIDEwIDEwIDEwIG01MiAwIHExMCAwIDEwIC0xMCBtLTYyIDEwIGgxMCBtMjYgMCBoMTAgbTAgMCBoNiBtLTYyIC0xMCB2MjAgbTcyIDAgdi0yMCBtLTcyIDIwIHYyNCBtNzIgMCB2LTI0IG0tNzIgMjQgcTAgMTAgMTAgMTAgbTUyIDAgcTEwIDAgMTAgLTEwIG0tNjIgMTAgaDEwIG0zMiAwIGgxMCBtLTYyIC0xMCB2MjAgbTcyIDAgdi0yMCBtLTcyIDIwIHYyNCBtNzIgMCB2LTI0IG0tNzIgMjQgcTAgMTAgMTAgMTAgbTUyIDAgcTEwIDAgMTAgLTEwIG0tNjIgMTAgaDEwIG0yOCAwIGgxMCBtMCAwIGg0IG0tNjIgLTEwIHYyMCBtNzIgMCB2LTIwIG0tNzIgMjAgdjI0IG03MiAwIHYtMjQgbS03MiAyNCBxMCAxMCAxMCAxMCBtNTIgMCBxMTAgMCAxMCAtMTAgbS02MiAxMCBoMTAgbTI4IDAgaDEwIG0wIDAgaDQgbS02MiAtMTAgdjIwIG03MiAwIHYtMjAgbS03MiAyMCB2MjQgbTcyIDAgdi0yNCBtLTcyIDI0IHEwIDEwIDEwIDEwIG01MiAwIHExMCAwIDEwIC0xMCBtLTYyIDEwIGgxMCBtMzAgMCBoMTAgbTAgMCBoMiBtMjMgLTI1MiBoLTMiLz4KICA8cG9seWdvbiBwb2ludHM9IjUxMyAxNyA1MjEgMTMgNTIxIDIxIi8+CiAgPHBvbHlnb24gcG9pbnRzPSI1MTMgMTcgNTA1IDEzIDUwNSAyMSIvPgo8L3N2Zz4K">
<img alt="Flow chart showing the syntax of the ALIGN TO keywords" src="data:image/svg+xml;base64,Cgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgd2lkdGg9IjEwMDAiIGhlaWdodD0iMjAwIj4KICA8ZGVmcz4KICAgIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+CiAgICAgIEBuYW1lc3BhY2UgImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjsKICAgICAgLmxpbmUgICAgICAgICAgICAgICAgIHtmaWxsOiBub25lOyBzdHJva2U6ICM2MzYyNzM7fQogICAgICAuYm9sZC1saW5lICAgICAgICAgICAge3N0cm9rZTogIzYzNjI3Mzsgc2hhcGUtcmVuZGVyaW5nOiBjcmlzcEVkZ2VzOyBzdHJva2Utd2lkdGg6IDI7IH0KICAgICAgLnRoaW4tbGluZSAgICAgICAgICAgIHtzdHJva2U6ICM2MzYyNzM7IHNoYXBlLXJlbmRlcmluZzogY3Jpc3BFZGdlc30KICAgICAgLmZpbGxlZCAgICAgICAgICAgICAgIHtmaWxsOiAjNjM2MjczOyBzdHJva2U6IG5vbmU7fQogICAgICB0ZXh0LnRlcm1pbmFsICAgICAgICAge2ZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJTZWdvZSBVSSIsIFJvYm90bywgVWJ1bnR1LCBDYW50YXJlbGwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsKICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICBmaWxsOiAjZmZmZmZmOwogICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgfQogICAgICB0ZXh0Lm5vbnRlcm1pbmFsICAgICAge2ZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsICJTZWdvZSBVSSIsIFJvYm90bywgVWJ1bnR1LCBDYW50YXJlbGwsIEhlbHZldGljYSwgc2Fucy1zZXJpZjsKICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICBmaWxsOiAjZTI4OWE0OwogICAgICBmb250LXdlaWdodDogbm9ybWFsOwogICAgICB9CiAgICAgIHRleHQucmVnZXhwICAgICAgICAgICB7Zm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCBVYnVudHUsIENhbnRhcmVsbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwogICAgICBmb250LXNpemU6IDEycHg7CiAgICAgIGZpbGw6ICMwMDE0MUY7CiAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgICAgIH0KICAgICAgcmVjdCwgY2lyY2xlLCBwb2x5Z29uIHtmaWxsOiBub25lOyBzdHJva2U6IG5vbmU7fQogICAgICByZWN0LnRlcm1pbmFsICAgICAgICAge2ZpbGw6IG5vbmU7IHN0cm9rZTogI2JlMmY1Yjt9CiAgICAgIHJlY3Qubm9udGVybWluYWwgICAgICB7ZmlsbDogcmdiYSgyNTUsMjU1LDI1NSwwLjEpOyBzdHJva2U6IG5vbmU7fQogICAgICByZWN0LnRleHQgICAgICAgICAgICAge2ZpbGw6IG5vbmU7IHN0cm9rZTogbm9uZTt9CiAgICAgIHBvbHlnb24ucmVnZXhwICAgICAgICB7ZmlsbDogI0M3RUNGRjsgc3Ryb2tlOiAjMDM4Y2JjO30KICAgIDwvc3R5bGU+CiAgICAgICAgIDwvZGVmcz4KICAgICAgICAgPHBvbHlnb24gcG9pbnRzPSI5IDE3IDEgMTMgMSAyMSIvPgogICAgICAgICA8cG9seWdvbiBwb2ludHM9IjE3IDE3IDkgMTMgOSAyMSIvPgogICAgICAgICA8cmVjdCB4PSIzMSIgeT0iMyIgd2lkdGg9IjY0IiBoZWlnaHQ9IjMyIiByeD0iMTAiLz4KICAgICAgICAgPHJlY3QgeD0iMjkiIHk9IjEiIHdpZHRoPSI2NCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiLz4KICAgICAgICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSIzOSIgeT0iMjEiPkFMSUdOPC90ZXh0PgogICAgICAgICA8cmVjdCB4PSIxMTUiIHk9IjMiIHdpZHRoPSIzOCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICAgICAgIDxyZWN0IHg9IjExMyIgeT0iMSIgd2lkdGg9IjM4IiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCIvPgogICAgICAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjEyMyIgeT0iMjEiPlRPPC90ZXh0PgogICAgICAgICA8cmVjdCB4PSIxOTMiIHk9IjMiIHdpZHRoPSI2MCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICAgICAgIDxyZWN0IHg9IjE5MSIgeT0iMSIgd2lkdGg9IjYwIiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCIvPgogICAgICAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjIwMSIgeT0iMjEiPkZJUlNUPC90ZXh0PgogICAgICAgICA8cmVjdCB4PSIyNzMiIHk9IjMiIHdpZHRoPSIxMjAiIGhlaWdodD0iMzIiIHJ4PSIxMCIvPgogICAgICAgICA8cmVjdCB4PSIyNzEiIHk9IjEiIHdpZHRoPSIxMjAiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIi8+CiAgICAgICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iMjgxIiB5PSIyMSI+T0JTRVJWQVRJT048L3RleHQ+CiAgICAgICAgIDxyZWN0IHg9IjE5MyIgeT0iNDciIHdpZHRoPSI5MiIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICAgICAgIDxyZWN0IHg9IjE5MSIgeT0iNDUiIHdpZHRoPSI5MiIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiLz4KICAgICAgICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSIyMDEiIHk9IjY1Ij5DQUxFTkRBUjwvdGV4dD4KICAgICAgICAgPHJlY3QgeD0iMzI1IiB5PSI3OSIgd2lkdGg9IjU0IiBoZWlnaHQ9IjMyIiByeD0iMTAiLz4KICAgICAgICAgPHJlY3QgeD0iMzIzIiB5PSI3NyIgd2lkdGg9IjU0IiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCIvPgogICAgICAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjMzMyIgeT0iOTciPlRJTUU8L3RleHQ+CiAgICAgICAgIDxyZWN0IHg9IjM5OSIgeT0iNzkiIHdpZHRoPSI1OCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICAgICAgIDxyZWN0IHg9IjM5NyIgeT0iNzciIHdpZHRoPSI1OCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiLz4KICAgICAgICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSI0MDciIHk9Ijk3Ij5aT05FPC90ZXh0PjxhIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4bGluazpocmVmPSIjdGltZXpvbmUiIHhsaW5rOnRpdGxlPSJ0aW1lem9uZSI+CiAgICAgICAgICAgIDxyZWN0IHg9IjQ3NyIgeT0iNzkiIHdpZHRoPSI3OCIgaGVpZ2h0PSIzMiIvPgogICAgICAgICAgICA8cmVjdCB4PSI0NzUiIHk9Ijc3IiB3aWR0aD0iNzgiIGhlaWdodD0iMzIiIGNsYXNzPSJub250ZXJtaW5hbCIvPgogICAgICAgICAgICA8dGV4dCBjbGFzcz0ibm9udGVybWluYWwiIHg9IjQ4NSIgeT0iOTciPnRpbWV6b25lPC90ZXh0PjwvYT48cmVjdCB4PSIzMjUiIHk9IjEyMyIgd2lkdGg9IjU4IiBoZWlnaHQ9IjMyIiByeD0iMTAiLz4KICAgICAgICAgPHJlY3QgeD0iMzIzIiB5PSIxMjEiIHdpZHRoPSI1OCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiLz4KICAgICAgICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSIzMzMiIHk9IjE0MSI+V0lUSDwvdGV4dD4KICAgICAgICAgPHJlY3QgeD0iNDAzIiB5PSIxMjMiIHdpZHRoPSI3MiIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICAgICAgIDxyZWN0IHg9IjQwMSIgeT0iMTIxIiB3aWR0aD0iNzIiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIi8+CiAgICAgICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iNDExIiB5PSIxNDEiPk9GRlNFVDwvdGV4dD48YSB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeGxpbms6aHJlZj0iI29mZnNldCIgeGxpbms6dGl0bGU9Im9mZnNldCI+CiAgICAgICAgICAgIDxyZWN0IHg9IjQ5NSIgeT0iMTIzIiB3aWR0aD0iNTYiIGhlaWdodD0iMzIiLz4KICAgICAgICAgICAgPHJlY3QgeD0iNDkzIiB5PSIxMjEiIHdpZHRoPSI1NiIgaGVpZ2h0PSIzMiIgY2xhc3M9Im5vbnRlcm1pbmFsIi8+CiAgICAgICAgICAgIDx0ZXh0IGNsYXNzPSJub250ZXJtaW5hbCIgeD0iNTAzIiB5PSIxNDEiPm9mZnNldDwvdGV4dD48L2E+PHBhdGggeG1sbnM6c3ZnPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgY2xhc3M9ImxpbmUiIGQ9Im0xNyAxNyBoMiBtMCAwIGgxMCBtNjQgMCBoMTAgbTAgMCBoMTAgbTM4IDAgaDEwIG0yMCAwIGgxMCBtNjAgMCBoMTAgbTAgMCBoMTAgbTEyMCAwIGgxMCBtMCAwIGgxODIgbS00MjIgMCBoMjAgbTQwMiAwIGgyMCBtLTQ0MiAwIHExMCAwIDEwIDEwIG00MjIgMCBxMCAtMTAgMTAgLTEwIG0tNDMyIDEwIHYyNCBtNDIyIDAgdi0yNCBtLTQyMiAyNCBxMCAxMCAxMCAxMCBtNDAyIDAgcTEwIDAgMTAgLTEwIG0tNDEyIDEwIGgxMCBtOTIgMCBoMTAgbTIwIDAgaDEwIG0wIDAgaDI0MCBtLTI3MCAwIGgyMCBtMjUwIDAgaDIwIG0tMjkwIDAgcTEwIDAgMTAgMTAgbTI3MCAwIHEwIC0xMCAxMCAtMTAgbS0yODAgMTAgdjEyIG0yNzAgMCB2LTEyIG0tMjcwIDEyIHEwIDEwIDEwIDEwIG0yNTAgMCBxMTAgMCAxMCAtMTAgbS0yNjAgMTAgaDEwIG01NCAwIGgxMCBtMCAwIGgxMCBtNTggMCBoMTAgbTAgMCBoMTAgbTc4IDAgaDEwIG0tMjYwIC0xMCB2MjAgbTI3MCAwIHYtMjAgbS0yNzAgMjAgdjI0IG0yNzAgMCB2LTI0IG0tMjcwIDI0IHEwIDEwIDEwIDEwIG0yNTAgMCBxMTAgMCAxMCAtMTAgbS0yNjAgMTAgaDEwIG01OCAwIGgxMCBtMCAwIGgxMCBtNzIgMCBoMTAgbTAgMCBoMTAgbTU2IDAgaDEwIG0wIDAgaDQgbTQzIC0xMjAgaC0zIi8+CiAgICAgICAgIDxwb2x5Z29uIHBvaW50cz0iNjEzIDE3IDYyMSAxMyA2MjEgMjEiLz4KICAgICAgICAgPHBvbHlnb24gcG9pbnRzPSI2MTMgMTcgNjA1IDEzIDYwNSAyMSIvPjwvc3ZnPg==">
<img alt="Flow chart showing the syntax of the FILL keyword" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI5NjEiIGhlaWdodD0iMjg5Ij4KICAgIDxkZWZzPgogICAgICAgIDxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+CiAgICAgICAgICAgIEBuYW1lc3BhY2UgImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIjsKICAgICAgICAgICAgICAgIC5saW5lICAgICAgICAgICAgICAgICB7ZmlsbDogbm9uZTsgc3Ryb2tlOiAjNjM2MjczO30KICAgICAgICAgICAgICAgIC5ib2xkLWxpbmUgICAgICAgICAgICB7c3Ryb2tlOiAjNjM2MjczOyBzaGFwZS1yZW5kZXJpbmc6IGNyaXNwRWRnZXM7IHN0cm9rZS13aWR0aDogMjsgfQogICAgICAgICAgICAgICAgLnRoaW4tbGluZSAgICAgICAgICAgIHtzdHJva2U6ICM2MzYyNzM7IHNoYXBlLXJlbmRlcmluZzogY3Jpc3BFZGdlc30KICAgICAgICAgICAgICAgIC5maWxsZWQgICAgICAgICAgICAgICB7ZmlsbDogIzYzNjI3Mzsgc3Ryb2tlOiBub25lO30KICAgICAgICAgICAgICAgIHRleHQudGVybWluYWwgICAgICAgICB7Zm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCBVYnVudHUsIENhbnRhcmVsbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgZmlsbDogI2ZmZmZmZjsKICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgdGV4dC5ub250ZXJtaW5hbCAgICAgIHtmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAiU2Vnb2UgVUkiLCBSb2JvdG8sIFVidW50dSwgQ2FudGFyZWxsLCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWY7CiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgICAgICBmaWxsOiAjZTI4OWE0OwogICAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IG5vcm1hbDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHRleHQucmVnZXhwICAgICAgICAgICB7Zm9udC1mYW1pbHk6IC1hcHBsZS1zeXN0ZW0sIEJsaW5rTWFjU3lzdGVtRm9udCwgIlNlZ29lIFVJIiwgUm9ib3RvLCBVYnVudHUsIENhbnRhcmVsbCwgSGVsdmV0aWNhLCBzYW5zLXNlcmlmOwogICAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4OwogICAgICAgICAgICAgICAgZmlsbDogIzAwMTQxRjsKICAgICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZWN0LCBjaXJjbGUsIHBvbHlnb24ge2ZpbGw6IG5vbmU7IHN0cm9rZTogbm9uZTt9CiAgICAgICAgICAgICAgICByZWN0LnRlcm1pbmFsICAgICAgICAge2ZpbGw6IG5vbmU7IHN0cm9rZTogI2JlMmY1Yjt9CiAgICAgICAgICAgICAgICByZWN0Lm5vbnRlcm1pbmFsICAgICAge2ZpbGw6IHJnYmEoMjU1LDI1NSwyNTUsMC4xKTsgc3Ryb2tlOiBub25lO30KICAgICAgICAgICAgICAgIHJlY3QudGV4dCAgICAgICAgICAgICB7ZmlsbDogbm9uZTsgc3Ryb2tlOiBub25lO30KICAgICAgICAgICAgICAgIHBvbHlnb24ucmVnZXhwICAgICAgICB7ZmlsbDogI0M3RUNGRjsgc3Ryb2tlOiAjMDM4Y2JjO30KICAgICAgICA8L3N0eWxlPgogICAgPC9kZWZzPgogICAgPHBvbHlnb24gcG9pbnRzPSI5IDMzIDEgMjkgMSAzNyIvPgogICAgPHBvbHlnb24gcG9pbnRzPSIxNyAzMyA5IDI5IDkgMzciLz48YSB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeGxpbms6aHJlZj0iI3NvbWVTYW1wbGVCeVNlbGVjdFF1ZXJ5IiB4bGluazp0aXRsZT0ic29tZVNhbXBsZUJ5U2VsZWN0UXVlcnkiPgogICAgPHJlY3QgeD0iMzEiIHk9IjE5IiB3aWR0aD0iMTkyIiBoZWlnaHQ9IjMyIi8+CiAgICA8cmVjdCB4PSIyOSIgeT0iMTciIHdpZHRoPSIxOTIiIGhlaWdodD0iMzIiIGNsYXNzPSJub250ZXJtaW5hbCIvPgogICAgPHRleHQgY2xhc3M9Im5vbnRlcm1pbmFsIiB4PSIzOSIgeT0iMzciPnNvbWVTYW1wbGVCeVNlbGVjdFF1ZXJ5PC90ZXh0PjwvYT48cmVjdCB4PSIyNDMiIHk9IjE5IiB3aWR0aD0iNTAiIGhlaWdodD0iMzIiIHJ4PSIxMCIvPgogICAgPHJlY3QgeD0iMjQxIiB5PSIxNyIgd2lkdGg9IjUwIiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCIvPgogICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSIyNTEiIHk9IjM3Ij5GSUxMPC90ZXh0PgogICAgPHJlY3QgeD0iMzczIiB5PSIxOSIgd2lkdGg9IjU4IiBoZWlnaHQ9IjMyIiByeD0iMTAiLz4KICAgIDxyZWN0IHg9IjM3MSIgeT0iMTciIHdpZHRoPSI1OCIgaGVpZ2h0PSIzMiIgY2xhc3M9InRlcm1pbmFsIiByeD0iMTAiLz4KICAgIDx0ZXh0IGNsYXNzPSJ0ZXJtaW5hbCIgeD0iMzgxIiB5PSIzNyI+Tk9ORTwvdGV4dD4KICAgIDxyZWN0IHg9IjM3MyIgeT0iNjMiIHdpZHRoPSI1NiIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICA8cmVjdCB4PSIzNzEiIHk9IjYxIiB3aWR0aD0iNTYiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIi8+CiAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjM4MSIgeT0iODEiPk5VTEw8L3RleHQ+CiAgICA8cmVjdCB4PSIzNzMiIHk9IjEwNyIgd2lkdGg9IjU2IiBoZWlnaHQ9IjMyIiByeD0iMTAiLz4KICAgIDxyZWN0IHg9IjM3MSIgeT0iMTA1IiB3aWR0aD0iNTYiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIi8+CiAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjM4MSIgeT0iMTI1Ij5QUkVWPC90ZXh0PgogICAgPHJlY3QgeD0iMzczIiB5PSIxNTEiIHdpZHRoPSI3MiIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICA8cmVjdCB4PSIzNzEiIHk9IjE0OSIgd2lkdGg9IjcyIiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCIvPgogICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSIzODEiIHk9IjE2OSI+TElORUFSPC90ZXh0PgogICAgPHJlY3QgeD0iMzczIiB5PSIxOTUiIHdpZHRoPSIyOCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICA8cmVjdCB4PSIzNzEiIHk9IjE5MyIgd2lkdGg9IjI4IiBoZWlnaHQ9IjMyIiBjbGFzcz0idGVybWluYWwiIHJ4PSIxMCIvPgogICAgPHRleHQgY2xhc3M9InRlcm1pbmFsIiB4PSIzODEiIHk9IjIxMyI+eDwvdGV4dD4KICAgIDxyZWN0IHg9IjQ4NSIgeT0iMTkiIHdpZHRoPSIyNCIgaGVpZ2h0PSIzMiIgcng9IjEwIi8+CiAgICA8cmVjdCB4PSI0ODMiIHk9IjE3IiB3aWR0aD0iMjQiIGhlaWdodD0iMzIiIGNsYXNzPSJ0ZXJtaW5hbCIgcng9IjEwIi8+CiAgICA8dGV4dCBjbGFzcz0idGVybWluYWwiIHg9IjQ5MyIgeT0iMzciPiw8L3RleHQ+CiAgICA8cGF0aCB4bWxuczpzdmc9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiBjbGFzcz0ibGluZSIgZD0ibTE3IDMzIGgyIG0wIDAgaDEwIG0xOTIgMCBoMTAgbTAgMCBoMTAgbTUwIDAgaDEwIG02MCAwIGgxMCBtNTggMCBoMTAgbTAgMCBoMTQgbS0xMTIgMCBoMjAgbTkyIDAgaDIwIG0tMTMyIDAgcTEwIDAgMTAgMTAgbTExMiAwIHEwIC0xMCAxMCAtMTAgbS0xMjIgMTAgdjI0IG0xMTIgMCB2LTI0IG0tMTEyIDI0IHEwIDEwIDEwIDEwIG05MiAwIHExMCAwIDEwIC0xMCBtLTEwMiAxMCBoMTAgbTU2IDAgaDEwIG0wIDAgaDE2IG0tMTAyIC0xMCB2MjAgbTExMiAwIHYtMjAgbS0xMTIgMjAgdjI0IG0xMTIgMCB2LTI0IG0tMTEyIDI0IHEwIDEwIDEwIDEwIG05MiAwIHExMCAwIDEwIC0xMCBtLTEwMiAxMCBoMTAgbTU2IDAgaDEwIG0wIDAgaDE2IG0tMTAyIC0xMCB2MjAgbTExMiAwIHYtMjAgbS0xMTIgMjAgdjI0IG0xMTIgMCB2LTI0IG0tMTEyIDI0IHEwIDEwIDEwIDEwIG05MiAwIHExMCAwIDEwIC0xMCBtLTEwMiAxMCBoMTAgbTcyIDAgaDEwIG0tMTAyIC0xMCB2MjAgbTExMiAwIHYtMjAgbS0xMTIgMjAgdjI0IG0xMTIgMCB2LTI0IG0tMTEyIDI0IHEwIDEwIDEwIDEwIG05MiAwIHExMCAwIDEwIC0xMCBtLTEwMiAxMCBoMTAgbTI4IDAgaDEwIG0wIDAgaDQ0IG0yMCAtMTc2IGgxMCBtMjQgMCBoMTAgbS0xOTYgMCBsMjAgMCBtLTEgMCBxLTkgMCAtOSAtMTAgbDAgLTEyIHEwIC0xMCAxMCAtMTAgbTE3NiAzMiBsMjAgMCBtLTIwIDAgcTEwIDAgMTAgLTEwIGwwIC0xMiBxMCAtMTAgLTEwIC0xMCBtLTE3NiAwIGgxMCBtMCAwIGgxNjYgbS0yMTYgMzIgaDIwIG0yMTYgMCBoMjAgbS0yNTYgMCBxMTAgMCAxMCAxMCBtMjM2IDAgcTAgLTEwIDEwIC0xMCBtLTI0NiAxMCB2MTkwIG0yMzYgMCB2LTE5MCBtLTIzNiAxOTAgcTAgMTAgMTAgMTAgbTIxNiAwIHExMCAwIDEwIC0xMCBtLTIyNiAxMCBoMTAgbTAgMCBoMjA2IG0yMyAtMjEwIGgtMyIvPgogICAgPHBvbHlnb24gcG9pbnRzPSI1NjcgMzMgNTc1IDI5IDU3NSAzNyIvPgogICAgPHBvbHlnb24gcG9pbnRzPSI1NjcgMzMgNTU5IDI5IDU1OSAzNyIvPjwvc3ZnPgo="></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="sample-units"></a>Sample units<a class="hash-link" href="#sample-units" title="Direct link to heading">#</a></h2><p>The size of sampled groups are specified with the following syntax:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY n{units}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Where the unit for sampled groups may be one of the following:</p><table><thead><tr><th>unit</th><th>description</th></tr></thead><tbody><tr><td><code>U</code></td><td>microsecond</td></tr><tr><td><code>T</code></td><td>millisecond</td></tr><tr><td><code>s</code></td><td>second</td></tr><tr><td><code>m</code></td><td>minute</td></tr><tr><td><code>h</code></td><td>hour</td></tr><tr><td><code>d</code></td><td>day</td></tr><tr><td><code>M</code></td><td>month</td></tr></tbody></table><p>For example, given a table <code>trades</code>, the following query returns the number of
trades per hour:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count() FROM trades SAMPLE BY 1h</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="fill-options"></a>Fill options<a class="hash-link" href="#fill-options" title="Direct link to heading">#</a></h2><p>The <code>FILL</code> keyword is optional and expects one or more <code>fillOption</code> strategies
which will be applied to one or more aggregate columns. The following
restrictions apply:</p><ul><li>Keywords denoting fill strategies may not be combined. Only one option from
<code>NONE</code>, <code>NULL</code>, <code>PREV</code>, <code>LINEAR</code> and constants may be used.</li><li><code>LINEAR</code> strategy is not supported for keyed queries, i.e. queries that
contain non-aggregated columns other than the timestamp in the SELECT clause.</li></ul><table><thead><tr><th>fillOption</th><th>Description</th></tr></thead><tbody><tr><td><code>NONE</code></td><td>No fill applied. If there is no data, the time sample will be skipped in the results. A table could be missing intervals.</td></tr><tr><td><code>NULL</code></td><td>Fills with <code>NULL</code> values.</td></tr><tr><td><code>PREV</code></td><td>Fills using the previous value.</td></tr><tr><td><code>LINEAR</code></td><td>Fills by linear interpolation of the 2 surrounding points.</td></tr><tr><td><code>x</code></td><td>Fills with a constant value - where <code>x</code> is the desired value, for example <code>FILL(100.05)</code>.</td></tr></tbody></table><p>Consider an example table named <code>prices</code> which has no records during the entire
third hour (<code>2021-01-01T03</code>):</p><table><thead><tr><th>ts</th><th>price</th></tr></thead><tbody><tr><td>2021-01-01T01:00:00.000000Z</td><td>p1</td></tr><tr><td>2021-01-01T02:00:00.000000Z</td><td>p2</td></tr><tr><td>2021-01-01T04:00:00.000000Z</td><td>p4</td></tr><tr><td>2021-01-01T05:00:00.000000Z</td><td>p5</td></tr></tbody></table><p>The following query returns the maximum price per hour. As there are missing
values, an aggregate cannot be calculated:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, max(price) max FROM prices SAMPLE BY 1h;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>A row is missing for the <code>2021-01-01T03:00:00.000000Z</code> sample:</p><table><thead><tr><th>ts</th><th>max</th></tr></thead><tbody><tr><td>2021-01-01T01:00:00.000000Z</td><td>max1</td></tr><tr><td>2021-01-01T02:00:00.000000Z</td><td>max2</td></tr><tr><td>2021-01-01T04:00:00.000000Z</td><td>max4</td></tr><tr><td>2021-01-01T05:00:00.000000Z</td><td>max5</td></tr></tbody></table><p>A <code>FILL</code> strategy can be employed which fills with the previous value using
<code>PREV</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, max(price) max FROM prices SAMPLE BY 1h FILL(PREV);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th>ts</th><th>max</th></tr></thead><tbody><tr><td>2021-01-01T01:00:00.000000Z</td><td>max1</td></tr><tr><td>2021-01-01T02:00:00.000000Z</td><td>max2</td></tr><tr><td><strong>2021-01-01T03:00:00.000000Z</strong></td><td><strong>max2</strong></td></tr><tr><td>2021-01-01T04:00:00.000000Z</td><td>max4</td></tr><tr><td>2021-01-01T05:00:00.000000Z</td><td>max5</td></tr></tbody></table><p>Linear interpolation is done using the <code>LINEAR</code> fill option:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, max(price) max FROM prices SAMPLE BY 1h FILL(LINEAR);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th>ts</th><th>max</th></tr></thead><tbody><tr><td>2021-01-01T01:00:00.000000Z</td><td>max1</td></tr><tr><td>2021-01-01T02:00:00.000000Z</td><td>max2</td></tr><tr><td><strong>2021-01-01T03:00:00.000000Z</strong></td><td><strong>(max2+max4)/2</strong></td></tr><tr><td>2021-01-01T04:00:00.000000Z</td><td>max4</td></tr><tr><td>2021-01-01T05:00:00.000000Z</td><td>max5</td></tr></tbody></table><p>A constant value can be used as a <code>fillOption</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, max(price) max FROM prices SAMPLE BY 1h FILL(100.5);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th>ts</th><th>max</th></tr></thead><tbody><tr><td>2021-01-01T01:00:00.000000Z</td><td>max1</td></tr><tr><td>2021-01-01T02:00:00.000000Z</td><td>max2</td></tr><tr><td><strong>2021-01-01T03:00:00.000000Z</strong></td><td><strong>100.5</strong></td></tr><tr><td>2021-01-01T04:00:00.000000Z</td><td>max4</td></tr><tr><td>2021-01-01T05:00:00.000000Z</td><td>max5</td></tr></tbody></table><p>Finally, <code>NULL</code> may be used as a <code>fillOption</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, max(price) max FROM prices SAMPLE BY 1h FILL(NULL);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th>ts</th><th>max</th></tr></thead><tbody><tr><td>2021-01-01T01:00:00.000000Z</td><td>max1</td></tr><tr><td>2021-01-01T02:00:00.000000Z</td><td>max2</td></tr><tr><td><strong>2021-01-01T03:00:00.000000Z</strong></td><td><strong>null</strong></td></tr><tr><td>2021-01-01T04:00:00.000000Z</td><td>max4</td></tr><tr><td>2021-01-01T05:00:00.000000Z</td><td>max5</td></tr></tbody></table><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>The <code>FILL</code> keyword must precede alignment described in the
<a href="#sample-calculation">sample calculation section</a>, i.e.:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, max(price) max FROM prices</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1h FILL(LINEAR)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">ALIGN TO ...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="multiple-fill-values"></a>Multiple fill values<a class="hash-link" href="#multiple-fill-values" title="Direct link to heading">#</a></h3><p><code>FILL()</code> accepts a list of values where each value corresponds to a single
aggregate column in the SELECT clause order:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT min(price), max(price), avg(price), ts</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">FROM prices</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1h</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">FILL(NULL, 10, PREV);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>In the above query <code>min(price)</code> aggregate will get <code>FILL(NULL)</code> strategy
applied, <code>max(price)</code> will get <code>FILL(10)</code>, and <code>avg(price)</code> will get
<code>FILL(PREV)</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="sample-calculation"></a>Sample calculation<a class="hash-link" href="#sample-calculation" title="Direct link to heading">#</a></h2><p>The default time calculation of sampled groups is an absolute value, in other
words, sampling by one day is a 24 hour range which is not bound to calendar
dates. To align sampled groups to calendar dates, the <code>ALIGN TO</code> keywords can be
used and are described in the <a href="#align-to-calendar">ALIGN TO CALENDAR</a> section
below.</p><p>Consider a table <code>sensors</code> with the following data spanning three calendar days:</p><table><thead><tr><th>ts</th><th>val</th></tr></thead><tbody><tr><td>2021-05-31T23:10:00.000000Z</td><td>10</td></tr><tr><td>2021-06-01T01:10:00.000000Z</td><td>80</td></tr><tr><td>2021-06-01T07:20:00.000000Z</td><td>15</td></tr><tr><td>2021-06-01T13:20:00.000000Z</td><td>10</td></tr><tr><td>2021-06-01T19:20:00.000000Z</td><td>40</td></tr><tr><td>2021-06-02T01:10:00.000000Z</td><td>90</td></tr><tr><td>2021-06-02T07:20:00.000000Z</td><td>30</td></tr></tbody></table><p>The following query can be used to sample the table by day. Note that the
default sample calculation can be made explicit in a query using
<code>ALIGN TO FIRST OBSERVATION</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count() FROM sensors</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1d</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">-- Equivalent to</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count() FROM sensors</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1d</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">ALIGN TO FIRST OBSERVATION</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>This query will return two rows:</p><table><thead><tr><th>ts</th><th>count</th></tr></thead><tbody><tr><td>2021-05-31T23:10:00.000000Z</td><td>5</td></tr><tr><td>2021-06-01T23:10:00.000000Z</td><td>2</td></tr></tbody></table><p>The timestamp value for the 24 hour groups start at the first-observed
timestamp.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="align-to-calendar"></a>ALIGN TO CALENDAR<a class="hash-link" href="#align-to-calendar" title="Direct link to heading">#</a></h2><p>The option aligns data to calendar dates, with two optional parameters:</p><ul><li><a href="#time-zone">TIME ZONE</a></li><li><a href="#with-offset">WITH OFFSET</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="time-zone"></a>TIME ZONE<a class="hash-link" href="#time-zone" title="Direct link to heading">#</a></h3><p>A time zone may be provided for sampling with calendar alignment. Details on the
options for specifying time zones with available formats are provided in the
guide for
<a href="/docs/guides/working-with-timestamps-timezones">working with timestamps and time zones</a>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count() FROM sensors</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1d</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">ALIGN TO CALENDAR TIME ZONE &#x27;Europe/Berlin&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>In this case, the 24 hour samples begin at <code>2021-05-31T01:00:00.000000Z</code>:</p><table><thead><tr><th>ts</th><th>count</th></tr></thead><tbody><tr><td>2021-05-31T01:00:00.000000Z</td><td>1</td></tr><tr><td>2021-06-01T01:00:00.000000Z</td><td>4</td></tr><tr><td>2021-06-02T01:00:00.000000Z</td><td>2</td></tr></tbody></table><p>Additionally, an offset may be applied when aligning sample calculation to
calendar</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count() FROM sensors</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1d</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">ALIGN TO CALENDAR TIME ZONE &#x27;Europe/Berlin&#x27; WITH OFFSET &#x27;00:45&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>In this case, the 24 hour samples begin at <code>2021-05-31T01:45:00.000000Z</code>:</p><table><thead><tr><th>ts</th><th>count</th></tr></thead><tbody><tr><td>2021-05-31T01:45:00.000000Z</td><td>2</td></tr><tr><td>2021-06-01T01:45:00.000000Z</td><td>4</td></tr><tr><td>2021-06-02T01:45:00.000000Z</td><td>1</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="local-timezone-output"></a>Local timezone output<a class="hash-link" href="#local-timezone-output" title="Direct link to heading">#</a></h4><p>The timestamp values output from <code>SAMPLE BY</code> queries is in UTC. To have UTC
values converted to specific timezones the
<a href="/docs/reference/function/date-time#to_timezone">to_timezone() function</a> should
be used.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT to_timezone(ts, &#x27;PST&#x27;) ts, count</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">FROM (SELECT ts, count()</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      FROM sensors SAMPLE BY 2h</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      ALIGN TO CALENDAR TIME ZONE &#x27;PST&#x27;)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="time-zone-transitions"></a>Time zone transitions<a class="hash-link" href="#time-zone-transitions" title="Direct link to heading">#</a></h4><p>Calendar dates may contain historical time zone transitions or may vary in the
total number of hours due to daylight savings time. Considering the 31st October
2021, in the <code>Europe/London</code> calendar day which consists of 25 hours:</p><blockquote><ul><li>Sunday, 31 October 2021, 02:00:00 clocks are turned backward 1 hour to</li><li>Sunday, 31 October 2021, 01:00:00 local standard time</li></ul></blockquote><p>When a <code>SAMPLE BY</code> operation crosses time zone transitions in cases such as
this, the first sampled group which spans a transition will include aggregates
by full calendar range. Consider a table <code>sensors</code> with one data point per hour
spanning three calendar hours:</p><table><thead><tr><th>ts</th><th>val</th></tr></thead><tbody><tr><td>2021-10-31T00:10:00.000000Z</td><td>10</td></tr><tr><td>2021-10-31T01:10:00.000000Z</td><td>20</td></tr><tr><td>2021-10-31T02:10:00.000000Z</td><td>30</td></tr><tr><td>2021-10-31T03:10:00.000000Z</td><td>40</td></tr><tr><td>2021-10-31T04:10:00.000000Z</td><td>50</td></tr></tbody></table><p>The following query will sample by hour with the <code>Europe/London</code> time zone and
align to calendar ranges:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count() FROM sensors</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1h</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">ALIGN TO CALENDAR TIME ZONE &#x27;Europe/London&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The record count for the hour which encounters a time zone transition will
contain two records for both hours at the time zone transition:</p><table><thead><tr><th>ts</th><th>count</th></tr></thead><tbody><tr><td>2021-10-31T00:00:00.000000Z</td><td>2</td></tr><tr><td>2021-10-31T01:00:00.000000Z</td><td>1</td></tr><tr><td>2021-10-31T02:00:00.000000Z</td><td>1</td></tr><tr><td>2021-10-31T03:00:00.000000Z</td><td>1</td></tr></tbody></table><p>Similarly, given one data point per hour on this table, running <code>SAMPLE BY 1d</code>
will have a count of <code>25</code> for this day when aligned to calendar time zone
&#x27;Europe/London&#x27;.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="with-offset"></a>WITH OFFSET<a class="hash-link" href="#with-offset" title="Direct link to heading">#</a></h3><p>Aligning sampling calculation can be provided an arbitrary offset in the format
<code>&#x27;+/-HH:mm&#x27;</code>, for example:</p><ul><li><code>&#x27;00:30&#x27;</code> plus thirty minutes</li><li><code>&#x27;+00:30&#x27;</code> plus thirty minutes</li><li><code>&#x27;-00:15&#x27;</code> minus 15 minutes</li></ul><p>The query uses the default offset &#x27;00:00&#x27; if the parameter is not set.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count() FROM sensors</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">SAMPLE BY 1d</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">ALIGN TO CALENDAR WITH OFFSET &#x27;02:00&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>In this case, the 24 hour samples begin at <code>2021-05-31T02:00:00.000000Z</code>:</p><table><thead><tr><th>ts</th><th>count</th></tr></thead><tbody><tr><td>2021-05-31T02:00:00.000000Z</td><td>2</td></tr><tr><td>2021-06-01T02:00:00.000000Z</td><td>4</td></tr><tr><td>2021-06-02T02:00:00.000000Z</td><td>1</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="examples"></a>Examples<a class="hash-link" href="#examples" title="Direct link to heading">#</a></h2><p>Assume the following table <code>trades</code>:</p><table><thead><tr><th>ts</th><th>quantity</th><th>price</th></tr></thead><tbody><tr><td>2021-05-31T23:45:10.000000Z</td><td>10</td><td>100.05</td></tr><tr><td>2021-06-01T00:01:33.000000Z</td><td>5</td><td>100.05</td></tr><tr><td>2021-06-01T00:15:14.000000Z</td><td>200</td><td>100.15</td></tr><tr><td>2021-06-01T00:30:40.000000Z</td><td>300</td><td>100.15</td></tr><tr><td>2021-06-01T00:45:20.000000Z</td><td>10</td><td>100</td></tr><tr><td>2021-06-01T01:00:50.000000Z</td><td>50</td><td>100.15</td></tr></tbody></table><p>This query will return the number of trades per hour:</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Hourly interval</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, count() FROM trades SAMPLE BY 1h;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th>ts</th><th>count</th></tr></thead><tbody><tr><td>2021-05-31T23:45:10.000000Z</td><td>3</td></tr><tr><td>2021-06-01T00:45:10.000000Z</td><td>1</td></tr><tr><td>2021-05-31T23:45:10.000000Z</td><td>1</td></tr><tr><td>2021-06-01T00:45:10.000000Z</td><td>1</td></tr></tbody></table><p>The following will return the trade volume in 30 minute intervals</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">30 minute interval</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, sum(quantity*price) FROM trades SAMPLE BY 30m;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th>ts</th><th>sum</th></tr></thead><tbody><tr><td>2021-05-31T23:45:10.000000Z</td><td>1000.5</td></tr><tr><td>2021-06-01T00:15:10.000000Z</td><td>16024</td></tr><tr><td>2021-06-01T00:45:10.000000Z</td><td>8000</td></tr><tr><td>2021-06-01T00:15:10.000000Z</td><td>8012</td></tr><tr><td>2021-06-01T00:45:10.000000Z</td><td>8000</td></tr></tbody></table><p>The following will return the average trade notional (where notional is = q *
p) by day:</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Daily interval</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, avg(quantity*price) FROM trades SAMPLE BY 1d;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th>ts</th><th>avg</th></tr></thead><tbody><tr><td>2021-05-31T23:45:10.000000Z</td><td>6839.416666666667</td></tr></tbody></table><p>To make this sample align to calendar dates:</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Calendar alignment</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT ts, avg(quantity*price) FROM trades SAMPLE BY 1d ALIGN TO CALENDAR;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><table><thead><tr><th>ts</th><th>avg</th></tr></thead><tbody><tr><td>2021-05-31T00:00:00.000000Z</td><td>1000.5</td></tr><tr><td>2021-06-01T00:00:00.000000Z</td><td>8007.2</td></tr></tbody></table><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="see-also"></a>See also<a class="hash-link" href="#see-also" title="Direct link to heading">#</a></h2><p>This section includes links to additional information such as tutorials.</p><ul><li><a href="/blog/2022/11/23/sql-extensions-time-series-data-questdb-part-ii"><code>SAMPLE BY</code></a>:
Blog post focusing on the data analysis ability of <code>SAMPLE BY</code></li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/turpleio/homepage/edit/main/docs/reference/sql/sample-by.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/reference/sql/rename"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« RENAME TABLE keyword</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/reference/sql/select"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">SELECT keyword »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#syntax" class="table-of-contents__link">Syntax</a></li><li><a href="#sample-units" class="table-of-contents__link">Sample units</a></li><li><a href="#fill-options" class="table-of-contents__link">Fill options</a><ul><li><a href="#multiple-fill-values" class="table-of-contents__link">Multiple fill values</a></li></ul></li><li><a href="#sample-calculation" class="table-of-contents__link">Sample calculation</a></li><li><a href="#align-to-calendar" class="table-of-contents__link">ALIGN TO CALENDAR</a><ul><li><a href="#time-zone" class="table-of-contents__link">TIME ZONE</a></li><li><a href="#with-offset" class="table-of-contents__link">WITH OFFSET</a></li></ul></li><li><a href="#examples" class="table-of-contents__link">Examples</a></li><li><a href="#see-also" class="table-of-contents__link">See also</a></li></ul></div></div></div></div></main></div></div><footer class="root_JnvJ"><div class="content_-gfC center_S24y"><img alt="QuestDB logo" class="logo_JrwJ" src="/img/navbar/tp_brand.png" width="108" height="27"><div class="tagline_T1tH"><p>인프라관리부터 서비스운영까지 클라우드환경에 최적화된 클라우드 네이티브 플랫폼</p></div><div class="links_1SgP"></div></div><div class="border_PW0V"><div class="bottom_wPs3 center_S24y">Copyright © 2023 Gitple. All rights are reserved.</div></div></footer></div>
<script src="/assets/js/main.185a1183.js" defer="defer"></script>
</body>
</html>