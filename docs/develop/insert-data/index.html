<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3">
<meta httpequiv="x-ua-compatible" content="ie=edge">
<meta property="og:type" content="website">
<meta name="author" content="turpleio">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link href="https://www.googletagmanager.com" rel="dns-prefetch">
<link href="https://www.google-analytics.com" rel="dns-prefetch">
<link rel="icon" href="/favicon.png">
<link rel="apple-touch-icon" href="/img/icons/apple-180x180.png" sizes="180x180">
<meta name="msapplication-config" content="/browserconfig.xml">
<link rel="sitemap" type="application/xml" href="/sitemap.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PVR7M2G"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-PVR7M2G",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Turple: Cloud Native Platform" href="/opensearch.xml">
<link rel="manifest" href="/manifest.webmanifest">
<meta name="theme-color" content="#d14671">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#21222c">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Turple: Cloud Native Platform Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Turple: Cloud Native Platform Blog Atom Feed"><title data-react-helmet="true">Insert data | Turple: Cloud Native Platform</title><meta data-react-helmet="true" name="twitter:description" content="Turple is a cloud native platform which can help you build and operate your services on cloud."><meta data-react-helmet="true" name="twitter:title" content="Introduction | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for &quot;Introduction | Turple: Cloud Native Platform&quot;"><meta data-react-helmet="true" property="og:title" content="Insert data | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="description" content="This page shows how to insert data into QuestDB using different programming"><meta data-react-helmet="true" property="og:description" content="This page shows how to insert data into QuestDB using different programming"><meta data-react-helmet="true" property="og:image" content="https://turpleio.github.io/img/og.png"><meta data-react-helmet="true" name="twitter:image" content="https://turpleio.github.io/img/og.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link rel="stylesheet" href="/assets/css/styles.4f6557e4.css">
</head>
<body itemscope itemtype="http://schema.org/Organization">
<meta itemprop="name" content="Turple: Cloud Native Platform">
<meta itemprop="description" content="Turple is a cloud native platform which can help you build and operate your services on cloud.">
<meta itemprop="url" content="https://turpleio.github.io">
<meta itemprop="logo" content="https://turpleio.github.io/img/favicon.png">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar_wBc8 navbar--light"><div class="navbar__inner inner_Y8Z6"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand brand_AtiA" href="/">QuestDB</a></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand brand_AtiA" href="/">QuestDB</a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="wrapper_DIJ0"><div class="doc_D+rh"><div class="doc__sidebar_gVFN" role="complementary"><div class="sidebar_LIo8"><div class="menu menu--responsive thin-scrollbar menu_oAhv"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_nrF-" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" href="/docs/">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Get Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/docker/">Docker</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/binaries/">Binaries</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/homebrew/">Homebrew</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/first-database/">Create my first dataset</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/learn-more/">Learn more</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u menu__link--sublist menu__link--active" href="#!">Develop</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/develop/connect/">Connect</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menuLink_Zq3u menu__link--active active" tabindex="0" href="/docs/develop/insert-data/">Insert data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/develop/query-data/">Query data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/develop/update-data/">Update data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/develop/web-console/">Web Console</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/importing-data/">Large CSV import (COPY SQL)</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/importing-data-rest/">Small CSV import (REST API)</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/modifying-data/">Modify data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/working-with-timestamps-timezones/">Timestamps and time zones</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/out-of-order-commit-lag/">Out-of-order commit lag</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Deployment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/deployment/aws-official-ami/">AWS Marketplace AMI</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/deployment/kubernetes/">Kubernetes</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/deployment/google-cloud-platform/">Google Cloud Platform</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/deployment/digitalocean/">DigitalOcean Droplet</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Operations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/design-for-performance/">Design for performance</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/capacity-planning/">Capacity planning</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/data-retention/">Data retention</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/health-monitoring/">Health monitoring</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/backup/">Backup and restore</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/updating-data/">Updating data</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Third-party Tools</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/prometheus/">Prometheus</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/grafana/">Grafana</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">Kafka</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/kafka/overview/">Overview</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/kafka/questdb-kafka/">QuestDB Kafka connector</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/kafka/jdbc/">JDBC connector</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/telegraf/">Telegraf</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/storage-model/">Storage model</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/designated-timestamp/">Designated timestamp</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/sql-extensions/">SQL extensions</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/jit-compiler/">JIT compiler</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/partitions/">Partitions</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/symbol/">Symbol</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/indexes/">Indexes</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/geohashes/">Geospatial data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/root-directory-structure/">Root directory</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/rest/">REST</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/postgres/">Postgres</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">InfluxDB Line Protocol</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/overview/">Overview</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/columnset-types/">Columnset Value Types</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/tcp-receiver/">TCP Receiver</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/udp-receiver/">UDP Receiver</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/authenticate/">Authenticate</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/java-embedded/">Java (embedded)</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/command-line-options/">Command-line options</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/configuration/">Configuration</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">ILP client libraries</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/clients/overview/">Clients overview</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/clients/java_ilp/">Java ILP client</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/datatypes/">Data types</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">Functions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/aggregation/">Aggregate</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/analytic/">Analytic</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/binary/">Binary</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/boolean/">Boolean</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/conditional/">Conditional</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/date-time/">Date and time</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/meta/">Meta</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/numeric/">Numeric</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/random-value-generator/">Random value generator</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/row-generator/">Row generator</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/spatial/">Spatial</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/text/">Text</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/timestamp-generator/">Timestamp generator</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/timestamp/">Timestamp</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">Operators</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/operators/bitwise/">Bitwise</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/operators/pattern-matching/">Pattern matching</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/operators/spatial/">Spatial</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">SQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/sql-execution-order/">SQL execution order</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">ALTER TABLE</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-add-column/">ADD COLUMN</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-rename-column/">RENAME COLUMN</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-drop-column/">DROP COLUMN</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-attach-partition/">ATTACH PARTITION</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-detach-partition/">DETACH PARTITION</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-drop-partition/">DROP PARTITION</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-set-param/">SET PARAM</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">ALTER COLUMN</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-alter-column-add-index/">ADD INDEX</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-alter-column-drop-index/">DROP INDEX</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-alter-column-cache/">CACHE | NOCACHE</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/backup/">BACKUP</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/case/">CASE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/cast/">CAST</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/copy/">COPY</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/create-table/">CREATE TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/distinct/">DISTINCT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/fill/">FILL</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/drop/">DROP TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/group-by/">GROUP BY</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/insert/">INSERT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/join/">JOIN</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/latest-on/">LATEST ON</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/limit/">LIMIT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/order-by/">ORDER BY</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/reindex/">REINDEX</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/rename/">RENAME TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/sample-by/">SAMPLE BY</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/select/">SELECT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/show/">SHOW</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/snapshot/">SNAPSHOT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/truncate/">TRUNCATE TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/union-except-intersect/">UNION EXCEPT INTERSECT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/update/">UPDATE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/vacuum-table/">VACUUM TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/where/">WHERE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/with/">WITH</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/troubleshooting/faq/">FAQ</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/troubleshooting/os-error-codes/">List of OS error codes</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" href="/blog/tags/tutorial/">Tutorials</a></li></ul></div></div></div><main class="doc__main_VklL"><div class="padding-vert--lg container doc__item-wrapper_FIxd"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">Insert data</h1></header><div class="markdown"><p>This page shows how to insert data into QuestDB using different programming
languages and tools.</p><p><a href="#influxdb-line-protocol">InfluxDB Line Protocol</a> is the recommended primary
ingestion method in QuestDB and is recommended for high-performance
applications.</p><p>For transactional data inserts, use the
<a href="#postgresql-wire-protocol">PostgreSQL wire protocol</a>.</p><p>For operational (ad-hoc) data ingestion, the <a href="#web-console">Web Console</a> makes
it easy to upload CSV files and insert via SQL statements. You can also perform
these same actions via the <a href="#http-rest-api">HTTP REST API</a>. For
<a href="/docs/guides/importing-data">large CSV import</a> (database migrations), use SQL
<code>COPY</code>.</p><p>In summary, these are the different options:</p><ul><li><a href="#influxdb-line-protocol">InfluxDB Line Protocol</a><ul><li>High performance.</li><li>Optional automatic timestamps.</li><li>Optional integrated authentication.</li><li><a href="/docs/reference/clients/overview">Client libraries</a> in various programming
languages.</li></ul></li><li><a href="#postgresql-wire-protocol">PostgreSQL wire protocol</a><ul><li>SQL <code>INSERT</code> statements, including parameterized queries.</li><li>Use <code>psql</code> on the command line.</li><li>Interoperability with third-party tools and libraries.</li></ul></li><li><a href="#web-console">Web Console</a><ul><li>CSV upload.</li><li>SQL <code>INSERT</code> statements.</li><li>SQL <code>COPY</code> for <a href="/docs/guides/importing-data/">large CSV import</a>.</li></ul></li><li><a href="#http-rest-api">HTTP REST API</a><ul><li>CSV upload.</li><li>SQL <code>INSERT</code> statements.</li><li>Use <code>curl</code> on the command line.</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="influxdb-line-protocol"></a>InfluxDB Line Protocol<a class="hash-link" href="#influxdb-line-protocol" title="Direct link to heading">#</a></h2><p>The InfluxDB Line Protocol (ILP) is a text protocol over TCP on port 9009.</p><p>It is a one-way protocol to insert data, focusing on simplicity and performance.</p><p>Here is a summary table showing how it compares with other ways to insert data
that we support:</p><table><thead><tr><th align="left">Protocol</th><th align="left">Record Insertion Reporting</th><th align="left">Data Insertion Performance</th></tr></thead><tbody><tr><td align="left">InfluxDB Line Protocol</td><td align="left">Server logs; Disconnect on error</td><td align="left"><strong>Best</strong></td></tr><tr><td align="left">CSV upload via HTTP REST</td><td align="left">Configurable</td><td align="left">Very Good</td></tr><tr><td align="left">SQL <code>INSERT</code> statements</td><td align="left">Transaction-level</td><td align="left">Good</td></tr><tr><td align="left">SQL <code>COPY</code> statements</td><td align="left">Transaction-level</td><td align="left">Suitable for one-off data migration</td></tr></tbody></table><p>This interface is the preferred ingestion method as it provides the following
benefits:</p><ul><li>High-throughput ingestion</li><li>Robust ingestion from multiple sources into tables with dedicated systems for
reducing congestion</li><li>Configurable commit-lag for out-of-order data via
<a href="/docs/reference/configuration#influxdb-line-protocol-tcp">server configuration</a>
settings</li></ul><p>With sufficient client-side validation, the lack of errors to the client and
confirmation isn&#x27;t necessarily a concern: QuestDB will log out any issues and
disconnect on error. The database will process any valid lines up to that point
and insert rows.</p><p>On the <a href="/docs/reference/api/ilp/overview">InfluxDB line protocol</a> page, you may
find additional details on the message format, ports and authentication.</p><p>The <a href="/docs/third-party-tools/telegraf">Telegraf guide</a> helps you configure a
Telegraf agent to collect and send metrics to QuestDB via ILP.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>The <a href="/docs/reference/clients/overview">ILP client libraries</a> provide more
user-friendly ILP clients for a growing number of languages.</p></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="examples"></a>Examples<a class="hash-link" href="#examples" title="Direct link to heading">#</a></h3><p>These examples send a few rows of input. These use client libraries as well as
raw TCP socket connections, when a client library is not available.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">Python</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Java</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">NodeJS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">C#</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">C</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">C++</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Rust</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Ruby</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">PHP</li></ul><div class="margin-vert--md"><div role="tabpanel"><div><p>Python client library <a href="https://py-questdb-client.readthedocs.io/en/latest/">docs</a>
and <a href="https://github.com/questdb/py-questdb-client">repo</a>.</p>
<p>See more <a href="https://py-questdb-client.readthedocs.io/en/latest/examples.html">examples</a>,
including ingesting data from Pandas dataframes.</p>
<pre><code>python3 -m pip install questdb
</code></pre><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#ff79c6">from</span><span class="token plain"> questdb</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">ingress </span><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> Sender</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> IngressError</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> sys</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> datetime</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">def</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">example</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">host</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#bd93f9">str</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;localhost&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token builtin" style="color:#bd93f9">int</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">9009</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">try</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">with</span><span class="token plain"> Sender</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">host</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">as</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token comment" style="color:#6272a4"># Record with provided designated timestamp (using the &#x27;at&#x27; param)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token comment" style="color:#6272a4"># Notice the designated timestamp is expected in Nanoseconds,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token comment" style="color:#6272a4"># but timestamps in other columns are expected in Microseconds. </span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token comment" style="color:#6272a4"># The API provides convenient functions</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            sender</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">row</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token string" style="color:#f1fa8c">&#x27;trades&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                symbols</span><span class="token operator" style="color:#ff79c6">=</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    </span><span class="token string" style="color:#f1fa8c">&#x27;pair&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;USDGBP&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    </span><span class="token string" style="color:#f1fa8c">&#x27;type&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;buy&#x27;</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                columns</span><span class="token operator" style="color:#ff79c6">=</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    </span><span class="token string" style="color:#f1fa8c">&#x27;traded_price&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">0.83</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    </span><span class="token string" style="color:#f1fa8c">&#x27;limit_price&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">0.84</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    </span><span class="token string" style="color:#f1fa8c">&#x27;qty&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">100</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    </span><span class="token string" style="color:#f1fa8c">&#x27;traded_ts&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> datetime</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                        </span><span class="token number" style="color:#50fa7b">2022</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">8</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">6</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">7</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">35</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">23</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">189062</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                        tzinfo</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">datetime</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">timezone</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">utc</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                at</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">datetime</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">datetime</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">utcnow</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token comment" style="color:#6272a4"># If no &#x27;at&#x27; param is passed, the server will use its own timestamp.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            sender</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">row</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token string" style="color:#f1fa8c">&#x27;trades&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                symbols</span><span class="token operator" style="color:#ff79c6">=</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token string" style="color:#f1fa8c">&#x27;pair&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;EURJPY&#x27;</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                columns</span><span class="token operator" style="color:#ff79c6">=</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    </span><span class="token string" style="color:#f1fa8c">&#x27;traded_price&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">135.97</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    </span><span class="token string" style="color:#f1fa8c">&#x27;qty&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">400</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    </span><span class="token string" style="color:#f1fa8c">&#x27;limit_price&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">None</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain">  </span><span class="token comment" style="color:#6272a4"># NULL columns can be passed as None,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                                           </span><span class="token comment" style="color:#6272a4"># or simply be left out.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token comment" style="color:#6272a4"># We recommend flushing periodically, for example every few seconds.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token comment" style="color:#6272a4"># If you don&#x27;t flush explicitly, the client will flush automatically</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token comment" style="color:#6272a4"># once the buffer is reaches 63KiB and just before the connection</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token comment" style="color:#6272a4"># is closed.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            sender</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">flush</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">except</span><span class="token plain"> IngressError </span><span class="token keyword" style="color:#ff79c6">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        sys</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">stderr</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">write</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string-interpolation string" style="color:#f1fa8c">f&#x27;Got error: </span><span class="token string-interpolation interpolation punctuation" style="color:#f8f8f2">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:#f8f8f2">}</span><span class="token string-interpolation string" style="color:#f1fa8c">\n&#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#ff79c6">==</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    example</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></div><div role="tabpanel" hidden=""><div><p>Go client library <a href="https://pkg.go.dev/github.com/questdb/go-questdb-client">docs</a>
and <a href="https://github.com/questdb/go-questdb-client">repo</a>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI go"><div tabindex="0" class="prism-code language-go codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#ff79c6">package</span><span class="token plain"> main</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	</span><span class="token string" style="color:#f1fa8c">&quot;context&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	</span><span class="token string" style="color:#f1fa8c">&quot;log&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	</span><span class="token string" style="color:#f1fa8c">&quot;time&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	qdb </span><span class="token string" style="color:#f1fa8c">&quot;github.com/questdb/go-questdb-client&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">func</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">main</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	ctx </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">TODO</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	</span><span class="token comment" style="color:#6272a4">// Connect to QuestDB running on 127.0.0.1:9009</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	sender</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> qdb</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">NewLineSender</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	</span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">		log</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Fatal</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	</span><span class="token comment" style="color:#6272a4">// Make sure to close the sender on exit to release resources.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	</span><span class="token keyword" style="color:#ff79c6">defer</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Close</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	</span><span class="token comment" style="color:#6272a4">// Send a few ILP messages.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	err </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">		</span><span class="token function" style="color:#8be9fd">Table</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;trades&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">		</span><span class="token function" style="color:#8be9fd">Symbol</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;name&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;test_ilp1&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">		</span><span class="token function" style="color:#8be9fd">Float64Column</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;value&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">12.4</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">		</span><span class="token function" style="color:#8be9fd">At</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> time</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Now</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">UnixNano</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	</span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">		log</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Fatal</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	err </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">		</span><span class="token function" style="color:#8be9fd">Table</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;trades&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">		</span><span class="token function" style="color:#8be9fd">Symbol</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;name&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;test_ilp2&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">		</span><span class="token function" style="color:#8be9fd">Float64Column</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;value&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">11.4</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">		</span><span class="token function" style="color:#8be9fd">At</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> time</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Now</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">UnixNano</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	</span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">		log</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Fatal</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	</span><span class="token comment" style="color:#6272a4">// Make sure that the messages are sent over the network.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	err </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Flush</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	</span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">		log</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Fatal</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">	</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></div><div role="tabpanel" hidden=""><div><p>Java client library <a href="https://questdb.io/docs/reference/clients/java_ilp">docs</a>
and <a href="https://search.maven.org/artifact/org.questdb/questdb">Maven artifact</a>.</p>
<p>Maven</p>
<pre><code>&lt;dependency&gt;
    &lt;groupId&gt;org.questdb&lt;/groupId&gt;
    &lt;artifactId&gt;questdb&lt;/artifactId&gt;
    &lt;version&gt;6.5&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>
<p>Gradle</p>
<pre><code>compile group: &#x27;org.questdb&#x27;, name: &#x27;questdb&#x27;, version: &#x27;6.5&#x27;
</code></pre><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">package com.example.sender;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import io.questdb.client.Sender;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">public class BasicExample {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    public static void main(String[] args) {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        try (Sender sender = Sender.builder().address(&quot;localhost:9009&quot;).build()) {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            sender.table(&quot;inventors&quot;)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    .symbol(&quot;born&quot;, &quot;Austrian Empire&quot;)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    .longColumn(&quot;id&quot;, 0)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    .stringColumn(&quot;name&quot;, &quot;Nicola Tesla&quot;)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    .atNow();</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            sender.table(&quot;inventors&quot;)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    .symbol(&quot;born&quot;, &quot;USA&quot;)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    .longColumn(&quot;id&quot;, 1)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    .stringColumn(&quot;name&quot;, &quot;Thomas Alva Edison&quot;)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    .atNow();</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></div><div role="tabpanel" hidden=""><div><p>NodeJS client library <a href="https://github.com/questdb/nodejs-questdb-client">repo</a>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"> </span><span class="token maybe-class-name">Sender</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">require</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;@questdb/nodejs-client&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">async</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">function</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">run</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#6272a4">// create a sender with a 4k buffer</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> sender </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">new</span><span class="token plain"> </span><span class="token class-name">Sender</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"> bufferSize</span><span class="token operator" style="color:#ff79c6">:</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">4096</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#6272a4">// connect to QuestDB</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#6272a4">// host and port are required in connect options</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#ff79c6">await</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">connect</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"> port</span><span class="token operator" style="color:#ff79c6">:</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">9009</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> host</span><span class="token operator" style="color:#ff79c6">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;localhost&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#6272a4">// add rows to the buffer of the sender</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  sender</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">table</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;prices&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">symbol</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;instrument&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;EURUSD&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">floatColumn</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;bid&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">1.0195</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">floatColumn</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;ask&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">1.0221</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">atNow</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  sender</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">table</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;prices&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">symbol</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;instrument&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;GBPUSD&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">floatColumn</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;bid&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">1.2076</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">floatColumn</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;ask&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">1.2082</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">atNow</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#6272a4">// flush the buffer of the sender, sending the data to QuestDB</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#6272a4">// the buffer is cleared after the data is sent and the sender is ready to accept new data</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#ff79c6">await</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">flush</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#6272a4">// add rows to the buffer again and send it to the server</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  sender</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">table</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;prices&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">symbol</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;instrument&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;EURUSD&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">floatColumn</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;bid&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">1.0197</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">floatColumn</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;ask&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">1.0224</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">atNow</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#ff79c6">await</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">flush</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#6272a4">// close the connection after all rows ingested</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#ff79c6">await</span><span class="token plain"> sender</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">close</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#ff79c6">return</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">0</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#8be9fd">run</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">then</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token parameter">value</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#ff79c6">=&gt;</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">log</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">value</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token keyword control-flow" style="color:#ff79c6">catch</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token parameter">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#ff79c6">=&gt;</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">log</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></div><div role="tabpanel" hidden=""><div><p><a href="https://github.com/questdb/net-questdb-client">.NET client library</a></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI csharp"><div tabindex="0" class="prism-code language-csharp codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">﻿using QuestDB;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">using System;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">using System.Threading.Tasks;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">namespace QuestDBDemo</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">{</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    class Program</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        static async Task Main(string[] args)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            using var sender = await LineTcpSender.ConnectAsync(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                &quot;localhost&quot;,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                9009,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                tlsMode: TlsMode.Disable);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            sender.Table(&quot;trades&quot;)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                .Symbol(&quot;pair&quot;, &quot;USDGBP&quot;)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                .Symbol(&quot;type&quot;, &quot;buy&quot;)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                .Column(&quot;traded_price&quot;, 0.83)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                .Column(&quot;limit_price&quot;, 0.84)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                .Column(&quot;qty&quot;, 100)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                .Column(&quot;traded_ts&quot;, new DateTime(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                    2022, 8, 6, 7, 35, 23, 189, DateTimeKind.Utc))</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                .At(DateTime.UtcNow);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            sender.Table(&quot;trades&quot;)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                .Symbol(&quot;pair&quot;, &quot;GBPJPY&quot;)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                .Column(&quot;traded_price&quot;, 135.97)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                .Column(&quot;qty&quot;, 400)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                .AtNow();</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            await sender.SendAsync();</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></div><div role="tabpanel" hidden=""><div><p><a href="https://github.com/questdb/c-questdb-client/blob/main/doc/C.md">C client library docs</a></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI c"><div tabindex="0" class="prism-code language-c codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:#ff79c6">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:#f1fa8c">&lt;questdb/ilp/line_sender.h&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:#ff79c6">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:#f1fa8c">&lt;stdio.h&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:#ff79c6">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:#f1fa8c">&lt;stdbool.h&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:#ff79c6">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:#f1fa8c">&lt;string.h&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">static</span><span class="token plain"> bool </span><span class="token function" style="color:#8be9fd">example</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">char</span><span class="token operator" style="color:#ff79c6">*</span><span class="token plain"> host</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">char</span><span class="token operator" style="color:#ff79c6">*</span><span class="token plain"> port</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    line_sender_error</span><span class="token operator" style="color:#ff79c6">*</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token constant" style="color:#bd93f9">NULL</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    line_sender_opts</span><span class="token operator" style="color:#ff79c6">*</span><span class="token plain"> opts </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token constant" style="color:#bd93f9">NULL</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    line_sender</span><span class="token operator" style="color:#ff79c6">*</span><span class="token plain"> sender </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token constant" style="color:#bd93f9">NULL</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    line_sender_buffer</span><span class="token operator" style="color:#ff79c6">*</span><span class="token plain"> buffer </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token constant" style="color:#bd93f9">NULL</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    line_sender_utf8 host_utf8 </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">0</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token constant" style="color:#bd93f9">NULL</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#ff79c6">!</span><span class="token function" style="color:#8be9fd">line_sender_utf8_init</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">host_utf8</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">strlen</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">host</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> host</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">goto</span><span class="token plain"> on_error</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    line_sender_utf8 port_utf8 </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">0</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token constant" style="color:#bd93f9">NULL</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#ff79c6">!</span><span class="token function" style="color:#8be9fd">line_sender_utf8_init</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">port_utf8</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">strlen</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">port</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">goto</span><span class="token plain"> on_error</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token comment" style="color:#6272a4">// Call `line_sender_opts_new` if instead you have an integer port.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    opts </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">line_sender_opts_new_service</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">host_utf8</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> port_utf8</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    sender </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">line_sender_connect</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">opts</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#8be9fd">line_sender_opts_free</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">opts</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    opts </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token constant" style="color:#bd93f9">NULL</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#ff79c6">!</span><span class="token plain">sender</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">goto</span><span class="token plain"> on_error</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    buffer </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">line_sender_buffer_new</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#8be9fd">line_sender_buffer_reserve</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">64</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">*</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">1024</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain">  </span><span class="token comment" style="color:#6272a4">// 64KB buffer initial size.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token comment" style="color:#6272a4">// We prepare all our table names and column names in advance.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token comment" style="color:#6272a4">// If we&#x27;re inserting multiple rows, this allows us to avoid</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token comment" style="color:#6272a4">// re-validating the same strings over and over again.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    line_sender_table_name table_name </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">QDB_TABLE_NAME_LITERAL</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;c_cars&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    line_sender_column_name id_name </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">QDB_COLUMN_NAME_LITERAL</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;id&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    line_sender_column_name x_name </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">QDB_COLUMN_NAME_LITERAL</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;x&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    line_sender_column_name y_name </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">QDB_COLUMN_NAME_LITERAL</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;y&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    line_sender_column_name booked_name </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">QDB_COLUMN_NAME_LITERAL</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;booked&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    line_sender_column_name passengers_name </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">QDB_COLUMN_NAME_LITERAL</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token string" style="color:#f1fa8c">&quot;passengers&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    line_sender_column_name driver_name </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">QDB_COLUMN_NAME_LITERAL</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;driver&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#ff79c6">!</span><span class="token function" style="color:#8be9fd">line_sender_buffer_table</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> table_name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">goto</span><span class="token plain"> on_error</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    line_sender_utf8 id_value </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">QDB_UTF8_LITERAL</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token string" style="color:#f1fa8c">&quot;d6e5fe92-d19f-482a-a97a-c105f547f721&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#ff79c6">!</span><span class="token function" style="color:#8be9fd">line_sender_buffer_symbol</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> id_name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> id_value</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">goto</span><span class="token plain"> on_error</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#ff79c6">!</span><span class="token function" style="color:#8be9fd">line_sender_buffer_column_f64</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> x_name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">30.5</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">goto</span><span class="token plain"> on_error</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#ff79c6">!</span><span class="token function" style="color:#8be9fd">line_sender_buffer_column_f64</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> y_name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">-</span><span class="token number" style="color:#50fa7b">150.25</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">goto</span><span class="token plain"> on_error</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#ff79c6">!</span><span class="token function" style="color:#8be9fd">line_sender_buffer_column_bool</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> booked_name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> true</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">goto</span><span class="token plain"> on_error</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#ff79c6">!</span><span class="token function" style="color:#8be9fd">line_sender_buffer_column_i64</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> passengers_name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">3</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">goto</span><span class="token plain"> on_error</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    line_sender_utf8 driver_value </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">QDB_UTF8_LITERAL</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;John Doe&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#ff79c6">!</span><span class="token function" style="color:#8be9fd">line_sender_buffer_column_str</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> driver_name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> driver_value</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">goto</span><span class="token plain"> on_error</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#ff79c6">!</span><span class="token function" style="color:#8be9fd">line_sender_buffer_at_now</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">goto</span><span class="token plain"> on_error</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token comment" style="color:#6272a4">// To insert more records, call `line_sender_buffer_table(..)...` again.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#ff79c6">!</span><span class="token function" style="color:#8be9fd">line_sender_flush</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">sender</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> buffer</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">goto</span><span class="token plain"> on_error</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#8be9fd">line_sender_close</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">sender</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">return</span><span class="token plain"> true</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">on_error</span><span class="token operator" style="color:#ff79c6">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#8be9fd">line_sender_opts_free</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">opts</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token class-name">size_t</span><span class="token plain"> err_len </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">0</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">char</span><span class="token operator" style="color:#ff79c6">*</span><span class="token plain"> err_msg </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">line_sender_error_msg</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">err_len</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#8be9fd">fprintf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token constant" style="color:#bd93f9">stderr</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;Error running example: %.*s\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token keyword" style="color:#ff79c6">int</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain">err_len</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> err_msg</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#8be9fd">line_sender_error_free</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#8be9fd">line_sender_buffer_free</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#8be9fd">line_sender_close</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">sender</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">return</span><span class="token plain"> false</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">static</span><span class="token plain"> bool </span><span class="token function" style="color:#8be9fd">displayed_help</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token keyword" style="color:#ff79c6">int</span><span class="token plain"> argc</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">char</span><span class="token operator" style="color:#ff79c6">*</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token keyword" style="color:#ff79c6">int</span><span class="token plain"> index </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">1</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"> index </span><span class="token operator" style="color:#ff79c6">&lt;</span><span class="token plain"> argc</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">++</span><span class="token plain">index</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">char</span><span class="token operator" style="color:#ff79c6">*</span><span class="token plain"> arg </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain">index</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token function" style="color:#8be9fd">strncmp</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">arg</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;-h&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">2</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">==</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">0</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token function" style="color:#8be9fd">strncmp</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">arg</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;--help&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">6</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">==</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">0</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token function" style="color:#8be9fd">fprintf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token constant" style="color:#bd93f9">stderr</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;Usage:\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token function" style="color:#8be9fd">fprintf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token constant" style="color:#bd93f9">stderr</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;line_sender_c_example: [HOST [PORT]]\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token function" style="color:#8be9fd">fprintf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token constant" style="color:#bd93f9">stderr</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;    HOST: ILP host (defaults to \&quot;localhost\&quot;).\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token function" style="color:#8be9fd">fprintf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token constant" style="color:#bd93f9">stderr</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;    PORT: ILP port (defaults to \&quot;9009\&quot;).\n&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token keyword" style="color:#ff79c6">return</span><span class="token plain"> true</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">return</span><span class="token plain"> false</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">int</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">main</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token keyword" style="color:#ff79c6">int</span><span class="token plain"> argc</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">char</span><span class="token operator" style="color:#ff79c6">*</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token function" style="color:#8be9fd">displayed_help</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">argc</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">return</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">0</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">char</span><span class="token operator" style="color:#ff79c6">*</span><span class="token plain"> host </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;localhost&quot;</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">argc </span><span class="token operator" style="color:#ff79c6">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">2</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        host </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token number" style="color:#50fa7b">1</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">char</span><span class="token operator" style="color:#ff79c6">*</span><span class="token plain"> port </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;9009&quot;</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">argc </span><span class="token operator" style="color:#ff79c6">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">3</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        port </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token number" style="color:#50fa7b">2</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">return</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">!</span><span class="token function" style="color:#8be9fd">example</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">host</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></div><div role="tabpanel" hidden=""><div><p><a href="https://github.com/questdb/c-questdb-client/blob/main/doc/CPP.md">C++ client library docs</a></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI cpp"><div tabindex="0" class="prism-code language-cpp codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:#ff79c6">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:#f1fa8c">&lt;questdb/ilp/line_sender.hpp&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:#ff79c6">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:#f1fa8c">&lt;iostream&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">using</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">namespace</span><span class="token plain"> std</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">literals</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">string_view_literals</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">using</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">namespace</span><span class="token plain"> questdb</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">ilp</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">literals</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">static</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">bool</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">example</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">std</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">string_view host</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> std</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">string_view port</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">try</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token comment" style="color:#6272a4">// Connect.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        questdb</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">ilp</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">line_sender sender</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain">host</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token comment" style="color:#6272a4">// We prepare all our table names and column names in advance.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token comment" style="color:#6272a4">// If we&#x27;re inserting multiple rows, this allows us to avoid</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token comment" style="color:#6272a4">// re-validating the same strings over and over again.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">auto</span><span class="token plain"> table_name </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;cpp_cars&quot;</span><span class="token plain">_tn</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">auto</span><span class="token plain"> id_name </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;id&quot;</span><span class="token plain">_cn</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">auto</span><span class="token plain"> x_name </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;x&quot;</span><span class="token plain">_cn</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">auto</span><span class="token plain"> y_name </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;y&quot;</span><span class="token plain">_cn</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">auto</span><span class="token plain"> booked_name </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;booked&quot;</span><span class="token plain">_cn</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">auto</span><span class="token plain"> passengers_name </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;passengers&quot;</span><span class="token plain">_cn</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">auto</span><span class="token plain"> driver_name </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;driver&quot;</span><span class="token plain">_cn</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        questdb</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">ilp</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">line_sender_buffer buffer</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        buffer</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">table</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">table_name</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">symbol</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">id_name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;d6e5fe92-d19f-482a-a97a-c105f547f721&quot;</span><span class="token plain">_utf8</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">column</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">x_name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">30.5</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">column</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">y_name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">-</span><span class="token number" style="color:#50fa7b">150.25</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">column</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">booked_name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">true</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">column</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">passengers_name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">int64_t</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token number" style="color:#50fa7b">3</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">column</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">driver_name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;John Doe&quot;</span><span class="token plain">_utf8</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">at_now</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token comment" style="color:#6272a4">// To insert more records, call `buffer.table(..)...` again.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        sender</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">flush</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">buffer</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">return</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">true</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> questdb</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">ilp</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">line_sender_error</span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain"> err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        std</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">cerr</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token operator" style="color:#ff79c6">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;Error running example: &quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token operator" style="color:#ff79c6">&lt;&lt;</span><span class="token plain"> err</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">what</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token operator" style="color:#ff79c6">&lt;&lt;</span><span class="token plain"> std</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">endl</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">return</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">false</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">static</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">bool</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">displayed_help</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token keyword" style="color:#ff79c6">int</span><span class="token plain"> argc</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">char</span><span class="token operator" style="color:#ff79c6">*</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token keyword" style="color:#ff79c6">int</span><span class="token plain"> index </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">1</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"> index </span><span class="token operator" style="color:#ff79c6">&lt;</span><span class="token plain"> argc</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">++</span><span class="token plain">index</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> std</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">string_view arg</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain">argv</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain">index</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">arg </span><span class="token operator" style="color:#ff79c6">==</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;-h&quot;</span><span class="token plain">sv</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">||</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">arg </span><span class="token operator" style="color:#ff79c6">==</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;--help&quot;</span><span class="token plain">sv</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            std</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">cerr</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token operator" style="color:#ff79c6">&lt;&lt;</span><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;Usage:\n&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token operator" style="color:#ff79c6">&lt;&lt;</span><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;line_sender_c_example: [HOST [PORT]]\n&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token operator" style="color:#ff79c6">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;    HOST: ILP host (defaults to \&quot;localhost\&quot;).\n&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token operator" style="color:#ff79c6">&lt;&lt;</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;    PORT: ILP port (defaults to \&quot;9009\&quot;).&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token operator" style="color:#ff79c6">&lt;&lt;</span><span class="token plain"> std</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">endl</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token keyword" style="color:#ff79c6">return</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">true</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">return</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">false</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">int</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">main</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token keyword" style="color:#ff79c6">int</span><span class="token plain"> argc</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">char</span><span class="token operator" style="color:#ff79c6">*</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token function" style="color:#8be9fd">displayed_help</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">argc</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> argv</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">return</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">0</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">auto</span><span class="token plain"> host </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;localhost&quot;</span><span class="token plain">sv</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">argc </span><span class="token operator" style="color:#ff79c6">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">2</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        host </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> std</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">string_view</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain">argv</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token number" style="color:#50fa7b">1</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">auto</span><span class="token plain"> port </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;9009&quot;</span><span class="token plain">sv</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">argc </span><span class="token operator" style="color:#ff79c6">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">3</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        port </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> std</span><span class="token operator" style="color:#ff79c6">::</span><span class="token plain">string_view</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain">argv</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token number" style="color:#50fa7b">2</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">return</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">!</span><span class="token function" style="color:#8be9fd">example</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">host</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> port</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></div><div role="tabpanel" hidden=""><div><p><a href="https://docs.rs/crate/questdb-rs/latest">Rust client library docs</a></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI rust"><div tabindex="0" class="prism-code language-rust codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">use questdb::{</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    Result,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    ingress::{</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        Buffer,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        SenderBuilder}};</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">fn main() -&gt; Result&lt;()&gt; {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    let host: String = std::env::args().nth(1)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        .unwrap_or(&quot;localhost&quot;.to_string());</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    let port: u16 = std::env::args().nth(2)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        .unwrap_or(&quot;9009&quot;.to_string()).parse().unwrap();</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    let mut sender = SenderBuilder::new(host, port).connect()?;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    let mut buffer = Buffer::new();</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    buffer</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        .table(&quot;sensors&quot;)?</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        .symbol(&quot;id&quot;, &quot;toronto1&quot;)?</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        .column_f64(&quot;temperature&quot;, 20.0)?</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        .column_i64(&quot;humidity&quot;, 50)?</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        .at_now()?;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    sender.flush(&amp;mut buffer)?;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    Ok(())</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI ruby"><div tabindex="0" class="prism-code language-ruby codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">require &#x27;socket&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">HOST = &#x27;localhost&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">PORT = 9009</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"># Returns the current time in nanoseconds</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">def time_in_nsec</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    now = Time.now</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    return now.to_i * (10 ** 9) + now.nsec</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">end</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">begin</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    s = TCPSocket.new HOST, PORT</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    # Single record insert</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    s.puts &quot;trades,name=client_timestamp value=12.4 #{time_in_nsec}\n&quot;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    # Omitting the timestamp allows the server to assign one</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    s.puts &quot;trades,name=client_timestamp value=12.4\n&quot;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    # Streams of readings must be newline-delimited</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    s.puts &quot;trades,name=client_timestamp value=12.4\n&quot; +</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            &quot;trades,name=client_timestamp value=11.4\n&quot;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">rescue SocketError =&gt; ex</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    puts ex.inspect</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">ensure</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    s.close() if s</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">end</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><div tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">&lt;?php</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">error_reporting(E_ALL);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">/* Allow the script to hang around waiting for connections. */</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">set_time_limit(0);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">/* Turn on implicit output flushing so we see what we&#x27;re getting</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"> * as it comes in. */</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">ob_implicit_flush();</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">$address = &#x27;localhost&#x27;;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">$port = 9009;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">/* Create a TCP/IP socket. */</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">$socket = socket_create(AF_INET, SOCK_STREAM, SOL_TCP);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">if ($socket === false) {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    echo &quot;socket_create() failed: reason: &quot; . socket_strerror(socket_last_error()) . &quot;\n&quot;;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">} else {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    echo &quot;OK.\n&quot;;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">}</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">echo &quot;Attempting to connect to &#x27;$address&#x27; on port &#x27;$port&#x27;...&quot;;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">$result = socket_connect($socket, $address, $port);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">if ($result === false) {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    echo &quot;socket_connect() failed.\nReason: ($result) &quot; . socket_strerror(socket_last_error($socket)) . &quot;\n&quot;;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">} else {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    echo &quot;OK.\n&quot;;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">}</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">$row=utf8_encode(&quot;test_readings,city=London,make=Omron temperature=23.5,humidity=0.343 1465839830100400000\n&quot;);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">echo &quot;$row&quot;;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">socket_write($socket, $row);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">echo &quot;\n&quot;;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">socket_close($socket);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">?&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="timestamps"></a>Timestamps<a class="hash-link" href="#timestamps" title="Direct link to heading">#</a></h3><p>Providing a timestamp is optional. If one isn&#x27;t provided, the server will
automatically assign the server&#x27;s system time as the row&#x27;s timestamp value.</p><p>Timestamps are interpreted as the number of nanoseconds from 1st Jan 1970 UTC,
unless otherwise configured. See <code>cairo.timestamp.locale</code> and
<code>line.tcp.timestamp</code> <a href="/docs/reference/configuration">configuration options</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="ilp-datatypes-and-casts"></a>ILP Datatypes and Casts<a class="hash-link" href="#ilp-datatypes-and-casts" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="strings-vs-symbols"></a>Strings vs Symbols<a class="hash-link" href="#strings-vs-symbols" title="Direct link to heading">#</a></h4><p>Strings may be recorded as either the <code>STRING</code> type or the <code>SYMBOL</code> type.</p><p>Inspecting a sample ILP we can see how a space <code>&#x27; &#x27;</code> separator splits <code>SYMBOL</code>
columns to the left from the rest of the columns.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI text"><div tabindex="0" class="prism-code language-text codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">table_name,col1=symbol_val1,col2=symbol_val2 col3=&quot;string val&quot;,col4=10.5</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                                            ┬</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                                            ╰───────── separator</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>In this example, columns <code>col1</code> and <code>col2</code> are strings written to the database
as <code>SYMBOL</code>s, whilst <code>col3</code> is written out as a <code>STRING</code>.</p><p><code>SYMBOL</code>s are strings with which are automatically
<a href="https://en.wikipedia.org/wiki/String_interning" target="_blank" rel="noopener noreferrer">interned</a> by the database on a
per-column basis. You should use this type if you expect the string to be
re-used over and over, such as is common with identifiers.</p><p>For one-off strings use <code>STRING</code> columns which aren&#x27;t interned.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="casts"></a>Casts<a class="hash-link" href="#casts" title="Direct link to heading">#</a></h4><p>QuestDB types are a superset of those supported by ILP. This means that when
sending data you should be aware of the performed conversions.</p><p>See:</p><ul><li><a href="/docs/reference/sql/datatypes">QuestDB Types in SQL</a></li><li><a href="/docs/reference/api/ilp/columnset-types">ILP types and cast conversion tables</a></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="constructing-well-formed-messages"></a>Constructing well-formed messages<a class="hash-link" href="#constructing-well-formed-messages" title="Direct link to heading">#</a></h3><p>Different library implementations will perform different degrees content
validation upfront before sending messages out. To avoid encountering issues,
follow these guidelines:</p><ul><li><p><strong>All strings must be UTF-8 encoded.</strong></p></li><li><p><strong>Columns should only appear once per row.</strong></p></li><li><p><strong>Symbol columns must be written out before other columns.</strong></p></li><li><p><strong>Table and column names can&#x27;t have invalid characters.</strong> These should not
contain <code>?</code>, <code>.</code>,<code>,</code>, <code>&#x27;</code>, <code>&quot;</code>, <code>\</code>, <code>/</code>, <code>:</code>, <code>(</code>, <code>)</code>, <code>+</code>, <code>-</code>, <code>*</code>, <code>%</code>,
<code>~</code>,<code>&#x27; &#x27;</code> (space), <code>\0</code> (nul terminator),
<a href="https://unicode-explorer.com/c/FEFF" target="_blank" rel="noopener noreferrer">ZERO WIDTH NO-BREAK SPACE</a>.</p></li><li><p><strong>Write timestamp column via designated API</strong>, or at the end of the message if
you are using raw sockets. If you have multiple timestamp columns write
additional ones as column values.</p></li><li><p><strong>Don&#x27;t change column type between rows.</strong></p></li><li><p><strong>Supply timestamps in order.</strong> These need to be at least equal to previous
ones in the same table, unless using the out of order feature. This is not
necessary if you use the <a href="/docs/guides/out-of-order-commit-lag">out-of-order</a>
feature.</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="errors-in-server-logs"></a>Errors in Server Logs<a class="hash-link" href="#errors-in-server-logs" title="Direct link to heading">#</a></h3><p>QuestDB will always log any ILP errors in its
<a href="/docs/concept/root-directory-structure#log-directory">server logs</a>.</p><p>Here is an example error from the server logs caused when a line attempted to
insert a <code>STRING</code> into a <code>SYMBOL</code> column.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI text"><div tabindex="0" class="prism-code language-text codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">2022-04-13T13:35:19.784654Z E i.q.c.l.t.LineTcpConnectionContext [3968] could not process line data [table=bad_ilp_example, msg=cast error for line protocol string [columnWriterIndex=0, columnType=SYMBOL], errno=0]</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">2022-04-13T13:35:19.784670Z I tcp-line-server scheduling disconnect [fd=3968, reason=0]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="inserting-null-values"></a>Inserting NULL values<a class="hash-link" href="#inserting-null-values" title="Direct link to heading">#</a></h3><p>To insert a NULL value, skip the column (or symbol) for that row.</p><p>For example:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI text"><div tabindex="0" class="prism-code language-text codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">table1 a=10.5 1647357688714369403</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">table1 b=1.25 1647357698714369403</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Will insert as:</p><table><thead><tr><th align="left">a</th><th align="left">b</th><th>timestamp</th></tr></thead><tbody><tr><td align="left">10.5</td><td align="left"><em>NULL</em></td><td>2022-03-15T15:21:28.714369Z</td></tr><tr><td align="left"><em>NULL</em></td><td align="left">1.25</td><td>2022-03-15T15:21:38.714369Z</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="if-you-dont-immediately-see-data"></a>If you don&#x27;t immediately see data<a class="hash-link" href="#if-you-dont-immediately-see-data" title="Direct link to heading">#</a></h3><p>If you don&#x27;t see your inserted data, this is usually down to one of two things:</p><ul><li><p>You prepared the messages, but forgot to call <code>.flush()</code> or similar in your
client library, so no data was sent.</p></li><li><p>The internal timers and buffers within QuestDB did not commit the data yet.
For development (and development only), you may want to tweak configuration
settings to commit data more frequently.</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">server.conf</div><div class="codeBlockContent_csEI ini"><div tabindex="0" class="prism-code language-ini codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">cairo.max.uncommitted.rows=1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Refer to
<a href="/docs/reference/api/ilp/tcp-receiver/#commit-strategy">ILP&#x27;s commit strategy</a>
documentation for more on these configuration settings.</p></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="authentication"></a>Authentication<a class="hash-link" href="#authentication" title="Direct link to heading">#</a></h3><p>ILP can additionally provide authentication. This is an optional feature which
is documented <a href="/docs/reference/api/ilp/authenticate">here</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="third-party-library-compatibility"></a>Third-party Library Compatibility<a class="hash-link" href="#third-party-library-compatibility" title="Direct link to heading">#</a></h3><p>Use our own <a href="/docs/reference/clients/overview">client libraries</a> and/or protocol
documentation: Clients intended to work with InfluxDB will not work with
QuestDB.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="postgresql-wire-protocol"></a>PostgreSQL wire protocol<a class="hash-link" href="#postgresql-wire-protocol" title="Direct link to heading">#</a></h2><p>QuestDB also supports the same wire protocol as PostgreSQL, allowing you to
connect and query the database with various third-party pre-existing client
libraries and tools.</p><p>You can connect to TCP port <code>8812</code> and use both <code>INSERT</code> and <code>SELECT</code> SQL
queries.</p><p>PostgreSQL wire protocol is better suited for applications inserting via SQL
programmatically as it provides parameterized queries, which avoid SQL injection
issues.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p><a href="#influxdb-line-protocol">InfluxDB Line Protocol</a> is the recommended primary
ingestion method in QuestDB. SQL <code>INSERT</code> statements over the PostgreSQL offer
feedback and error reporting, but have worse overall performance.</p></div></div><p>Here are a few examples demonstrating SQL <code>INSERT</code> queries:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">psql</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Python</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Java</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">NodeJS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Rust</li></ul><div class="margin-vert--md"><div role="tabpanel"><p>Create the table:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><div tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">psql -h localhost -p </span><span class="token number" style="color:#50fa7b">8812</span><span class="token plain"> -U admin -d qdb </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    -c </span><span class="token string" style="color:#f1fa8c">&quot;CREATE TABLE IF NOT EXISTS t1 (name STRING, value INT);&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Insert row:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><div tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">psql -h localhost -p </span><span class="token number" style="color:#50fa7b">8812</span><span class="token plain"> -U admin -d qdb -c </span><span class="token string" style="color:#f1fa8c">&quot;INSERT INTO t1 VALUES(&#x27;a&#x27;, 42)&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Query back:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><div tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">psql -h localhost -p </span><span class="token number" style="color:#50fa7b">8812</span><span class="token plain"> -U admin -d qdb -c </span><span class="token string" style="color:#f1fa8c">&quot;SELECT * FROM t1&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Note that you can also run <code>psql</code> from Docker without installing the client
locally:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">docker run -it --rm --network=host -e PGPASSWORD=quest \</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    postgres psql ....</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>This example uses the
<a href="https://www.psycopg.org/psycopg3/docs/" target="_blank" rel="noopener noreferrer">psychopg3</a> adapter.</p><p>To <a href="https://www.psycopg.org/psycopg3/docs/basic/install.html" target="_blank" rel="noopener noreferrer">install</a> the client library, use <code>pip</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><div tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">python3 -m pip </span><span class="token function" style="color:#8be9fd">install</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;psycopg[binary]&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> psycopg </span><span class="token keyword" style="color:#ff79c6">as</span><span class="token plain"> pg</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> time</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># Connect to an existing QuestDB instance</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">conn_str </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;user=admin password=quest host=127.0.0.1 port=8812 dbname=qdb&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">with</span><span class="token plain"> pg</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">connect</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">conn_str</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> autocommit</span><span class="token operator" style="color:#ff79c6">=</span><span class="token boolean" style="color:#bd93f9">True</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">as</span><span class="token plain"> connection</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token comment" style="color:#6272a4"># Open a cursor to perform database operations</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">with</span><span class="token plain"> connection</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">cursor</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">as</span><span class="token plain"> cur</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token comment" style="color:#6272a4"># Execute a command: this creates a new table</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        cur</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token triple-quoted-string string" style="color:#f1fa8c">&#x27;&#x27;&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token triple-quoted-string string" style="color:#f1fa8c">          CREATE TABLE IF NOT EXISTS test_pg (</span></div><div class="token-line" style="color:#f8f8f2"><span class="token triple-quoted-string string" style="color:#f1fa8c">              ts TIMESTAMP,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token triple-quoted-string string" style="color:#f1fa8c">              name STRING,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token triple-quoted-string string" style="color:#f1fa8c">              value INT</span></div><div class="token-line" style="color:#f8f8f2"><span class="token triple-quoted-string string" style="color:#f1fa8c">          ) timestamp(ts);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token triple-quoted-string string" style="color:#f1fa8c">          &#x27;&#x27;&#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">print</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&#x27;Table created.&#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token comment" style="color:#6272a4"># Insert data into the table.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">for</span><span class="token plain"> x </span><span class="token keyword" style="color:#ff79c6">in</span><span class="token plain"> </span><span class="token builtin" style="color:#bd93f9">range</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token number" style="color:#50fa7b">10</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token comment" style="color:#6272a4"># Converting datetime into millisecond for QuestDB</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            timestamp </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> time</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">time_ns</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">//</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">1000</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            cur</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token triple-quoted-string string" style="color:#f1fa8c">&#x27;&#x27;&#x27;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token triple-quoted-string string" style="color:#f1fa8c">                INSERT INTO test_pg</span></div><div class="token-line" style="color:#f8f8f2"><span class="token triple-quoted-string string" style="color:#f1fa8c">                    VALUES (%s, %s, %s);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token triple-quoted-string string" style="color:#f1fa8c">                &#x27;&#x27;&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">                </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">timestamp</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;python example&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> x</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">print</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&#x27;Rows inserted.&#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token comment" style="color:#6272a4">#Query the database and obtain data as Python objects.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        cur</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">execute</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&#x27;SELECT * FROM trades_pg;&#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        records </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> cur</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">fetchall</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">for</span><span class="token plain"> row </span><span class="token keyword" style="color:#ff79c6">in</span><span class="token plain"> records</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token keyword" style="color:#ff79c6">print</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">row</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># the connection is now closed</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI java"><div tabindex="0" class="prism-code language-java codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">package com.myco;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import java.sql.*;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">import java.util.Properties;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">class App {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  public static void main(String[] args) throws SQLException {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    Properties properties = new Properties();</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    properties.setProperty(&quot;user&quot;, &quot;admin&quot;);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    properties.setProperty(&quot;password&quot;, &quot;quest&quot;);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    properties.setProperty(&quot;sslmode&quot;, &quot;disable&quot;);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    final Connection connection = DriverManager.getConnection(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      &quot;jdbc:postgresql://localhost:8812/qdb&quot;, properties);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    connection.setAutoCommit(false);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    final PreparedStatement statement = connection.prepareStatement(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      &quot;CREATE TABLE IF NOT EXISTS trades (&quot; +</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      &quot;    ts TIMESTAMP, date DATE, name STRING, value INT&quot; +</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      &quot;) timestamp(ts);&quot;);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    statement.execute();</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    try (PreparedStatement preparedStatement = connection.prepareStatement(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        &quot;INSERT INTO TRADES  VALUES (?, ?, ?, ?)&quot;)) {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      preparedStatement.setTimestamp(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        1,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        new Timestamp(io.questdb.std.Os.currentTimeMicros()));</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      preparedStatement.setDate(2, new Date(System.currentTimeMillis()));</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      preparedStatement.setString(3, &quot;abc&quot;);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      preparedStatement.setInt(4, 123);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      preparedStatement.execute();</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    System.out.println(&quot;Done&quot;);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    connection.close();</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>This example uses the <a href="https://www.npmjs.com/package/pg" target="_blank" rel="noopener noreferrer"><code>pg</code> package</a> which
allows for quickly building queries using Postgres wire protocol. Details on the
use of this package can be found on the
<a href="https://node-postgres.com/" target="_blank" rel="noopener noreferrer">node-postgres documentation</a>.</p><p>This example uses naive <code>Date.now() * 1000</code> inserts for Timestamp types in
microsecond resolution. For accurate microsecond timestamps, the
<a href="https://nodejs.org/api/process.html#processhrtimebigint" target="_blank" rel="noopener noreferrer">process.hrtime.bigint()</a>
call can be used.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token string" style="color:#f1fa8c">&quot;use strict&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"> </span><span class="token maybe-class-name">Client</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">require</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;pg&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#8be9fd">start</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#ff79c6">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> client </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">new</span><span class="token plain"> </span><span class="token class-name">Client</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    database</span><span class="token operator" style="color:#ff79c6">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;qdb&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    host</span><span class="token operator" style="color:#ff79c6">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;127.0.0.1&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    password</span><span class="token operator" style="color:#ff79c6">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;quest&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    port</span><span class="token operator" style="color:#ff79c6">:</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">8812</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    user</span><span class="token operator" style="color:#ff79c6">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;admin&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#ff79c6">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">connect</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> createTable </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ff79c6">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">query</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token string" style="color:#f1fa8c">&quot;CREATE TABLE IF NOT EXISTS trades (&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">+</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token string" style="color:#f1fa8c">&quot;    ts TIMESTAMP, date DATE, name STRING, value INT&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">+</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token string" style="color:#f1fa8c">&quot;) timestamp(ts);&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">log</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">createTable</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">let</span><span class="token plain"> now </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">toISOString</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> insertData </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ff79c6">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">query</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token string" style="color:#f1fa8c">&quot;INSERT INTO trades VALUES($1, $2, $3, $4);&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain">now</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> now</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;node pg example&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">123</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#ff79c6">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">query</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;COMMIT&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">log</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">insertData</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#ff79c6">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token keyword" style="color:#ff79c6">let</span><span class="token plain"> rows </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">0</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"> rows </span><span class="token operator" style="color:#ff79c6">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">10</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"> rows</span><span class="token operator" style="color:#ff79c6">++</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token comment" style="color:#6272a4">// Providing a &#x27;name&#x27; field allows for prepared statements / bind variables</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    now </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">new</span><span class="token plain"> </span><span class="token class-name">Date</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">toISOString</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> query </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      name</span><span class="token operator" style="color:#ff79c6">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;insert-values&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      text</span><span class="token operator" style="color:#ff79c6">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;INSERT INTO trades VALUES($1, $2, $3, $4);&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      values</span><span class="token operator" style="color:#ff79c6">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain">now</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> now</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;node pg prep statement&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> rows</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#ff79c6">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">query</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">query</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#ff79c6">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">query</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;COMMIT&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> readAll </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ff79c6">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">query</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;SELECT * FROM trades&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">log</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">readAll</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token property-access">rows</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#ff79c6">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">end</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#8be9fd">start</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">then</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#ff79c6">=&gt;</span><span class="token plain"> </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">log</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;Done&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token keyword control-flow" style="color:#ff79c6">catch</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token console class-name">console</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token property-access">error</span><span class="token punctuation" style="color:#f8f8f2">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>This example uses the <a href="https://github.com/jackc/pgx" target="_blank" rel="noopener noreferrer">pgx</a> driver and toolkit for
PostgreSQL in Go. More details on the use of this toolkit can be found on the
<a href="https://github.com/jackc/pgx/wiki/Getting-started-with-pgx" target="_blank" rel="noopener noreferrer">GitHub repository for pgx</a>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI go"><div tabindex="0" class="prism-code language-go codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#ff79c6">package</span><span class="token plain"> main</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;context&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;fmt&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;log&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;time&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;github.com/jackc/pgx/v4&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">var</span><span class="token plain"> conn </span><span class="token operator" style="color:#ff79c6">*</span><span class="token plain">pgx</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Conn</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">var</span><span class="token plain"> err </span><span class="token builtin" style="color:#bd93f9">error</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">func</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">main</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  ctx </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> context</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Background</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  conn</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">_</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> pgx</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Connect</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;postgresql://admin:quest@localhost:8812/qdb&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">defer</span><span class="token plain"> conn</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Close</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#6272a4">// text-based query</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token boolean" style="color:#bd93f9">_</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> conn</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Exec</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;CREATE TABLE IF NOT EXISTS trades (&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">+</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">     </span><span class="token string" style="color:#f1fa8c">&quot;    ts TIMESTAMP, date DATE, name STRING, value INT&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">+</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">     </span><span class="token string" style="color:#f1fa8c">&quot;) timestamp(ts);&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    log</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Fatalln</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#6272a4">// Prepared statement given the name &#x27;ps1&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token boolean" style="color:#bd93f9">_</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> conn</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Prepare</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;ps1&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;INSERT INTO trades VALUES($1,$2,$3,$4)&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    log</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Fatalln</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#6272a4">// Insert all rows in a single commit</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  tx</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> conn</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Begin</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    log</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Fatalln</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">for</span><span class="token plain"> i </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">0</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"> i </span><span class="token operator" style="color:#ff79c6">&lt;</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">10</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"> i</span><span class="token operator" style="color:#ff79c6">++</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token comment" style="color:#6272a4">// Execute &#x27;ps1&#x27; statement with a string and the loop iterator value</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token boolean" style="color:#bd93f9">_</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> conn</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Exec</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      ctx</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token string" style="color:#f1fa8c">&quot;ps1&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      time</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Now</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      time</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Now</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Round</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">time</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Millisecond</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token string" style="color:#f1fa8c">&quot;go prepared statement&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      i </span><span class="token operator" style="color:#ff79c6">+</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">1</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      log</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Fatalln</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#6272a4">// Commit the transaction</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  err </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> tx</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Commit</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    log</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Fatalln</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token comment" style="color:#6272a4">// Read all rows from table</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  rows</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> conn</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Query</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;SELECT * FROM trades&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  fmt</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;Reading from trades table:&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">for</span><span class="token plain"> rows</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Next</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">var</span><span class="token plain"> name </span><span class="token builtin" style="color:#bd93f9">string</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">var</span><span class="token plain"> value </span><span class="token builtin" style="color:#bd93f9">int64</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">var</span><span class="token plain"> ts time</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Time</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">var</span><span class="token plain"> date time</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Time</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    err </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> rows</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Scan</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">ts</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">date</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">value</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    fmt</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ts</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> date</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> value</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  err </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> conn</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Close</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>The following example shows how to use parameterized queries and prepared
statements using the <a href="https://docs.rs/postgres/0.19.0/postgres/" target="_blank" rel="noopener noreferrer">rust-postgres</a>
client.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI rust"><div tabindex="0" class="prism-code language-rust codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">use postgres::{Client, NoTls, Error};</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">use chrono::{Utc};</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">use std::time::SystemTime;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">fn main() -&gt; Result&lt;(), Error&gt; {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    let mut client = Client::connect(&quot;postgresql://admin:quest@localhost:8812/qdb&quot;, NoTls)?;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    // Basic query</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    client.batch_execute(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      &quot;CREATE TABLE IF NOT EXISTS trades ( \</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">          ts TIMESTAMP, date DATE, name STRING, value INT \</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      ) timestamp(ts);&quot;)?;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    // Parameterized query</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    let name: &amp;str = &quot;rust example&quot;;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    let val: i32 = 123;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    let utc = Utc::now();</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    let sys_time = SystemTime::now();</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    client.execute(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        &quot;INSERT INTO trades VALUES($1,$2,$3,$4)&quot;,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        &amp;[&amp;utc.naive_local(), &amp;sys_time, &amp;name, &amp;val],</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    )?;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    // Prepared statement</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    let mut txn = client.transaction()?;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    let statement = txn.prepare(&quot;INSERT INTO trades VALUES ($1,$2,$3,$4)&quot;)?;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    for value in 0..10 {</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        let utc = Utc::now();</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        let sys_time = SystemTime::now();</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        txn.execute(&amp;statement, &amp;[&amp;utc.naive_local(), &amp;sys_time, &amp;name, &amp;value])?;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    }</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    txn.commit()?;</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    println!(&quot;import finished&quot;);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    Ok(())</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="web-console"></a>Web Console<a class="hash-link" href="#web-console" title="Direct link to heading">#</a></h2><p>QuestDB ships with an embedded <a href="/docs/develop/web-console">Web Console</a> running
by default on port <code>9000</code>.</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Creating a table and inserting some data</div><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">CREATE TABLE takeaway_order (ts TIMESTAMP, id SYMBOL, status SYMBOL)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  TIMESTAMP(ts);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">INSERT INTO takeaway_order VALUES (now(), &#x27;order1&#x27;, &#x27;placed&#x27;);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">INSERT INTO takeaway_order VALUES (now(), &#x27;order2&#x27;, &#x27;placed&#x27;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>SQL statements can be written in the code editor and executed by clicking the
<strong>Run</strong> button. Note that the web console runs a single statement at a time.</p><p>For inserting bulk data or migrating data from other databases, see
<a href="/docs/guides/importing-data">large CSV import</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="http-rest-api"></a>HTTP REST API<a class="hash-link" href="#http-rest-api" title="Direct link to heading">#</a></h2><p>QuestDB exposes a REST API for compatibility with a wide range of libraries and
tools. The REST API is accessible on port <code>9000</code> and has the following
insert-capable entrypoints:</p><table><thead><tr><th align="left">Entrypoint</th><th align="left">HTTP Method</th><th align="left">Description</th><th align="left">API Docs</th></tr></thead><tbody><tr><td align="left"><a href="#imp-uploading-tabular-data"><code>/imp</code></a></td><td align="left">POST</td><td align="left">Import CSV data</td><td align="left"><a href="/docs/reference/api/rest#imp---import-data">Reference</a></td></tr><tr><td align="left"><a href="#exec-sql-insert-query"><code>/exec?query=..</code></a></td><td align="left">GET</td><td align="left">Run SQL Query returning JSON result set</td><td align="left"><a href="/docs/reference/api/rest#exec---execute-queries">Reference</a></td></tr></tbody></table><p>For details such as content type, query parameters and more, refer to the
<a href="/docs/reference/api/rest">REST API</a> docs.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="imp-uploading-tabular-data"></a><code>/imp</code>: Uploading Tabular Data<a class="hash-link" href="#imp-uploading-tabular-data" title="Direct link to heading">#</a></h3><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p><a href="#influxdb-line-protocol">InfluxDB Line Protocol</a> is the recommended primary
ingestion method in QuestDB. CSV uploading offers insertion feedback and error
reporting, but has worse overall performance.</p><p>See <code>/imp</code>&#x27;s <a href="/docs/reference/api/rest#url-parameters"><code>atomicity</code></a> query
parameter to customize behavior on error.</p></div></div><p>Let&#x27;s assume you want to upload the following data via the <code>/imp</code> entrypoint:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">CSV</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Table</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">data.csv</div><div class="codeBlockContent_csEI csv"><div tabindex="0" class="prism-code language-csv codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">col1,col2,col3</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">a,10.5,True</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">b,100,False</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">c,,True</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div><div role="tabpanel" hidden=""><table><thead><tr><th align="left">col1</th><th align="left">col2</th><th align="left">col3</th></tr></thead><tbody><tr><td align="left">a</td><td align="left">10.5</td><td align="left"><em>true</em></td></tr><tr><td align="left">b</td><td align="left">100</td><td align="left"><em>false</em></td></tr><tr><td align="left">c</td><td align="left"><em>NULL</em></td><td align="left"><em>true</em></td></tr></tbody></table></div></div></div><p>You can do so via the command line using <code>cURL</code> or programmatically via HTTP
APIs in your scripts and applications.</p><p>By default, the response is designed to be human-readable. Use the <code>fmt=json</code>
query argument to obtain a response in JSON. You can also specify the schema
explicitly. See the second example in Python for these features.</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">cURL</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Python</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">NodeJS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Go</li></ul><div class="margin-vert--md"><div role="tabpanel"><p>This example imports a CSV file with automatic schema detection.</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Basic import with table name</div><div class="codeBlockContent_csEI shell"><div tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#8be9fd">curl</span><span class="token plain"> -F </span><span class="token assign-left variable" style="color:#ff79c6">data</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">@data.csv http://localhost:9000/imp?name</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">table_name</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>This example overwrites an existing table and specifies a timestamp format and a
designated timestamp column. For more information on the optional parameters to
specify timestamp formats, partitioning and renaming tables, see the
<a href="/docs/reference/api/rest#examples">REST API documentation</a>.</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Providing a user-defined schema</div><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#8be9fd">curl</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">-F </span><span class="token assign-left variable" style="color:#ff79c6">schema</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&#x27;[{&quot;name&quot;:&quot;ts&quot;, &quot;type&quot;: &quot;TIMESTAMP&quot;, &quot;pattern&quot;: &quot;yyyy-MM-dd - HH:mm:ss&quot;}]&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">-F </span><span class="token assign-left variable" style="color:#ff79c6">data</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">@weather.csv </span><span class="token string" style="color:#f1fa8c">&#x27;http://localhost:9000/imp?overwrite=true&amp;timestamp=ts&#x27;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>This first example shows uploading the <code>data.csv</code> file with automatic schema
detection.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> sys</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> requests</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">csv </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token string" style="color:#f1fa8c">&#x27;data&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&#x27;my_table&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token builtin" style="color:#bd93f9">open</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&#x27;./data.csv&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;r&#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">host </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;http://localhost:9000&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">try</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    response </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">post</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">host </span><span class="token operator" style="color:#ff79c6">+</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;/imp&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> files</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">csv</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">print</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">except</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">exceptions</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">RequestException </span><span class="token keyword" style="color:#ff79c6">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">print</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string-interpolation string" style="color:#f1fa8c">f&#x27;Error: </span><span class="token string-interpolation interpolation punctuation" style="color:#f8f8f2">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:#f8f8f2">}</span><span class="token string-interpolation string" style="color:#f1fa8c">&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token builtin" style="color:#bd93f9">file</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">sys</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">stderr</span><span class="token punctuation" style="color:#f8f8f2">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The second example creates a CSV buffer from Python objects and uploads them
with a custom schema. Note UTF-8 encoding.</p><p>The <code>fmt=json</code> parameter allows us to obtain a parsable response, rather than a
tabular response designed for human consumption.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> io</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> csv</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> requests</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> pprint</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> json</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">def</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">to_csv_str</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">table</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    output </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> io</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">StringIO</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    csv</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">writer</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">output</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> dialect</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&#x27;excel&#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">writerows</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">table</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">return</span><span class="token plain"> output</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">getvalue</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">encode</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&#x27;utf-8&#x27;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">def</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">main</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    table_name </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;example_table2&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    table </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token string" style="color:#f1fa8c">&#x27;col1&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;col2&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;col3&#x27;</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token string" style="color:#f1fa8c">&#x27;a&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">    </span><span class="token number" style="color:#50fa7b">10.5</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">   </span><span class="token boolean" style="color:#bd93f9">True</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token string" style="color:#f1fa8c">&#x27;b&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">    </span><span class="token number" style="color:#50fa7b">100</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">    </span><span class="token boolean" style="color:#bd93f9">False</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token string" style="color:#f1fa8c">&#x27;c&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">    </span><span class="token boolean" style="color:#bd93f9">None</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain">   </span><span class="token boolean" style="color:#bd93f9">True</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    table_csv </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> to_csv_str</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">table</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">print</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">table_csv</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    schema </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> json</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">dumps</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token string" style="color:#f1fa8c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;col1&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;type&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;SYMBOL&#x27;</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token string" style="color:#f1fa8c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;col2&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;type&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;DOUBLE&#x27;</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token string" style="color:#f1fa8c">&#x27;name&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;col3&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;type&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;BOOLEAN&#x27;</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">]</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    response </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">post</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token string" style="color:#f1fa8c">&#x27;http://localhost:9000/imp&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        params</span><span class="token operator" style="color:#ff79c6">=</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token string" style="color:#f1fa8c">&#x27;fmt&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;json&#x27;</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        files</span><span class="token operator" style="color:#ff79c6">=</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token string" style="color:#f1fa8c">&#x27;schema&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> schema</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">            </span><span class="token string" style="color:#f1fa8c">&#x27;data&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">table_name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> table_csv</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">json</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token comment" style="color:#6272a4"># You can parse the `status` field and `error` fields</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token comment" style="color:#6272a4"># of individual columns. See Reference/API/REST docs for details.</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    pprint</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">pprint</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> __name__ </span><span class="token operator" style="color:#ff79c6">==</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;__main__&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    main</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> fetch </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">require</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;node-fetch&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token maybe-class-name">FormData</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">require</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;form-data&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> fs </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">require</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;fs&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token constant" style="color:#bd93f9">HOST</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;http://localhost:9000&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">async</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">function</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">run</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> form </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">new</span><span class="token plain"> </span><span class="token class-name">FormData</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  form</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">append</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;data&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> fs</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">readFileSync</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">__dirname </span><span class="token operator" style="color:#ff79c6">+</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;/data.csv&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    filename</span><span class="token operator" style="color:#ff79c6">:</span><span class="token plain"> fileMetadata</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token property-access">name</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    contentType</span><span class="token operator" style="color:#ff79c6">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;application/octet-stream&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#ff79c6">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> r </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ff79c6">await</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">fetch</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token template-string template-punctuation string" style="color:#f1fa8c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation constant" style="color:#bd93f9">HOST</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string string" style="color:#f1fa8c">/imp</span><span class="token template-string template-punctuation string" style="color:#f1fa8c">`</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      method</span><span class="token operator" style="color:#ff79c6">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;POST&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      body</span><span class="token operator" style="color:#ff79c6">:</span><span class="token plain"> form</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      headers</span><span class="token operator" style="color:#ff79c6">:</span><span class="token plain"> form</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">getHeaders</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">log</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">r</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ff79c6">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">error</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">e</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#8be9fd">run</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI go"><div tabindex="0" class="prism-code language-go codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#ff79c6">package</span><span class="token plain"> main</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;bytes&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;fmt&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;io&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;io/ioutil&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;log&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;mime/multipart&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;net/http&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;net/url&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;os&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">func</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">main</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  u</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> url</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Parse</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;http://localhost:9000&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#8be9fd">checkErr</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  u</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Path </span><span class="token operator" style="color:#ff79c6">+=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;imp&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  url </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> fmt</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Sprintf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;%v&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> u</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  fileName </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;/path/to/data.csv&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  file</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Open</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">fileName</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#8be9fd">checkErr</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">defer</span><span class="token plain"> file</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Close</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  buf </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">new</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">bytes</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Buffer</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  writer </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> multipart</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">NewWriter</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">buf</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  uploadFile</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">_</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> writer</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">CreateFormFile</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;data&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;data.csv&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token boolean" style="color:#bd93f9">_</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> io</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Copy</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">uploadFile</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> file</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#8be9fd">checkErr</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  writer</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Close</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  req</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> http</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">NewRequest</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">http</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">MethodPut</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> url</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> buf</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#8be9fd">checkErr</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  req</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Header</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Add</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;Content-Type&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> writer</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">FormDataContentType</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  client </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&amp;</span><span class="token plain">http</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Client</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  res</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> client</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Do</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">req</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#8be9fd">checkErr</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">defer</span><span class="token plain"> res</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Body</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Close</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  body</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> ioutil</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">ReadAll</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Body</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#8be9fd">checkErr</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  log</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token function" style="color:#8be9fd">string</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">body</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">func</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">checkErr</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err </span><span class="token builtin" style="color:#bd93f9">error</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#8be9fd">panic</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="exec-sql-insert-query"></a><code>/exec</code>: SQL <code>INSERT</code> Query<a class="hash-link" href="#exec-sql-insert-query" title="Direct link to heading">#</a></h3><p>The <code>/exec</code> entrypoint takes a SQL query and returns results as JSON.</p><p>We can use this for quick SQL inserts too, but note that there&#x27;s no support for
parameterized queries that are necessary to avoid SQL injection issues.</p><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</h5></div><div class="admonition-content"><p>Prefer the <a href="#postgresql-wire-protocol">PostgreSQL interface</a> if you are
generating sql programmatically.</p><p>Prefer <a href="#influxdb-line-protocol">ILP</a> if you need high-performance inserts.</p></div></div><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_vU9c tabs__item--active">cURL</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Python</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">NodeJS</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_vU9c">Go</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI shell"><div tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#6272a4"># Create Table</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#8be9fd">curl</span><span class="token plain"> -G </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  --data-urlencode </span><span class="token string" style="color:#f1fa8c">&quot;query=CREATE TABLE IF NOT EXISTS trades(name STRING, value INT)&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  http://localhost:9000/exec</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># Insert a row</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#8be9fd">curl</span><span class="token plain"> -G </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  --data-urlencode </span><span class="token string" style="color:#f1fa8c">&quot;query=INSERT INTO trades VALUES(&#x27;abc&#x27;, 123456)&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  http://localhost:9000/exec</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI python"><div tabindex="0" class="prism-code language-python codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> sys</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> requests</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> json</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">host </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;http://localhost:9000&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">def</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">run_query</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">sql_query</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    query_params </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token string" style="color:#f1fa8c">&#x27;query&#x27;</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> sql_query</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;fmt&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;json&#x27;</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">try</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        response </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">host </span><span class="token operator" style="color:#ff79c6">+</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;/exec&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> params</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">query_params</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        json_response </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> json</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">loads</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">response</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">text</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">print</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">json_response</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">except</span><span class="token plain"> requests</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">exceptions</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">RequestException </span><span class="token keyword" style="color:#ff79c6">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#f8f8f2">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        </span><span class="token keyword" style="color:#ff79c6">print</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string-interpolation string" style="color:#f1fa8c">f&#x27;Error: </span><span class="token string-interpolation interpolation punctuation" style="color:#f8f8f2">{</span><span class="token string-interpolation interpolation">e</span><span class="token string-interpolation interpolation punctuation" style="color:#f8f8f2">}</span><span class="token string-interpolation string" style="color:#f1fa8c">&#x27;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token builtin" style="color:#bd93f9">file</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">sys</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">stderr</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># create table</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">run_query</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;CREATE TABLE IF NOT EXISTS trades (name STRING, value INT)&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># insert row</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">run_query</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;INSERT INTO trades VALUES(&#x27;abc&#x27;, 123456)&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div><div role="tabpanel" hidden=""><p>The <code>node-fetch</code> package can be installed using <code>npm i node-fetch</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI javascript"><div tabindex="0" class="prism-code language-javascript codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> fetch </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">require</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;node-fetch&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> </span><span class="token constant" style="color:#bd93f9">HOST</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;http://localhost:9000&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">async</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">function</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">createTable</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#ff79c6">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> query </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;CREATE TABLE IF NOT EXISTS trades (name STRING, value INT)&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> response </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ff79c6">await</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">fetch</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token template-string template-punctuation string" style="color:#f1fa8c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation constant" style="color:#bd93f9">HOST</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string string" style="color:#f1fa8c">/exec?query=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation function" style="color:#8be9fd">encodeURIComponent</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">(</span><span class="token template-string interpolation">query</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string template-punctuation string" style="color:#f1fa8c">`</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> json </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ff79c6">await</span><span class="token plain"> response</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">json</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">log</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">json</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ff79c6">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">log</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">async</span><span class="token plain"> </span><span class="token keyword" style="color:#ff79c6">function</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">insertData</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword control-flow" style="color:#ff79c6">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> query </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;INSERT INTO trades VALUES(&#x27;abc&#x27;, 123456)&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> response </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ff79c6">await</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">fetch</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      </span><span class="token template-string template-punctuation string" style="color:#f1fa8c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation constant" style="color:#bd93f9">HOST</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string string" style="color:#f1fa8c">/exec?query=</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">${</span><span class="token template-string interpolation function" style="color:#8be9fd">encodeURIComponent</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">(</span><span class="token template-string interpolation">query</span><span class="token template-string interpolation punctuation" style="color:#f8f8f2">)</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#f8f8f2">}</span><span class="token template-string template-punctuation string" style="color:#f1fa8c">`</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token keyword" style="color:#ff79c6">const</span><span class="token plain"> json </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ff79c6">await</span><span class="token plain"> response</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">json</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">log</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">json</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#ff79c6">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">log</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">error</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#8be9fd">createTable</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token method function property-access" style="color:#8be9fd">then</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">insertData</span><span class="token punctuation" style="color:#f8f8f2">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI go"><div tabindex="0" class="prism-code language-go codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token keyword" style="color:#ff79c6">package</span><span class="token plain"> main</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;fmt&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;io/ioutil&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;log&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;net/http&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token string" style="color:#f1fa8c">&quot;net/url&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">func</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">main</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  u</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> url</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Parse</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;http://localhost:9000&quot;</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#8be9fd">checkErr</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  u</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Path </span><span class="token operator" style="color:#ff79c6">+=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;exec&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  params </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> url</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Values</span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  params</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Add</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;query&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">`</span></div><div class="token-line" style="color:#f8f8f2"><span class="token string" style="color:#f1fa8c">    CREATE TABLE IF NOT EXISTS</span></div><div class="token-line" style="color:#f8f8f2"><span class="token string" style="color:#f1fa8c">      trades (name STRING, value INT);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token string" style="color:#f1fa8c">    INSERT INTO</span></div><div class="token-line" style="color:#f8f8f2"><span class="token string" style="color:#f1fa8c">      trades</span></div><div class="token-line" style="color:#f8f8f2"><span class="token string" style="color:#f1fa8c">    VALUES(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token string" style="color:#f1fa8c">      &quot;abc&quot;,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token string" style="color:#f1fa8c">      123456</span></div><div class="token-line" style="color:#f8f8f2"><span class="token string" style="color:#f1fa8c">    );</span></div><div class="token-line" style="color:#f8f8f2"><span class="token string" style="color:#f1fa8c">  `</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  u</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">RawQuery </span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> params</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Encode</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  url </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> fmt</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Sprintf</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token string" style="color:#f1fa8c">&quot;%v&quot;</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> u</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  res</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> http</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Get</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">url</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#8be9fd">checkErr</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">defer</span><span class="token plain"> res</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Body</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Close</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  body</span><span class="token punctuation" style="color:#f8f8f2">,</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">:=</span><span class="token plain"> ioutil</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">ReadAll</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">res</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token plain">Body</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token function" style="color:#8be9fd">checkErr</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  log</span><span class="token punctuation" style="color:#f8f8f2">.</span><span class="token function" style="color:#8be9fd">Println</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token function" style="color:#8be9fd">string</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">body</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token keyword" style="color:#ff79c6">func</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">checkErr</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err </span><span class="token builtin" style="color:#bd93f9">error</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token keyword" style="color:#ff79c6">if</span><span class="token plain"> err </span><span class="token operator" style="color:#ff79c6">!=</span><span class="token plain"> </span><span class="token boolean" style="color:#bd93f9">nil</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">{</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token function" style="color:#8be9fd">panic</span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">err</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  </span><span class="token punctuation" style="color:#f8f8f2">}</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token punctuation" style="color:#f8f8f2">}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div></div></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/turpleio/homepage/edit/main/docs/develop/insert-data.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/develop/connect"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Connect</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/develop/query-data"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Query data »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#influxdb-line-protocol" class="table-of-contents__link">InfluxDB Line Protocol</a><ul><li><a href="#examples" class="table-of-contents__link">Examples</a></li><li><a href="#timestamps" class="table-of-contents__link">Timestamps</a></li><li><a href="#ilp-datatypes-and-casts" class="table-of-contents__link">ILP Datatypes and Casts</a></li><li><a href="#constructing-well-formed-messages" class="table-of-contents__link">Constructing well-formed messages</a></li><li><a href="#errors-in-server-logs" class="table-of-contents__link">Errors in Server Logs</a></li><li><a href="#inserting-null-values" class="table-of-contents__link">Inserting NULL values</a></li><li><a href="#if-you-dont-immediately-see-data" class="table-of-contents__link">If you don&#39;t immediately see data</a></li><li><a href="#authentication" class="table-of-contents__link">Authentication</a></li><li><a href="#third-party-library-compatibility" class="table-of-contents__link">Third-party Library Compatibility</a></li></ul></li><li><a href="#postgresql-wire-protocol" class="table-of-contents__link">PostgreSQL wire protocol</a></li><li><a href="#web-console" class="table-of-contents__link">Web Console</a></li><li><a href="#http-rest-api" class="table-of-contents__link">HTTP REST API</a><ul><li><a href="#imp-uploading-tabular-data" class="table-of-contents__link"><code>/imp</code>: Uploading Tabular Data</a></li><li><a href="#exec-sql-insert-query" class="table-of-contents__link"><code>/exec</code>: SQL <code>INSERT</code> Query</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="root_JnvJ"><div class="content_-gfC center_S24y"><img alt="QuestDB logo" class="logo_JrwJ" src="/img/navbar/tp_brand.png" width="108" height="27"><div class="tagline_T1tH"><p>인프라관리부터 서비스운영까지 클라우드환경에 최적화된 클라우드 네이티브 플랫폼</p></div><div class="links_1SgP"></div></div><div class="border_PW0V"><div class="bottom_wPs3 center_S24y">Copyright © 2023 Gitple. All rights are reserved.</div></div></footer></div>
<script src="/assets/js/main.a0cde2ea.js" defer="defer"></script>
<script src="/gitplechat.js"></script>
</body>
</html>