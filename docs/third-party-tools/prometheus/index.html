<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3">
<meta httpequiv="x-ua-compatible" content="ie=edge">
<meta property="og:type" content="website">
<meta name="author" content="turpleio">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link href="https://www.googletagmanager.com" rel="dns-prefetch">
<link href="https://www.google-analytics.com" rel="dns-prefetch">
<link rel="icon" href="/favicon.png">
<link rel="apple-touch-icon" href="/img/icons/apple-180x180.png" sizes="180x180">
<meta name="msapplication-config" content="/browserconfig.xml">
<link rel="sitemap" type="application/xml" href="/sitemap.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PVR7M2G"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-PVR7M2G",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Turple: Cloud Native Platform" href="/opensearch.xml">
<link rel="manifest" href="/manifest.webmanifest">
<meta name="theme-color" content="#d14671">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#21222c">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Turple: Cloud Native Platform Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Turple: Cloud Native Platform Blog Atom Feed"><title data-react-helmet="true">Prometheus monitoring and alerting | Turple: Cloud Native Platform</title><meta data-react-helmet="true" name="twitter:description" content="Turple is a cloud native platform which can help you build and operate your services on cloud."><meta data-react-helmet="true" name="twitter:title" content="Introduction | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for &quot;Introduction | Turple: Cloud Native Platform&quot;"><meta data-react-helmet="true" property="og:title" content="Prometheus monitoring and alerting | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="description" content="This document describes how to monitor QuestDB metrics such as memory consumption using the Prometheus metrics endpoint, and how to log alerts to Prometheus Alertmanager."><meta data-react-helmet="true" property="og:description" content="This document describes how to monitor QuestDB metrics such as memory consumption using the Prometheus metrics endpoint, and how to log alerts to Prometheus Alertmanager."><meta data-react-helmet="true" property="og:image" content="https://turpleio.github.io/img/og.png"><meta data-react-helmet="true" name="twitter:image" content="https://turpleio.github.io/img/og.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link rel="stylesheet" href="/assets/css/styles.4f6557e4.css">
</head>
<body itemscope itemtype="http://schema.org/Organization">
<meta itemprop="name" content="Turple: Cloud Native Platform">
<meta itemprop="description" content="Turple is a cloud native platform which can help you build and operate your services on cloud.">
<meta itemprop="url" content="https://turpleio.github.io">
<meta itemprop="logo" content="https://turpleio.github.io/img/favicon.png">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar_wBc8 navbar--light"><div class="navbar__inner inner_Y8Z6"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand brand_AtiA" href="/">QuestDB</a></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand brand_AtiA" href="/">QuestDB</a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="wrapper_DIJ0"><div class="doc_D+rh"><div class="doc__sidebar_gVFN" role="complementary"><div class="sidebar_LIo8"><div class="menu menu--responsive thin-scrollbar menu_oAhv"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_nrF-" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" href="/docs/">Introduction</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Get Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/docker/">Docker</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/binaries/">Binaries</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/homebrew/">Homebrew</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/first-database/">Create my first dataset</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/get-started/learn-more/">Learn more</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Develop</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/develop/connect/">Connect</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/develop/insert-data/">Insert data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/develop/query-data/">Query data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/develop/update-data/">Update data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/develop/web-console/">Web Console</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/importing-data/">Large CSV import (COPY SQL)</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/importing-data-rest/">Small CSV import (REST API)</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/modifying-data/">Modify data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/working-with-timestamps-timezones/">Timestamps and time zones</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/guides/out-of-order-commit-lag/">Out-of-order commit lag</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Deployment</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/deployment/aws-official-ami/">AWS Marketplace AMI</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/deployment/kubernetes/">Kubernetes</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/deployment/google-cloud-platform/">Google Cloud Platform</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/deployment/digitalocean/">DigitalOcean Droplet</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Operations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/design-for-performance/">Design for performance</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/capacity-planning/">Capacity planning</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/data-retention/">Data retention</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/health-monitoring/">Health monitoring</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/backup/">Backup and restore</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/operations/updating-data/">Updating data</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u menu__link--sublist menu__link--active" href="#!">Third-party Tools</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menuLink_Zq3u menu__link--active active" tabindex="0" href="/docs/third-party-tools/prometheus/">Prometheus</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/third-party-tools/grafana/">Grafana</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="0">Kafka</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/kafka/overview/">Overview</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/kafka/questdb-kafka/">QuestDB Kafka connector</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/third-party-tools/kafka/jdbc/">JDBC connector</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="0" href="/docs/third-party-tools/telegraf/">Telegraf</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Concepts</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/storage-model/">Storage model</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/designated-timestamp/">Designated timestamp</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/sql-extensions/">SQL extensions</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/jit-compiler/">JIT compiler</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/partitions/">Partitions</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/symbol/">Symbol</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/indexes/">Indexes</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/geohashes/">Geospatial data</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/root-directory-structure/">Root directory</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Reference</a><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">API</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/rest/">REST</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/postgres/">Postgres</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">InfluxDB Line Protocol</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/overview/">Overview</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/columnset-types/">Columnset Value Types</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/tcp-receiver/">TCP Receiver</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/udp-receiver/">UDP Receiver</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/ilp/authenticate/">Authenticate</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/api/java-embedded/">Java (embedded)</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/command-line-options/">Command-line options</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/configuration/">Configuration</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">ILP client libraries</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/clients/overview/">Clients overview</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/clients/java_ilp/">Java ILP client</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/datatypes/">Data types</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">Functions</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/aggregation/">Aggregate</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/analytic/">Analytic</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/binary/">Binary</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/boolean/">Boolean</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/conditional/">Conditional</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/date-time/">Date and time</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/meta/">Meta</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/numeric/">Numeric</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/random-value-generator/">Random value generator</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/row-generator/">Row generator</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/spatial/">Spatial</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/text/">Text</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/timestamp-generator/">Timestamp generator</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/function/timestamp/">Timestamp</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">Operators</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/operators/bitwise/">Bitwise</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/operators/pattern-matching/">Pattern matching</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/operators/spatial/">Spatial</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">SQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/concept/sql-execution-order/">SQL execution order</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">ALTER TABLE</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-add-column/">ADD COLUMN</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-rename-column/">RENAME COLUMN</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-drop-column/">DROP COLUMN</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-attach-partition/">ATTACH PARTITION</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-detach-partition/">DETACH PARTITION</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-drop-partition/">DROP PARTITION</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-set-param/">SET PARAM</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!" tabindex="-1">ALTER COLUMN</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-alter-column-add-index/">ADD INDEX</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-alter-column-drop-index/">DROP INDEX</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/alter-table-alter-column-cache/">CACHE | NOCACHE</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/backup/">BACKUP</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/case/">CASE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/cast/">CAST</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/copy/">COPY</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/create-table/">CREATE TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/distinct/">DISTINCT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/fill/">FILL</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/drop/">DROP TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/group-by/">GROUP BY</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/insert/">INSERT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/join/">JOIN</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/latest-on/">LATEST ON</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/limit/">LIMIT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/order-by/">ORDER BY</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/reindex/">REINDEX</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/rename/">RENAME TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/sample-by/">SAMPLE BY</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/select/">SELECT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/show/">SHOW</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/snapshot/">SNAPSHOT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/truncate/">TRUNCATE TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/union-except-intersect/">UNION EXCEPT INTERSECT</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/update/">UPDATE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/vacuum-table/">VACUUM TABLE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/where/">WHERE</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/reference/sql/with/">WITH</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menuLink_Zq3u menu__link--sublist" href="#!">Troubleshooting</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/troubleshooting/faq/">FAQ</a></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" tabindex="-1" href="/docs/troubleshooting/os-error-codes/">List of OS error codes</a></li></ul></li><li class="menu__list-item"><a class="menu__link menuLink_Zq3u" href="/blog/tags/tutorial/">Tutorials</a></li></ul></div></div></div><main class="doc__main_VklL"><div class="padding-vert--lg container doc__item-wrapper_FIxd"><div class="row"><div class="col docItemCol_zHA2"><div class="docItemContainer_oiyr"><article><header><h1 class="docTitle_-X99">Prometheus monitoring and alerting</h1></header><div class="markdown"><p>Prometheus is an open-source systems monitoring and alerting toolkit. Prometheus
collects and stores metrics as time series data, i.e. metrics information is
stored with the timestamp at which it was recorded, alongside optional key-value
pairs called labels.</p><p>Users can measure the internal status of a QuestDB instance via an HTTP endpoint
exposed by QuestDB at port <code>9003</code>. This document describes how to enable metrics
via this endpoint, how to configure Prometheus to scrape metrics from a QuestDB
instance, and how to enable alerting from QuestDB to Prometheus Alertmanager.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="prerequisites"></a>Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h2><ul><li><p><strong>QuestDB</strong> must be running and accessible. You can do so from
<a href="/docs/get-started/docker">Docker</a>, the
<a href="/docs/get-started/binaries">binaries</a>, or
<a href="/docs/get-started/homebrew">Homebrew</a> for macOS users.</p></li><li><p><strong>Prometheus</strong> can be installed using
<a href="https://formulae.brew.sh/formula/prometheus" target="_blank" rel="noopener noreferrer">homebrew</a>,
<a href="https://hub.docker.com/u/prom" target="_blank" rel="noopener noreferrer">Docker</a>, or directly as a binary. For more
details, refer to the official Prometheus
<a href="https://prometheus.io/download/" target="_blank" rel="noopener noreferrer">installation instructions</a>.</p></li><li><p><strong>Alertmanager</strong> can be run using
<a href="https://hub.docker.com/r/prom/alertmanager/" target="_blank" rel="noopener noreferrer">Docker</a> or
<a href="https://quay.io/repository/prometheus/alertmanager" target="_blank" rel="noopener noreferrer">Quay</a>, or can be built
from source by following the
<a href="https://github.com/prometheus/alertmanager#compiling-the-binary" target="_blank" rel="noopener noreferrer">build instructions on GitHub</a>.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="scraping-prometheus-metrics-from-questdb"></a>Scraping Prometheus metrics from QuestDB<a class="hash-link" href="#scraping-prometheus-metrics-from-questdb" title="Direct link to heading">#</a></h2><p>QuestDB has a <code>/metrics</code> HTTP endpoint on port <code>9003</code> to expose Prometheus
metrics. Before being able to query metrics, they must be enabled via the
<code>metrics.enabled</code> key in server configuration:</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">/path/to/server.conf</div><div class="codeBlockContent_csEI ini"><div tabindex="0" class="prism-code language-ini codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">metrics.enabled=true</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>When running QuestDB via Docker, port <code>9003</code> must be exposed and the metrics
configuration can be enabled via the <code>QDB_METRICS_ENABLED</code> environment variable:</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Docker</div><div class="codeBlockContent_csEI shell"><div tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">docker run </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  -e </span><span class="token assign-left variable" style="color:#ff79c6">QDB_METRICS_ENABLED</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">TRUE </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  -p </span><span class="token number" style="color:#50fa7b">8812</span><span class="token plain">:8812 -p </span><span class="token number" style="color:#50fa7b">9000</span><span class="token plain">:9000 -p </span><span class="token number" style="color:#50fa7b">9003</span><span class="token plain">:9003 -p </span><span class="token number" style="color:#50fa7b">9009</span><span class="token plain">:9009 </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  -v </span><span class="token string" style="color:#f1fa8c">&quot;</span><span class="token string variable" style="color:#ff79c6">$(</span><span class="token string variable builtin class-name" style="color:#bd93f9">pwd</span><span class="token string variable" style="color:#ff79c6">)</span><span class="token string" style="color:#f1fa8c">:/var/lib/questdb&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  questdb/questdb:6.6.1</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>To verify that metrics are being exposed correctly by QuestDB, navigate to
<code>http://&lt;questdb_ip&gt;:9003/metrics</code> in a browser, where <code>&lt;questdb_ip&gt;</code> is the IP
address of an instance, or execute a basic curl like the following example:</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Given QuestDB running at 127.0.0.1</div><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token function" style="color:#8be9fd">curl</span><span class="token plain"> http://127.0.0.1:9003/metrics</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># TYPE questdb_json_queries_total counter</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">questdb_json_queries_total </span><span class="token number" style="color:#50fa7b">0</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># TYPE questdb_memory_tag_MMAP_DEFAULT gauge</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">questdb_memory_tag_MMAP_DEFAULT </span><span class="token number" style="color:#50fa7b">77872</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># TYPE questdb_memory_malloc_count gauge</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">questdb_memory_malloc_count </span><span class="token number" style="color:#50fa7b">659</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># ...</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>To configure Prometheus to scrape these metrics, provide the QuestDB instance IP
and port <code>9003</code> as a target. The following example configuration file
<code>questdb.yml</code> assumes there is a running QuestDB instance on localhost
(127.0.0.1) with port <code>9003</code> available:</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">questdb.yml</div><div class="codeBlockContent_csEI shell"><div tabindex="0" class="prism-code language-shell codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">global:</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  scrape_interval: 5s</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  external_labels:</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    monitor: </span><span class="token string" style="color:#f1fa8c">&#x27;questdb&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">scrape_configs:</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  - job_name: </span><span class="token string" style="color:#f1fa8c">&#x27;questdb&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    scrape_interval: 5s</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    static_configs:</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">      - targets: </span><span class="token punctuation" style="color:#f8f8f2">[</span><span class="token string" style="color:#f1fa8c">&#x27;127.0.0.1:9003&#x27;</span><span class="token punctuation" style="color:#f8f8f2">]</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Start Prometheus and pass this configuration on launch:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">prometheus --config.file</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">questdb.yml</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Prometheus should be available on <code>0.0.0.0:9090</code> and navigating to
<code>http://0.0.0.0:9090/targets</code> should show that QuestDB is being scraped
successfully:</p><figure><img alt="Prometheus targets tab showing a QuestDB instance status" class="image_Pw1y margin_Rc0b shadow_7z-4" height="320" src="/img/guides/prometheus/healthy-targets.png" width="750"></figure><p>In the graphing tab of Prometheus (<code>http://0.0.0.0:9090/graph</code>), autocomplete
can be used to graph QuestDB-specific metrics which are all prefixed with
<code>questdb_</code>:</p><figure><img alt="Prometheus graphing tab showing QuestDB instance metrics on a chart" class="image_Pw1y margin_Rc0b shadow_7z-4" height="320" src="/img/guides/prometheus/graphing-metrics.png" width="750"></figure><p>The following metrics are available:</p><table><thead><tr><th align="left">Metric</th><th align="left">Type</th><th align="left">Description</th></tr></thead><tbody><tr><td align="left"><code>questdb_commits_total</code></td><td align="left">counter</td><td align="left">Number of total commits of all types (in-order and out-of-order) executed on the database tables.</td></tr><tr><td align="left"><code>questdb_o3_commits_total</code></td><td align="left">counter</td><td align="left">Number of total out-of-order (O3) commits executed on the database tables.</td></tr><tr><td align="left"><code>questdb_committed_rows_total</code></td><td align="left">counter</td><td align="left">Number of total rows committed to the database tables.</td></tr><tr><td align="left"><code>questdb_physically_written_rows_total</code></td><td align="left">counter</td><td align="left">Number of total rows physically written to disk. Greater than <code>committed_rows</code> when <a href="/docs/guides/out-of-order-commit-lag">out-of-order ingestion</a> is enabled. Write amplification is <code>questdb_physically_written_rows_total / questdb_committed_rows_total</code>.</td></tr><tr><td align="left"><code>questdb_rollbacks_total</code></td><td align="left">counter</td><td align="left">Number of total rollbacks executed on the database tables.</td></tr><tr><td align="left"><code>questdb_json_queries_total</code></td><td align="left">counter</td><td align="left">Number of total REST API queries, including retries.</td></tr><tr><td align="left"><code>questdb_json_queries_completed</code></td><td align="left">counter</td><td align="left">Number of successfully executed REST API queries.</td></tr><tr><td align="left"><code>questdb_unhandled_errors_total</code></td><td align="left">counter</td><td align="left">Number of total unhandled errors occurred in the database. Such errors usually mean a critical service degradation in one of the database subsystems.</td></tr><tr><td align="left"><code>questdb_jvm_major_gc_count</code></td><td align="left">counter</td><td align="left">Number of times major JVM garbage collection was triggered.</td></tr><tr><td align="left"><code>questdb_jvm_major_gc_time</code></td><td align="left">counter</td><td align="left">Total time spent on major JVM garbage collection in milliseconds.</td></tr><tr><td align="left"><code>questdb_jvm_minor_gc_count</code></td><td align="left">counter</td><td align="left">Number of times minor JVM garbage collection pause was triggered.</td></tr><tr><td align="left"><code>questdb_jvm_minor_gc_time</code></td><td align="left">counter</td><td align="left">Total time spent on minor JVM garbage collection pauses in milliseconds.</td></tr><tr><td align="left"><code>questdb_jvm_unknown_gc_count</code></td><td align="left">counter</td><td align="left">Number of times JVM garbage collection of unknown type was triggered. Non-zero values of this metric may be observed only on some, non-mainstream JVM implementations.</td></tr><tr><td align="left"><code>questdb_jvm_unknown_gc_time</code></td><td align="left">counter</td><td align="left">Total time spent on JVM garbage collection of unknown type in milliseconds. Non-zero values of this metric may be observed only on some, non-mainstream JVM implementations.</td></tr><tr><td align="left"><code>questdb_memory_tag_MMAP_DEFAULT</code></td><td align="left">gauge</td><td align="left">Amount of memory allocated for mmaped files.</td></tr><tr><td align="left"><code>questdb_memory_tag_NATIVE_DEFAULT</code></td><td align="left">gauge</td><td align="left">Amount of allocated untagged native memory.</td></tr><tr><td align="left"><code>questdb_memory_tag_MMAP_O3</code></td><td align="left">gauge</td><td align="left">Amount of memory allocated for O3 mmapped files.</td></tr><tr><td align="left"><code>questdb_memory_tag_NATIVE_O3</code></td><td align="left">gauge</td><td align="left">Amount of memory allocated for O3.</td></tr><tr><td align="left"><code>questdb_memory_tag_NATIVE_RECORD_CHAIN</code></td><td align="left">gauge</td><td align="left">Amount of memory allocated for SQL record chains.</td></tr><tr><td align="left"><code>questdb_memory_tag_MMAP_TABLE_WRITER</code></td><td align="left">gauge</td><td align="left">Amount of memory allocated for table writer mmapped files.</td></tr><tr><td align="left"><code>questdb_memory_tag_NATIVE_TREE_CHAIN</code></td><td align="left">gauge</td><td align="left">Amount of memory allocated for SQL tree chains.</td></tr><tr><td align="left"><code>questdb_memory_tag_MMAP_TABLE_READER</code></td><td align="left">gauge</td><td align="left">Amount of memory allocated for table reader mmapped files.</td></tr><tr><td align="left"><code>questdb_memory_tag_NATIVE_COMPACT_MAP</code></td><td align="left">gauge</td><td align="left">Amount of memory allocated for SQL compact maps.</td></tr><tr><td align="left"><code>questdb_memory_tag_NATIVE_FAST_MAP</code></td><td align="left">gauge</td><td align="left">Amount of memory allocated for SQL fast maps.</td></tr><tr><td align="left"><code>questdb_memory_tag_NATIVE_LONG_LIST</code></td><td align="left">gauge</td><td align="left">Amount of memory allocated for long lists.</td></tr><tr><td align="left"><code>questdb_memory_tag_NATIVE_HTTP_CONN</code></td><td align="left">gauge</td><td align="left">Amount of memory allocated for HTTP connections.</td></tr><tr><td align="left"><code>questdb_memory_tag_NATIVE_PGW_CONN</code></td><td align="left">gauge</td><td align="left">Amount of memory allocated for PGWire connections.</td></tr><tr><td align="left"><code>questdb_memory_tag_MMAP_INDEX_READER</code></td><td align="left">gauge</td><td align="left">Amount of memory allocated for index reader mmapped files.</td></tr><tr><td align="left"><code>questdb_memory_tag_MMAP_INDEX_WRITER</code></td><td align="left">gauge</td><td align="left">Amount of memory allocated for index writer mmapped files.</td></tr><tr><td align="left"><code>questdb_memory_tag_MMAP_INDEX_SLIDER</code></td><td align="left">gauge</td><td align="left">Amount of memory allocated for indexed column view mmapped files.</td></tr><tr><td align="left"><code>questdb_memory_tag_NATIVE_REPL</code></td><td align="left">gauge</td><td align="left">Amount of memory mapped for replication tasks.</td></tr><tr><td align="left"><code>questdb_memory_free_count</code></td><td align="left">gauge</td><td align="left">Number of times native memory was freed.</td></tr><tr><td align="left"><code>questdb_memory_mem_used</code></td><td align="left">gauge</td><td align="left">Current amount of allocated native memory.</td></tr><tr><td align="left"><code>questdb_memory_malloc_count</code></td><td align="left">gauge</td><td align="left">Number of times native memory was allocated.</td></tr><tr><td align="left"><code>questdb_memory_realloc_count</code></td><td align="left">gauge</td><td align="left">Number of times native memory was reallocated.</td></tr><tr><td align="left"><code>questdb_memory_jvm_free</code></td><td align="left">gauge</td><td align="left">Current amount of free Java memory heap in bytes.</td></tr><tr><td align="left"><code>questdb_memory_jvm_total</code></td><td align="left">gauge</td><td align="left">Current size of Java memory heap in bytes.</td></tr><tr><td align="left"><code>questdb_memory_jvm_max</code></td><td align="left">gauge</td><td align="left">Maximum amount of Java heap memory that can be allocated in bytes.</td></tr><tr><td align="left"><code>questdb_json_queries_cached</code></td><td align="left">gauge</td><td align="left">Number of current cached REST API queries.</td></tr><tr><td align="left"><code>questdb_pg_wire_select_queries_cached</code></td><td align="left">gauge</td><td align="left">Number of current cached PGWire <code>SELECT</code> queries.</td></tr><tr><td align="left"><code>questdb_pg_wire_update_queries_cached</code></td><td align="left">gauge</td><td align="left">Number of current cached PGWire <code>UPDATE</code> queries.</td></tr></tbody></table><p>All of the above metrics are volatile, i.e. they&#x27;re collected since the current
database start.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="configuring-prometheus-alertmanager"></a>Configuring Prometheus Alertmanager<a class="hash-link" href="#configuring-prometheus-alertmanager" title="Direct link to heading">#</a></h2><p>QuestDB includes a log writer that sends any message logged at critical level
(by default) to Prometheus
<a href="https://prometheus.io/docs/alerting/latest/alertmanager/" target="_blank" rel="noopener noreferrer">Alertmanager</a> over a
TCP/IP socket connection. To configure this writer, add it to the <code>writers</code>
config alongside other log writers. Details on logging configuration can be
found on the
<a href="/docs/reference/configuration#configuration-file">server configuration documentation</a>.</p><p>Alertmanager may be started via Docker with the following command:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">docker run -p 127.0.0.1:9093:9093 --name alertmanager quay.io/prometheus/alertmanager</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>To discover the IP address of this container, run the following command which
specifies <code>alertmanager</code> as the container name:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">docker inspect -f </span><span class="token string" style="color:#f1fa8c">&#x27;{{range.NetworkSettings.Networks}}{{.IPAddress}}{{end}}&#x27;</span><span class="token plain"> alertmanager</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>To run QuestDB and point it towards Alertmanager for alerting, first create a
file <code>./conf/log.conf</code> with the following contents. <code>172.17.0.2</code> in this case is
the IP address of the docker container for alertmanager that was discovered by
running the <code>docker inspect </code> command above.</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">./conf/log.conf</div><div class="codeBlockContent_csEI ini"><div tabindex="0" class="prism-code language-ini codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain"># Which writers to enable</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">writers=stdout,alert</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"># stdout</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">w.stdout.class=io.questdb.log.LogConsoleWriter</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">w.stdout.level=INFO</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"># Prometheus Alerting</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">w.alert.class=io.questdb.log.LogAlertSocketWriter</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">w.alert.level=CRITICAL</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">w.alert.alertTargets=172.17.0.2:9093</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Start up QuestDB in Docker using the following command:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">docker run </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  -p </span><span class="token number" style="color:#50fa7b">9000</span><span class="token plain">:9000 -p </span><span class="token number" style="color:#50fa7b">8812</span><span class="token plain">:8812 -p </span><span class="token number" style="color:#50fa7b">9009</span><span class="token plain">:9009 -p </span><span class="token number" style="color:#50fa7b">9003</span><span class="token plain">:9003 </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  -v </span><span class="token string" style="color:#f1fa8c">&quot;</span><span class="token string variable" style="color:#ff79c6">$(</span><span class="token string variable builtin class-name" style="color:#bd93f9">pwd</span><span class="token string variable" style="color:#ff79c6">)</span><span class="token string" style="color:#f1fa8c">::/var/lib/questdb&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  questdb/questdb:6.1.3</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>When alerts are successfully triggered, QuestDB logs will indicate the sent and
received status:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI txt"><div tabindex="0" class="prism-code language-txt codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">2021-12-14T18:42:54.222967Z I i.q.l.LogAlertSocketWriter Sending: 2021-12-14T18:42:54.122874Z I i.q.l.LogAlertSocketWriter Sending: 2021-12-14T18:42:54.073978Z I i.q.l.LogAlertSocketWriter Received [0] 172.17.0.2:9093: {&quot;status&quot;:&quot;success&quot;}</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">2021-12-14T18:42:54.223377Z I i.q.l.LogAlertSocketWriter Received [0] 172.17.0.2:9093: {&quot;status&quot;:&quot;success&quot;}</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><div class="admonition admonition-info alert alert--info"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</h5></div><div class="admonition-content"><p>The template used by QuestDB for alerts is user-configurable and is described in
more detail in the
<a href="/docs/reference/configuration#prometheus-alertmanager">server configuration</a>
documentation.</p></div></div></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/turpleio/homepage/edit/main/docs/third-party-tools/prometheus.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/operations/updating-data"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label"> Updating data</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/third-party-tools/grafana"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Grafana </div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link">Prerequisites</a></li><li><a href="#scraping-prometheus-metrics-from-questdb" class="table-of-contents__link">Scraping Prometheus metrics from QuestDB</a></li><li><a href="#configuring-prometheus-alertmanager" class="table-of-contents__link">Configuring Prometheus Alertmanager</a></li></ul></div></div></div></div></main></div></div><footer class="root_JnvJ"><div class="content_-gfC center_S24y"><img alt="QuestDB logo" class="logo_JrwJ" src="/img/navbar/tp_brand.png" width="108" height="27"><div class="tagline_T1tH"><p>      </p></div><div class="links_1SgP"></div></div><div class="border_PW0V"><div class="bottom_wPs3 center_S24y">Copyright  2023 Gitple. All rights are reserved.</div></div></footer></div>
<script src="/assets/js/main.e53824dd.js" defer="defer"></script>
</body>
</html>