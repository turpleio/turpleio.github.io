<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3">
<meta httpequiv="x-ua-compatible" content="ie=edge">
<meta property="og:type" content="website">
<meta name="author" content="turpleio">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link href="https://www.googletagmanager.com" rel="dns-prefetch">
<link href="https://www.google-analytics.com" rel="dns-prefetch">
<link rel="icon" href="/favicon.png">
<link rel="apple-touch-icon" href="/img/icons/apple-180x180.png" sizes="180x180">
<meta name="msapplication-config" content="/browserconfig.xml">
<link rel="sitemap" type="application/xml" href="/sitemap.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PVR7M2G"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-PVR7M2G",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Turple: Cloud Native Platform" href="/opensearch.xml">
<link rel="manifest" href="/manifest.webmanifest">
<meta name="theme-color" content="#d14671">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#21222c">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Turple: Cloud Native Platform Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Turple: Cloud Native Platform Blog Atom Feed"><title data-react-helmet="true">QuestDB 6.1.3 December release, Prometheus improvements | Turple: Cloud Native Platform</title><meta data-react-helmet="true" property="og:title" content="QuestDB 6.1.3 December release, Prometheus improvements | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="description" content="We&#x27;ve released version 6.1.3 and here&#x27;s the highlights including Prometheus metrics, Prometheus Alertmanager support, SQL additions and Monaco Editor support."><meta data-react-helmet="true" name="twitter:description" content="We&#x27;ve released version 6.1.3 and here&#x27;s the highlights including Prometheus metrics, Prometheus Alertmanager support, SQL additions and Monaco Editor support."><meta data-react-helmet="true" property="og:description" content="We&#x27;ve released version 6.1.3 and here&#x27;s the highlights including Prometheus metrics, Prometheus Alertmanager support, SQL additions and Monaco Editor support."><meta data-react-helmet="true" name="twitter:title" content="QuestDB 6.1.3 December release, Prometheus improvements | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for &quot;QuestDB 6.1.3 December release, Prometheus improvements | Turple: Cloud Native Platform&quot;"><meta data-react-helmet="true" name="keywords" content="prometheus,alertmanager,vscode,monaco,timeseries,database"><meta data-react-helmet="true" property="og:image" content="https://turpleio.github.io/img/blog/2021-12-20/banner.png"><meta data-react-helmet="true" name="twitter:image" content="https://turpleio.github.io/img/blog/2021-12-20/banner.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link rel="stylesheet" href="/assets/css/styles.4f6557e4.css">
</head>
<body itemscope itemtype="http://schema.org/Organization">
<meta itemprop="name" content="Turple: Cloud Native Platform">
<meta itemprop="description" content="Turple is a cloud native platform which can help you build and operate your services on cloud.">
<meta itemprop="url" content="https://turpleio.github.io">
<meta itemprop="logo" content="https://turpleio.github.io/img/favicon.png">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar_wBc8 navbar--light"><div class="navbar__inner inner_Y8Z6"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand brand_AtiA" href="/">QuestDB</a></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand brand_AtiA" href="/">QuestDB</a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="wrapper_DIJ0 blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--3"><div class="sidebar_q+wC thin-scrollbar"><h3 class="sidebarItemTitle_9G5K">Recent posts</h3><ul class="sidebarItemList_6T4b"><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/12/19/merry-questmas-gifts-2023">Merry Questmas! Here are your gifts for 2023...</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/12/13/using-prometheus-loki-grafana-monitor-questdb-kubernetes">Using Prometheus, Loki, and Grafana to monitor QuestDB in Kubernetes</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/11/30/full-table-scan-are-fast">Listen to Your CPU - Full-table Scans Are Fast</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/11/25/questdb-6.6.1-dynamic-commits">QuestDB 6.6.1 - Dynamic Commits</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/11/23/sql-extensions-time-series-data-questdb-part-ii">SQL Extensions for Time Series Data in QuestDB - Part II</a></li></ul></div></div><main class="col col--7"><article><header><h1 class="title_KBQu">QuestDB 6.1.3 December release, Prometheus improvements</h1><time datetime="2021-12-20T00:00:00.000Z" class="date_A31P">December 20, 2021 Â· 4 min read</time><div class="avatar margin-vert--md"><a href="https://github.com/bsmth" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://avatars.githubusercontent.com/bsmth" alt="Brian Smith"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/bsmth" target="_blank" rel="noopener noreferrer">Brian Smith</a></h4><small class="avatar__subtitle">QuestDB Engineering</small></div></div></header><div class="markdown"><figure><img alt="Latest features in QuestDB version 6.1.3 including Prometheus and Alertmanager" class="image_1-Fc" height="360" src="/img/blog/2021-12-20/banner.png" width="650"></figure><p>We&#x27;ve just published 6.1.3 and it includes Prometheus Alertmanager support, new
counters in the Prometheus endpoint for memory info, automatic query timeout,
Monaco as the new SQL editor for QuestDB&#x27;s web interface, and more UI additions.
Here&#x27;s a roundup of changes that have just landed in the latest and greatest
version!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="monaco-editor-from-vs-code-in-questdb-ui"></a>Monaco Editor from VS Code in QuestDB UI<a class="hash-link" href="#monaco-editor-from-vs-code-in-questdb-ui" title="Direct link to heading">#</a></h2><p>The SQL editor in QuestDB&#x27;s web console now includes the
<a href="https://microsoft.github.io/monaco-editor/" target="_blank" rel="noopener noreferrer">Monaco Editor that powers VS Code</a>.
Upgrading the SQL editor to use the Monaco Editor brings with it many
improvements and functionality that comes by default with VS Code, so now you
get convenient features like bracket matching, find and replace-all, multiple
cursor selection, and more right out of the box:</p><figure><img alt="Find all functionality in the Monaco Editor within QuestDB" class="image_1-Fc" height="360" src="/img/blog/2021-12-20/monaco.png" width="650"></figure><p>For more information on using the Monaco Editor in QuestDB, type <kbd>F1</kbd>
in QuestDB&#x27;s web console, or refer to the official
<a href="https://code.visualstudio.com/docs/editor/codebasics" target="_blank" rel="noopener noreferrer">Monaco documentation</a>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="prometheus-metrics"></a>Prometheus metrics<a class="hash-link" href="#prometheus-metrics" title="Direct link to heading">#</a></h2><p>Prometheus is an open-source systems monitoring and alerting toolkit which
collects and stores metrics as time series data. Prometheus collects small
pieces of data about many components to help build a picture of the state and
trajectory of a system. The scraped metrics are stored, and rules can be applied
to aggregate and generate new metrics from existing data or generate alerts
based on user-defined triggers.</p><p>QuestDB has a <code>/metrics</code> HTTP endpoint on port <code>9003</code> which provide counters in
Prometheus format. Prometheus can be used to visualize and graph QuestDB metrics
prefixed with <code>questdb_</code>:</p><figure><img alt="Prometheus graphing tab showing QuestDB instance metrics on a chart" class="image_Pw1y margin_Rc0b shadow_7z-4" height="320" src="/img/guides/prometheus/graphing-metrics.png" width="750"></figure><p>For more information on configuring QuestDB and Prometheus to graph QuestDB
metrics, see the <a href="/docs/third-party-tools/prometheus">Prometheus documentation</a>
for examples and hints for setup and configuration.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="prometheus-alertmanager"></a>Prometheus Alertmanager<a class="hash-link" href="#prometheus-alertmanager" title="Direct link to heading">#</a></h2><p>Release 6.1.3 introduces a new log writer for QuestDB that sends any message to
Prometheus
<a href="https://prometheus.io/docs/alerting/latest/alertmanager/" target="_blank" rel="noopener noreferrer">Alertmanager</a>. To
configure this writer, add it to the <code>writers</code> config alongside other log
writers. Details on logging configuration can be found on the
<a href="/docs/reference/configuration#configuration-file">server configuration documentation</a>.</p><p>Configuring that QuestDB should send alerts to Alertmanager alerting is done in
QuestDB&#x27;s log config with the address and port for Alertmanager:</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">./conf/log.conf</div><div class="codeBlockContent_csEI ini"><div tabindex="0" class="prism-code language-ini codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain"># Which writers to enable</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">writers=stdout,alert</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"># Prometheus Alertmanager</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">w.alert.class=io.questdb.log.LogAlertSocketWriter</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">w.alert.level=CRITICAL</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">w.alert.alertTargets=172.17.0.2:9093</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>For details on configuring QuestDB to send alerts to Alertmanager, see the
<a href="/docs/third-party-tools/prometheus">Prometheus documentation</a> for examples and
guides for setup and configuration.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="sql-syntax-for-bulk-inserts"></a>SQL syntax for bulk inserts<a class="hash-link" href="#sql-syntax-for-bulk-inserts" title="Direct link to heading">#</a></h2><p>It&#x27;s now possible to bulk insert vales into a table via SQL. This functionality
follows the &#x27;multirow&#x27; <code>VALUES</code> syntax used in PostgreSQL and acts as an
accelerator when inserting data in bulk:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">CREATE TABLE my_table(id SYMBOL index, val DOUBLE,ts TIMESTAMP)</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  timestamp(ts);</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">INSERT INTO my_table</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">VALUES</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    (&#x27;d1&#x27;, 101.1, &#x27;2021-10-05T11:31:35.878Z&#x27;),</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    (&#x27;d1&#x27;, 101.2, &#x27;2021-10-05T12:31:35.878Z&#x27;),</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    (&#x27;d2&#x27;, 201.2, &#x27;2021-10-05T12:31:35.878Z&#x27;),</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    (&#x27;d2&#x27;, 201.3, &#x27;2021-10-05T13:31:35.878Z&#x27;),</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    (&#x27;d2&#x27;, 201.4, &#x27;2021-10-05T14:31:35.878Z&#x27;);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="automatic-sql-query-timeout"></a>Automatic SQL query timeout<a class="hash-link" href="#automatic-sql-query-timeout" title="Direct link to heading">#</a></h2><p>Users can now define automatic timeouts for SQL queries via server
configuration. This is set using the <code>query.timeout.sec</code> server configuration
and is a global timeout in seconds used for long-running queries. For more
information on setting this parameter, see the
<a href="/docs/reference/configuration">server configuration documentation</a>.</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">/path/to/server.conf</div><div class="codeBlockContent_csEI ini"><div tabindex="0" class="prism-code language-ini codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain"># Default is 60 sec</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">query.timeout.sec=60</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="next-up"></a>Next up<a class="hash-link" href="#next-up" title="Direct link to heading">#</a></h2><p>The team will be adding Java 17 support in the next release, meanwhile, we&#x27;re
working on <code>UPDATE</code>/<code>DELETE</code> support, a JIT (Just-in-time) compiler for filters,
and more stability improvements on InfluxDB line protocol.</p><p>We hope you enjoyed the features and functionality in version 6.1.3. See the
<a href="https://github.com/questdb/questdb/releases/tag/6.1.3" target="_blank" rel="noopener noreferrer">release notes on GitHub</a>
for the complete list of additions and fixes. Weâre eagerly awaiting your
feedback, so feel free to reach out and let us know how it&#x27;s running. You can
let us know how we&#x27;re doing or just come by and say hello
<a href="https://" target="_blank" rel="noopener noreferrer">in our Slack Community</a> or browse the repository
<a href="https://" target="_blank" rel="noopener noreferrer">on GitHub</a>.</p></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/release">release</a><a class="margin-horiz--sm" href="/blog/tags/team">team</a><a class="margin-horiz--sm" href="/blog/tags/prometheus">prometheus</a></div></footer></article><div></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2022/01/03/two-year-journey-raising-15m-venture-capital"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« Our two-year journey to raise $15m in venture capital</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2021/11/29/questdb-versus-influxdb"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Comparing InfluxDB and QuestDB databases Â»</div></a></div></nav></div></main></div></div><div class="root_0lLS"><div class="cards_xeZk"><div class="root_R798 skinPrimary_JHOH"><svg width="76" height="76" viewBox="0 0 76 76" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="38" cy="38" r="38" fill="#1E1F27"></circle><path d="M56.99 18.792a.817.817 0 00-.117-.303c-.01-.02-.02-.05-.03-.069-.01-.02-.029-.029-.048-.049a.912.912 0 00-.137-.136l-.117-.088c-.02-.01-.03-.03-.05-.04-.029-.01-.068-.029-.107-.039a.85.85 0 00-.146-.049 1.075 1.075 0 00-.176-.019h-.147a1.15 1.15 0 00-.196.049c-.029.01-.068.01-.097.02L12.59 36.67a.979.979 0 00-.509 1.29c.098.216.264.401.48.5l16.07 7.556v15.025c0 .537.44.977.978.977a.964.964 0 00.831-.469l6.794-11.046 10.499 5.533a.974.974 0 001.408-.655l7.84-36.2v-.058c.01-.058.01-.107.019-.156 0-.059 0-.117-.01-.176zM29.413 44.208L15.376 37.6l36.326-15.68-22.289 22.288zm1.174 13.363V47.004l4.917 2.59-4.917 7.977zm16.92-3.87l-9.237-4.86-1.662-1.026-.068.118-5.289-2.786 23.1-23.12L47.508 53.7z" fill="#fff"></path></svg><h3 class="title_BHe0">ë¬¸ìíê¸°</h3><p class="description_Bwvi">ì´ë©ì¼ì ìë ¥íìë©´ ìê°ìë£ë¥¼ ë³´ë´ëë¦½ëë¤.</p><div class="content_gAr2"><form class="root_teCd"><div><div class="inputs_0wQ8"><input type="email" class="input_cjQx input_a6pP" name="email" required="" pattern="^[a-zA-Z0-9.!#$%&amp;&#x27;*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$" placeholder="Email address" title="Email address should be valid"><button class="submit_poRs button_f7Ff button--tertiary_vtfp button--uppercase_ESEN" type="submit">ë³´ë´ê¸°</button></div></div></form></div></div></div></div></div><footer class="root_JnvJ"><div class="content_-gfC center_S24y"><img alt="QuestDB logo" class="logo_JrwJ" src="/img/navbar/tp_brand.png" width="108" height="27"><div class="tagline_T1tH"><p>ì¸íë¼ê´ë¦¬ë¶í° ìë¹ì¤ì´ìê¹ì§ í´ë¼ì°ëíê²½ì ìµì íë í´ë¼ì°ë ë¤ì´í°ë¸ íë«í¼</p></div><div class="links_1SgP"></div></div><div class="border_PW0V"><div class="bottom_wPs3 center_S24y">Copyright Â© 2023 Gitple. All rights are reserved.</div></div></footer></div>
<script src="/assets/js/main.185a1183.js" defer="defer"></script>
</body>
</html>