<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3">
<meta httpequiv="x-ua-compatible" content="ie=edge">
<meta property="og:type" content="website">
<meta name="author" content="turpleio">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link href="https://www.googletagmanager.com" rel="dns-prefetch">
<link href="https://www.google-analytics.com" rel="dns-prefetch">
<link rel="icon" href="/favicon.png">
<link rel="apple-touch-icon" href="/img/icons/apple-180x180.png" sizes="180x180">
<meta name="msapplication-config" content="/browserconfig.xml">
<link rel="sitemap" type="application/xml" href="/sitemap.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PVR7M2G"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-PVR7M2G",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Turple: Cloud Native Platform" href="/opensearch.xml">
<link rel="manifest" href="/manifest.webmanifest">
<meta name="theme-color" content="#d14671">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#21222c">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Turple: Cloud Native Platform Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Turple: Cloud Native Platform Blog Atom Feed"><title data-react-helmet="true">Streaming on-chain Ethereum data to QuestDB | Turple: Cloud Native Platform</title><meta data-react-helmet="true" property="og:title" content="Streaming on-chain Ethereum data to QuestDB | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="description" content="Learn how to use Infura, Blockchain ETL, and QuestDB to stream Ethereum data to a time series database for visualization and analysis."><meta data-react-helmet="true" name="twitter:description" content="Learn how to use Infura, Blockchain ETL, and QuestDB to stream Ethereum data to a time series database for visualization and analysis."><meta data-react-helmet="true" property="og:description" content="Learn how to use Infura, Blockchain ETL, and QuestDB to stream Ethereum data to a time series database for visualization and analysis."><meta data-react-helmet="true" name="twitter:title" content="Streaming on-chain Ethereum data to QuestDB | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for &quot;Streaming on-chain Ethereum data to QuestDB | Turple: Cloud Native Platform&quot;"><meta data-react-helmet="true" name="keywords" content="timeseries,infura,kafka,blockchain,ethereum,crypto,etl"><meta data-react-helmet="true" property="og:image" content="https://turpleio.github.io/img/blog/shared/og-ethereum.png"><meta data-react-helmet="true" name="twitter:image" content="https://turpleio.github.io/img/blog/shared/og-ethereum.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link rel="stylesheet" href="/assets/css/styles.4f6557e4.css">
</head>
<body itemscope itemtype="http://schema.org/Organization">
<meta itemprop="name" content="Turple: Cloud Native Platform">
<meta itemprop="description" content="Turple is a cloud native platform which can help you build and operate your services on cloud.">
<meta itemprop="url" content="https://turpleio.github.io">
<meta itemprop="logo" content="https://turpleio.github.io/img/favicon.png">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar_wBc8 navbar--light"><div class="navbar__inner inner_Y8Z6"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand brand_AtiA" href="/">QuestDB</a></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand brand_AtiA" href="/">QuestDB</a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"></ul></div></div></div></nav><div class="wrapper_DIJ0 blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--3"><div class="sidebar_q+wC thin-scrollbar"><h3 class="sidebarItemTitle_9G5K">Recent posts</h3><ul class="sidebarItemList_6T4b"><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/12/19/merry-questmas-gifts-2023">Merry Questmas! Here are your gifts for 2023...</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/12/13/using-prometheus-loki-grafana-monitor-questdb-kubernetes">Using Prometheus, Loki, and Grafana to monitor QuestDB in Kubernetes</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/11/30/full-table-scan-are-fast">Listen to Your CPU - Full-table Scans Are Fast</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/11/25/questdb-6.6.1-dynamic-commits">QuestDB 6.6.1 - Dynamic Commits</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/11/23/sql-extensions-time-series-data-questdb-part-ii">SQL Extensions for Time Series Data in QuestDB - Part II</a></li></ul></div></div><main class="col col--7"><article><header><h1 class="title_KBQu">Streaming on-chain Ethereum data to QuestDB</h1><time datetime="2021-04-12T00:00:00.000Z" class="date_A31P">April 12, 2021 Â· 6 min read</time><div class="avatar margin-vert--md"><a href="https://github.com/Yitaek" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://avatars.githubusercontent.com/Yitaek" alt="Yitaek Hwang"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://github.com/Yitaek" target="_blank" rel="noopener noreferrer">Yitaek Hwang</a></h4><small class="avatar__subtitle">Guest</small></div></div></header><div class="markdown"><figure><img alt="Physical coins with Ethereum and Bitcoin logos." class="image_1-Fc image--title_Z46g" height="467" src="/img/blog/2021-04-12/banner.jpg" width="650"><figcaption class="caption_VLGg">Photo by <a href="https://unsplash.com/@thoughtcatalog" target="_blank" rel="noopener noreferrer">Thought Catalog</a> via <a href="https://unsplash.com" target="_blank" rel="noopener noreferrer">Unsplash</a></figcaption></figure><p>This submission comes from one of our community contributors
<a href="https://yitaek.medium.com/" target="_blank" rel="noopener noreferrer">Yitaek Hwang</a> who has put together another
excellent tutorial that shows how to stream Ethereum blockchain data into
QuestDB for time series data visualization and analysis.</p><p>Thanks for another great contribution, Yitaek!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="introduction"></a>Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">#</a></h2><p>Previously, I wrote about using
<a href="/blog/2021/03/18/questdb-and-prometheus-on-gke-autopilot">Coinbase API and Kafka Connect</a>
to track the price of various cryptocurrencies in real-time. While price is an
important factor for a potential investor, on-chain data like block information
(gas used, difficulty), transactions, and smart contracts also provide useful
metrics for technical analysis. In this tutorial, we will pull on-chain data
from Ethereum and stream it to QuestDB for further analysis and visualization.</p><p><strong>Disclaimer:</strong> This tutorial is not investment or financial advice. All views
expressed here are my own.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="prerequisites"></a>Prerequisites<a class="hash-link" href="#prerequisites" title="Direct link to heading">#</a></h2><ul><li><a href="https://www.python.org/downloads/" target="_blank" rel="noopener noreferrer">Python 3.6+</a></li><li><a href="https://www.docker.com/products/docker-desktop" target="_blank" rel="noopener noreferrer">Docker</a></li><li><a href="https://infura.io/" target="_blank" rel="noopener noreferrer">Infura</a> account</li></ul><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</h5></div><div class="admonition-content"><p>This tutorial uses ethereum-etl 1.6.x series.
Later releases may not be compatible with QuestDB.</p></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="accessing-ethereum-on-chain-data"></a>Accessing Ethereum on-chain data<a class="hash-link" href="#accessing-ethereum-on-chain-data" title="Direct link to heading">#</a></h2><p>Infura is a development platform powered by Consensys with a generous free tier
(100k requests/day) to pull data from Ethereum Mainnet and Testnets. Create a
new project in your Infura account under Ethereum:</p><figure><img alt="A new account on Infura showing API call quotas remaining" class="image_Pw1y margin_Rc0b shadow_7z-4" height="278" src="/img/blog/2021-04-12/infura-account.png" width="650"></figure><p>Make note of the HTTPS endpoint for the Mainnet in the following format:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI txt"><div tabindex="0" class="prism-code language-txt codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">https://mainnet.infura.io/v3/&lt;your-project-id&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="create-table-for-time-series-data"></a>Create table for time series data<a class="hash-link" href="#create-table-for-time-series-data" title="Direct link to heading">#</a></h2><p>The ETL script we will use to stream Ethereum data provides the following
on-chain information:</p><ul><li>Blocks</li><li>Contracts</li><li>Logs</li><li>Token Transfers</li><li>Tokens</li><li>Traces</li><li>Transactions</li></ul><p>For simplicity, we will only stream blocks and token transfers in this example,
but the schema for all the available on-chain data is located under
<a href="https://github.com/blockchain-etl/ethereum-etl-postgres/tree/master/schema" target="_blank" rel="noopener noreferrer">ethereum-etl-postgres/schema</a>.
This data will be indexed in QuestDB for high-performance time series data
analysis.</p><p>Start the QuestDB Docker container with the web console and PostgreSQL wire
protocol ports exposed:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">docker run -p </span><span class="token number" style="color:#50fa7b">9000</span><span class="token plain">:9000 -p </span><span class="token number" style="color:#50fa7b">8812</span><span class="token plain">:8812 questdb/questdb</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Navigate to the web console at localhost:9000 and create tables for <code>blocks</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">create table blocks</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  timestamp string,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  number int,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  hash string,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  parent_hash string,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  nonce string,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  sha3_uncles string,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  logs_bloom string,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  transactions_root string,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  state_root string,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  receipts_root string,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  miner symbol,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  difficulty long,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  total_difficulty long,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  size long,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  extra_data string,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  gas_limit long,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  gas_used long,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  transaction_count long</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>and for <code>token_transfers</code>:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">create table token_transfers</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">(</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  token_address symbol,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  from_address symbol,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  to_address symbol,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  value float,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  transaction_hash string,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  log_index long,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  block_timestamp string,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  block_number long,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  block_hash string</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>When creating tables that use repetitive strings in QuestDB, we can achieve
better performance on both storage space and query efficiency by using the
<code>symbol</code> type.</p><figure><img alt="A SQL query in the QuestDB web console showing how to create a new table" class="image_Pw1y margin_Rc0b shadow_7z-4" height="251" src="/img/blog/2021-04-12/create-table.png" width="650"></figure><p>When sending data over PostgreSQL wire, we can send regular <code>string</code> types, but
treat them as enum-like values stored as integers in QuestDB. For more
information on using this feature, further details can be found on the
<a href="/docs/concept/symbol">symbol type documentation</a>.</p><p>After refreshing the tables list, you should see both populated and weâre ready
to stream Ethereum data to our database.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="stream-ethereum-on-chain-data"></a>Stream Ethereum on-chain data<a class="hash-link" href="#stream-ethereum-on-chain-data" title="Direct link to heading">#</a></h2><p>Blockchain ETL provides a Python script to pull data from Infura and stream it
to Google Pub/Sub or Postgres. To start, we need to first install
ethereumetl[streaming] :</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">pip3 </span><span class="token function" style="color:#8be9fd">install</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&quot;ethereum-etl[streaming]&quot;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Now we need to specify our QuestDB credentials as well as Infura API details.
Postgres output is in the following format:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI http"><div tabindex="0" class="prism-code language-http codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">postgresql+pg8000://&lt;user&gt;:&lt;password&gt;@&lt;host&gt;:&lt;port&gt;/&lt;database&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>where API url is specified via <code>--provider-uri</code>. We can also specify the
<code>start-block</code> number (or omit to download all of Ethereum data from the
beginning), and the schemas weâre interested in:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">ethereumetl stream --start-block </span><span class="token number" style="color:#50fa7b">600000</span><span class="token plain"> -e block,token_transfer </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">--output postgresql+pg8000://admin:quest@localhost:8812/qdb </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">--provider-uri https://mainnet.infura.io/v3/</span><span class="token operator" style="color:#ff79c6">&lt;</span><span class="token plain">my-project-id</span><span class="token operator" style="color:#ff79c6">&gt;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>As the stream starts up, data will be visible in QuestDB:</p><figure><img alt="A SQL query in the QuestDB web console showing how to list all rows from a table" class="image_Pw1y margin_Rc0b shadow_7z-4" height="456" src="/img/blog/2021-04-12/select-all-from-blocks.png" width="650"></figure><p>The script automatically stores the last processed block in
<code>last_synced_block.txt</code>. If you would like to run the script later, you can
remove the <code>--start-block</code> flag and the script will resume from the value stored
as a checkpoint in <code>last_synced_block.txt</code>.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="exploring-data--next-steps"></a>Exploring data &amp; next steps<a class="hash-link" href="#exploring-data--next-steps" title="Direct link to heading">#</a></h2><p>QuestDB provides some built-in visualization capabilities. For example, if you
would like to explore how <code>gas_used</code> by <code>miner</code> looks, you can navigate to
<strong>Chart</strong> on the QuestDB Web Console and configure the following settings:</p><ul><li><strong>Chart type - bar</strong></li><li><strong>Labels - <code>miner</code></strong></li><li><strong>Series - <code>gas_used</code></strong></li></ul><figure><img alt="The chart functionality in the QuestDB web console showing a bar chart of blockchain info" class="image_Pw1y margin_Rc0b shadow_7z-4" height="257" src="/img/blog/2021-04-12/visualizing-data.png" width="650"></figure><p>The Ethereum ETL script currently stores
<a href="https://github.com/blockchain-etl/ethereum-etl/blob/develop/ethereumetl/streaming/eth_item_timestamp_calculator.py" target="_blank" rel="noopener noreferrer">timestamp data in RFC3339 format</a>,
whereas QuestDB expects signed offset from Unix Epoch. This was why our table
schema used <code>string</code> instead of <code>timestamp</code> type for our time series fields. To
see better performance and to use more language features that QuestDB offers,
there are a few options. We can either modify the ETL script directly to send
<code>timestamp</code> types, or stream our data to Cloud Pub/Sub, transform the data prior
to streaming to QuestDB.</p><p>Alternatively, we can use the <code>to_timestamp()</code> function in QuestDB to parse
string fields with a date format as timestamps. For example, pulling data from
the <code>blocks</code> table using <code>timestamp</code> type can be done on-the-fly using this
query:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI questdb-sql"><div tabindex="0" class="prism-code language-questdb-sql codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT to_timestamp(timestamp, &#x27;yyyy-MM-dd HH:mm:ss&#x27;) AS time,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        number,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        miner,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        difficulty,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        size,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        gas_limit,</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">        gas_used</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">FROM (blocks ORDER BY timestamp);</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Finally, if you are going to stream contracts or token data, you&#x27;ll need to
first flatten <code>function_sighashes</code> as QuestDB does not support <code>array</code> types
natively yet.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="summary"></a>Summary<a class="hash-link" href="#summary" title="Direct link to heading">#</a></h2><p>We&#x27;ve learned how to stream Ethereum on-chain data from Infura into QuestDB for
time series analysis using Python ETL scripts. With this data, you can now
calculate popular signals like Network Value to Transaction Ratio or replicate
analysis provided on Coin Metrics or Glassnode. As a bonus, you can deploy the
streaming application to Kubernetes following the
<a href="https://github.com/blockchain-etl/blockchain-etl-streaming" target="_blank" rel="noopener noreferrer">instructions on this GitHub repository</a>.</p><p>If you like this content, we&#x27;d love to know your thoughts! Feel free to share
your feedback or come and say hello in the
<a href="https://" target="_blank" rel="noopener noreferrer">QuestDB Community Slack</a>.</p></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/tutorial">tutorial</a><a class="margin-horiz--sm" href="/blog/tags/crypto">crypto</a><a class="margin-horiz--sm" href="/blog/tags/blockchain">blockchain</a><a class="margin-horiz--sm" href="/blog/tags/ethereum">ethereum</a><a class="margin-horiz--sm" href="/blog/tags/kafka">kafka</a><a class="margin-horiz--sm" href="/blog/tags/infura">infura</a></div></footer></article><div></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2021/04/20/questdb-release-6-0-alpha"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« QuestDB version 6.0 alpha</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2021/03/31/automating-etl-jobs-on-time-series-data-on-gcp"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">Automating ETL jobs on time series data with QuestDB on Google Cloud Platform Â»</div></a></div></nav></div></main></div></div><div class="root_0lLS"><div class="cards_xeZk"><div class="root_R798 skinPrimary_JHOH"><svg width="76" height="76" viewBox="0 0 76 76" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="38" cy="38" r="38" fill="#1E1F27"></circle><path d="M56.99 18.792a.817.817 0 00-.117-.303c-.01-.02-.02-.05-.03-.069-.01-.02-.029-.029-.048-.049a.912.912 0 00-.137-.136l-.117-.088c-.02-.01-.03-.03-.05-.04-.029-.01-.068-.029-.107-.039a.85.85 0 00-.146-.049 1.075 1.075 0 00-.176-.019h-.147a1.15 1.15 0 00-.196.049c-.029.01-.068.01-.097.02L12.59 36.67a.979.979 0 00-.509 1.29c.098.216.264.401.48.5l16.07 7.556v15.025c0 .537.44.977.978.977a.964.964 0 00.831-.469l6.794-11.046 10.499 5.533a.974.974 0 001.408-.655l7.84-36.2v-.058c.01-.058.01-.107.019-.156 0-.059 0-.117-.01-.176zM29.413 44.208L15.376 37.6l36.326-15.68-22.289 22.288zm1.174 13.363V47.004l4.917 2.59-4.917 7.977zm16.92-3.87l-9.237-4.86-1.662-1.026-.068.118-5.289-2.786 23.1-23.12L47.508 53.7z" fill="#fff"></path></svg><h3 class="title_BHe0">ë¬¸ìíê¸°</h3><p class="description_Bwvi">ì´ë©ì¼ì ìë ¥íìë©´ ìê°ìë£ë¥¼ ë³´ë´ëë¦½ëë¤.</p><div class="content_gAr2"><form class="root_teCd"><div><div class="inputs_0wQ8"><input type="email" class="input_cjQx input_a6pP" name="email" required="" pattern="^[a-zA-Z0-9.!#$%&amp;&#x27;*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$" placeholder="Email address" title="Email address should be valid"><button class="submit_poRs button_f7Ff button--tertiary_vtfp button--uppercase_ESEN" type="submit">ë³´ë´ê¸°</button></div></div></form></div></div></div></div></div><footer class="root_JnvJ"><div class="content_-gfC center_S24y"><img alt="QuestDB logo" class="logo_JrwJ" src="/img/navbar/tp_brand.png" width="108" height="27"><div class="tagline_T1tH"><p>ì¸íë¼ê´ë¦¬ë¶í° ìë¹ì¤ì´ìê¹ì§ í´ë¼ì°ëíê²½ì ìµì íë í´ë¼ì°ë ë¤ì´í°ë¸ íë«í¼</p></div><div class="links_1SgP"></div></div><div class="border_PW0V"><div class="bottom_wPs3 center_S24y">Copyright Â© 2023 Gitple. All rights are reserved.</div></div></footer></div>
<script src="/assets/js/main.202cfa5e.js" defer="defer"></script>
</body>
</html>