<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=3">
<meta httpequiv="x-ua-compatible" content="ie=edge">
<meta property="og:type" content="website">
<meta name="author" content="turpleio">
<meta name="generator" content="Docusaurus v2.0.0-alpha.75">
<link href="https://www.googletagmanager.com" rel="dns-prefetch">
<link href="https://www.google-analytics.com" rel="dns-prefetch">
<link rel="icon" href="/favicon.png">
<link rel="apple-touch-icon" href="/img/icons/apple-180x180.png" sizes="180x180">
<meta name="msapplication-config" content="/browserconfig.xml">
<link rel="sitemap" type="application/xml" href="/sitemap.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-PVR7M2G"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-PVR7M2G",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Turple: Cloud Native Platform" href="/opensearch.xml">
<link rel="manifest" href="/manifest.webmanifest">
<meta name="theme-color" content="#d14671">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#21222c">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Turple: Cloud Native Platform Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Turple: Cloud Native Platform Blog Atom Feed"><title data-react-helmet="true">Comparing TimescaleDB and QuestDB timeseries databases | Turple: Cloud Native Platform</title><meta data-react-helmet="true" property="og:title" content="Comparing TimescaleDB and QuestDB timeseries databases | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="description" content="How to use the Time Series Benchmark Suite to compare database read and write performance of QuestDB versus TimescaleDB."><meta data-react-helmet="true" name="twitter:description" content="How to use the Time Series Benchmark Suite to compare database read and write performance of QuestDB versus TimescaleDB."><meta data-react-helmet="true" property="og:description" content="How to use the Time Series Benchmark Suite to compare database read and write performance of QuestDB versus TimescaleDB."><meta data-react-helmet="true" name="twitter:title" content="Comparing TimescaleDB and QuestDB timeseries databases | Turple: Cloud Native Platform"><meta data-react-helmet="true" name="twitter:image:alt" content="Image for &quot;Comparing TimescaleDB and QuestDB timeseries databases | Turple: Cloud Native Platform&quot;"><meta data-react-helmet="true" name="keywords" content="timeseries,timescaledb,benchmark,database"><meta data-react-helmet="true" property="og:image" content="https://turpleio.github.io/img/blog/shared/og-timescaledb.png"><meta data-react-helmet="true" name="twitter:image" content="https://turpleio.github.io/img/blog/shared/og-timescaledb.png"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><link rel="stylesheet" href="/assets/css/styles.4f6557e4.css">
</head>
<body itemscope itemtype="http://schema.org/Organization">
<meta itemprop="name" content="Turple: Cloud Native Platform">
<meta itemprop="description" content="Turple is a cloud native platform which can help you build and operate your services on cloud.">
<meta itemprop="url" content="https://turpleio.github.io">
<meta itemprop="logo" content="https://turpleio.github.io/img/favicon.png">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<nav class="navbar navbar_wBc8 navbar--light"><div class="navbar__inner inner_Y8Z6"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand brand_AtiA" href="/">QuestDB</a><a class="navbar__item navbar__link" href="/docs/">Docs</a></div><div class="navbar__items navbar__items--right"></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand brand_AtiA" href="/">QuestDB</a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/">Docs</a></li></ul></div></div></div></nav><div class="wrapper_DIJ0 blog-wrapper"><div class="container margin-vert--lg"><div class="row"><div class="col col--3"><div class="sidebar_q+wC thin-scrollbar"><h3 class="sidebarItemTitle_9G5K">Recent posts</h3><ul class="sidebarItemList_6T4b"><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/12/19/merry-questmas-gifts-2023">Merry Questmas! Here are your gifts for 2023...</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/12/13/using-prometheus-loki-grafana-monitor-questdb-kubernetes">Using Prometheus, Loki, and Grafana to monitor QuestDB in Kubernetes</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/11/30/full-table-scan-are-fast">Listen to Your CPU - Full-table Scans Are Fast</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/11/25/questdb-6.6.1-dynamic-commits">QuestDB 6.6.1 - Dynamic Commits</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/2022/11/23/sql-extensions-time-series-data-questdb-part-ii">SQL Extensions for Time Series Data in QuestDB - Part II</a></li></ul></div></div><main class="col col--7"><article><header><h1 class="title_KBQu">Comparing TimescaleDB and QuestDB timeseries databases</h1><time datetime="2021-08-18T00:00:00.000Z" class="date_A31P">August 18, 2021 · 9 min read</time><div class="avatar margin-vert--md"><a href="https://gist.github.com/kovid-r" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img src="https://avatars.githubusercontent.com/kovid-r" alt="Kovid Rathee"></a><div class="avatar__intro"><h4 class="avatar__name"><a href="https://gist.github.com/kovid-r" target="_blank" rel="noopener noreferrer">Kovid Rathee</a></h4><small class="avatar__subtitle">Guest</small></div></div></header><div class="markdown"><figure><img alt="TimescaleDB logo, QuestDB logo, InfluxDB logo" class="image_1-Fc" height="467" src="/img/blog/2021-08-18/banner.png" width="650"></figure><p>This post comes from
<a href="https://towardsdatascience.com/questdb-vs-timescaledb-38160a361c0e?sk=42d1c037a6dfc3786e11eb9d9f5af2ad" target="_blank" rel="noopener noreferrer">Kovid Rathee</a>,
who has put together a tutorial to show how to measure the ingestion rates and
query performance of TimescaleDB and QuestDB databases using the time series
benchmark suite. Thanks for the submission, Kovid!</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="what-are-timeseries-databases-used-for"></a>What are timeseries databases used for?<a class="hash-link" href="#what-are-timeseries-databases-used-for" title="Direct link to heading">#</a></h2><p>In a connected world, billions of users are generating more data than ever. From
human communication to the digital footprint we create, IoT sensors have become
ubiquitous, and financial transactions are completely digitized. We have an
explosion of the volume of time-centric data, and we are struggling to keep up
with it all. Timeseries databases are on the rise and OSS projects like QuestDB,
InfluxDB, TimescaleDB, and cloud-based solutions like Amazon Timestream, etc.,
are in higher demand than ever. Timeseries databases have officially come of
age.</p><p>All these products are competing for more space in the time-series domain, and
in doing that, they&#x27;re making each other better. This article will look at two
major timeseries databases and compare them using an open-source benchmarking
tool called TSBS — Time Series Benchmarking Suite. This benchmarking suite is
based on the testing scripts originally developed at InfluxDB, later enhanced by
other major timeseries databases, and currently maintained by TimescaleDB.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="what-is-the-time-series-benchmark-suite-tsbs"></a>What is the Time Series Benchmark Suite (TSBS)?<a class="hash-link" href="#what-is-the-time-series-benchmark-suite-tsbs" title="Direct link to heading">#</a></h2><p>For traditional databases like MySQL and PostgreSQL, many popular options like
<a href="https://hammerdb.com/" target="_blank" rel="noopener noreferrer">HammerDB</a> and
<a href="https://github.com/akopytov/sysbench" target="_blank" rel="noopener noreferrer">sysbench</a> are standard tools to measure
database read and write performance. Similar tools exist for different types of
databases. Performance testing makes sense when the benchmarking tool simulates
real-life scenarios by creating realistic bursts and reading streams.</p><p>The access and usage pattern for timeseries databases is very different from a
traditional database — that is why we need a tool like TSBS. TSBS currently
supports two kinds of loads:</p><ul><li><p><strong>IoT</strong> emulates the IoT data generated from the sensors of a trucking
company. Imagine tracking a trucking fleet with real-time diagnostic data from
every truck in your fleet.</p></li><li><p><strong>DevOps</strong> simulates data usage generated by a server that tracks memory
usage, CPU usage, disk usage, and so on. Imagine looking at the Grafana
dashboard with these metrics and getting alerts on breaches.</p></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="tutorial-prerequisites"></a>Tutorial prerequisites<a class="hash-link" href="#tutorial-prerequisites" title="Direct link to heading">#</a></h2><p>For this tutorial, you&#x27;ll need to have the following tools installed and
available:</p><ul><li><a href="https://docs.docker.com/get-docker/" target="_blank" rel="noopener noreferrer">Docker</a> should be available on the
machine to run <a href="/docs/get-started/docker">QuestDB</a> and
<a href="https://hub.docker.com/r/timescale/timescaledb/" target="_blank" rel="noopener noreferrer">TimescaleDB</a></li><li><a href="https://golang.org/doc/install" target="_blank" rel="noopener noreferrer">Go</a> must be installed to run the benchmark
tool</li></ul><p><strong>Note:</strong> This benchmark run was completed on a 16-core Intel(R) Xeon(R)
Platinum 8175M CPU @ 2.50GHz with 128 GB RAM on AWS EC2.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="using-the-tsbs-to-test-time-series-database-performance"></a>Using the TSBS to test time series database performance<a class="hash-link" href="#using-the-tsbs-to-test-time-series-database-performance" title="Direct link to heading">#</a></h2><p>To get started with the TSBS suite, clone the repository and prepare the tool:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#6272a4"># TSBS - create a temporary directory for the Go binaries</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#8be9fd">mkdir</span><span class="token plain"> -p ~/tmp/go/src/github.com/timescale/</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token builtin class-name" style="color:#bd93f9">cd</span><span class="token plain"> ~/tmp/go/src/github.com/timescale/</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># Clone the TSBS repository, build test and install Go binaries:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#8be9fd">git</span><span class="token plain"> clone git@github.com:questdb/tsbs.git</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token builtin class-name" style="color:#bd93f9">cd</span><span class="token plain"> ~/tmp/go/src/github.com/timescale/tsbs/ </span><span class="token operator" style="color:#ff79c6">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#8be9fd">git</span><span class="token plain"> checkout questdb-tsbs-load-new</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token assign-left variable" style="color:#ff79c6">GOPATH</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">~/tmp/go go build -v ./</span><span class="token punctuation" style="color:#f8f8f2">..</span><span class="token plain">.</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token assign-left variable" style="color:#ff79c6">GOPATH</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">~/tmp/go go </span><span class="token builtin class-name" style="color:#bd93f9">test</span><span class="token plain"> -v github.com/timescale/tsbs/cmd/tsbs_load_questdb</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token assign-left variable" style="color:#ff79c6">GOPATH</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">~/tmp/go go </span><span class="token function" style="color:#8be9fd">install</span><span class="token plain"> -v ./</span><span class="token punctuation" style="color:#f8f8f2">..</span><span class="token plain">.</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>Once all the suite is installed, QuestDB and TimescaleDB can be started:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">docker run -p </span><span class="token number" style="color:#50fa7b">9000</span><span class="token plain">:9000 -p </span><span class="token number" style="color:#50fa7b">9009</span><span class="token plain">:9009 questdb/questdb:6.0.4</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">docker run -d --name timescaledb -p </span><span class="token number" style="color:#50fa7b">5432</span><span class="token plain">:5432 -e </span><span class="token assign-left variable" style="color:#ff79c6">POSTGRES_PASSWORD</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">password </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  timescale/timescaledb:latest-pg12</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>We will test the performance of these two databases in four phases:</p><ol><li><strong>Generate DevOps data</strong> for one day, where nine different metrics are
collected every 10 seconds for 200 devices. The data will be generated
separately for QuestDB and TimescaleDB based on their respective formats. Use
the <code>tsbs_generate_data</code> utility for this.</li><li><strong>Load the generated data</strong> using the <code>tsbs_load_questdb</code> and <code>tsbs_load</code>
utilities to load data into QuestDB and TimescaleDB, respectively. This
allows us to test the ingestion and write speeds of each system.</li><li><strong>Generate queries</strong> to run on the loaded data for QuestDB and TimescaleDB.
Use the <code>tsbs_generate_queries</code> utility for this.</li><li><strong>Execute generated queries</strong> on QuestDB and TimescaleDB using
<code>tsbs_run_queries_questdb</code> and <code>tsbs_run_queries_timescaledb</code> respectively.</li></ol><p>Let&#x27;s go through the scripts for each of these steps, one by one.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="generate-test-data-for-benchmarking"></a>Generate test data for benchmarking<a class="hash-link" href="#generate-test-data-for-benchmarking" title="Direct link to heading">#</a></h3><p>For the scope of this tutorial, we&#x27;ll limit the scale of the benchmark run to
200 devices. As mentioned above, the data will be generated for one day,
tracking nine metrics for every one of the hundred devices every 10 seconds.
Using the tsbs_generate_data command, you can generate test data for any of the
supported databases and use cases.</p><p>The data generated can occupy a lot of space. You can scale up or down based on
your benchmarking requirements and availability of disk space.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#6272a4"># Navigate to the script library</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token builtin class-name" style="color:#bd93f9">cd</span><span class="token plain"> ~/tmp/go/bin/</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># Run the following command to generate data for QuestDB</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">./tsbs_generate_data </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">--use-case</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;devops&quot;</span><span class="token plain"> --seed</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">123</span><span class="token plain"> --scale</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">200</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">--timestamp-start</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;2016-01-01T00:00:00Z&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">--timestamp-end</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;2016-01-02T00:00:00Z&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">--log-interval</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;10s&quot;</span><span class="token plain"> --format</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;influx&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&gt;</span><span class="token plain"> /tmp/questdb-data</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># Run the following command to generate data for TimescaleDB</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">./tsbs_generate_data </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">   --use-case</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;devops&quot;</span><span class="token plain"> --seed</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">123</span><span class="token plain"> --scale</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">200</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">   --timestamp-start</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;2016-01-01T00:00:00Z&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">   --timestamp-end</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;2016-01-02T00:00:00Z&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">   --log-interval</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;10s&quot;</span><span class="token plain"> --format</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;timescaledb&quot;</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&gt;</span><span class="token plain"> /tmp/timescaledb-data</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The files generated for the data will be of different sizes because of the
different formats used by TimescaleDB and QuestDB. QuestDB uses Influx Line
Protocol format which is much lighter than any other format out there.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="load-generated-data-to-test-write-performance"></a>Load generated data to test write performance<a class="hash-link" href="#load-generated-data-to-test-write-performance" title="Direct link to heading">#</a></h3><p>Loading the data is even simpler than generating it. For TimescaleDB, you can
use the common utility <code>tsbs_load</code>. For QuestDB, you can use the
<code>tsbs_load_questdb</code> utility as it supports some QuestDB-specific flags like
<code>--ilp-bind-to</code> for InfluxDB Line Protocol binding port and <code>--url</code> signifying
QuestDB&#x27;s REST endpoint. You can use the following commands to load the data
into TimescaleDB and QuestDB, respectively:</p><p>Please follow the instructions for TimescaleDB&#x27;s config.yaml file.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#6272a4"># Go to the following directory</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token builtin class-name" style="color:#bd93f9">cd</span><span class="token plain"> ~/tmp/go/bin</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># Create the a config file</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">./tsbs_load config --target</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">timescaledb --data-source</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">FILE</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># Edit the config.yaml file</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># 1. Change the source file name to /tmp/timescaledb-data</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># 2. Change the password for TimescaleDB to password</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># 3. Change the number of workers to 8</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">./tsbs_load load timescaledb --config</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">./config.yaml</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># Load data into QuestDB</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">./tsbs_load_questdb --file /tmp/questdb-data --workers </span><span class="token number" style="color:#50fa7b">8</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>To get a better idea of load performance, you can try changing the <code>--workers</code>
parameter. Please ensure that the benchmarking parameters and conditions for
both databases are the same so that you get a fair comparison.</p><p><strong>TimescaleDB Load/Write Performance:</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">./tsbs_load load timescaledb --config</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain">./config.yaml</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4">#...</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">Summary:</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">loaded </span><span class="token number" style="color:#50fa7b">174528000</span><span class="token plain"> metrics </span><span class="token keyword" style="color:#ff79c6">in</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">59</span><span class="token plain">.376sec with </span><span class="token number" style="color:#50fa7b">8</span><span class="token plain"> workers </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">mean rate </span><span class="token number" style="color:#50fa7b">2939386.10</span><span class="token plain"> metrics/sec</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">loaded </span><span class="token number" style="color:#50fa7b">15552000</span><span class="token plain"> rows </span><span class="token keyword" style="color:#ff79c6">in</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">59</span><span class="token plain">.376sec with </span><span class="token number" style="color:#50fa7b">8</span><span class="token plain"> workers </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">mean rate </span><span class="token number" style="color:#50fa7b">261925.49</span><span class="token plain"> rows/sec</span><span class="token punctuation" style="color:#f8f8f2">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong>QuestDB Load/Write Performance:</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">./tsbs_load_questdb --file /tmp/questdb-data --workers </span><span class="token number" style="color:#50fa7b">8</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4">#...</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">Summary:</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">loaded </span><span class="token number" style="color:#50fa7b">174528000</span><span class="token plain"> metrics </span><span class="token keyword" style="color:#ff79c6">in</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">18</span><span class="token plain">.223sec with </span><span class="token number" style="color:#50fa7b">8</span><span class="token plain"> workers </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">mean rate </span><span class="token number" style="color:#50fa7b">9577373.06</span><span class="token plain"> metrics/sec</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">loaded </span><span class="token number" style="color:#50fa7b">15552000</span><span class="token plain"> rows </span><span class="token keyword" style="color:#ff79c6">in</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">18</span><span class="token plain">.223sec with </span><span class="token number" style="color:#50fa7b">8</span><span class="token plain"> workers </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">mean rate </span><span class="token number" style="color:#50fa7b">853429.28</span><span class="token plain"> rows/sec</span><span class="token punctuation" style="color:#f8f8f2">)</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>The write performance of QuestDB with eight workers, in this case, is ~3.2x
faster than TimescaleDB. For the complete output of this benchmark run, see
<a href="https://github.com/kovid-r/tsbs-questdb-timescaledb#readme" target="_blank" rel="noopener noreferrer">the accompanying GitHub repository</a>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="generate-queries-for-reads"></a>Generate queries for reads<a class="hash-link" href="#generate-queries-for-reads" title="Direct link to heading">#</a></h3><p>The data set TSBS has generated for both QuestDB and TimescaleDB contains
metrics for 200 hosts. To query all the readings where one metric is above a
threshold across all hosts, we will use the query type <code>high-cpu-all</code>. To
generate 1000 queries with different time ranges during that one day, you need
to run the following commands:</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#6272a4"># Go to the following directory</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token builtin class-name" style="color:#bd93f9">cd</span><span class="token plain"> ~/tmp/go/bin</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># Generate QuestDB queries for query-type high-cpu-all</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">./tsbs_generate_queries --use-case</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;devops&quot;</span><span class="token plain"> --seed</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">123</span><span class="token plain"> --scale</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">200</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    --timestamp-start</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;2016-01-01T00:00:00Z&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    --timestamp-end</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;2016-01-02T00:00:01Z&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    --queries</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">1000</span><span class="token plain"> --query-type</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;high-cpu-all&quot;</span><span class="token plain"> --format</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;questdb&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token operator" style="color:#ff79c6">&gt;</span><span class="token plain"> /tmp/queries_questdb-high-cpu-all</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># Generate TimescaleDB queries for query-type high-cpu-all</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">./tsbs_generate_queries --use-case</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;devops&quot;</span><span class="token plain"> --seed</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">123</span><span class="token plain"> --scale</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">200</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    --timestamp-start</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;2016-01-01T00:00:00Z&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    --timestamp-end</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;2016-01-02T00:00:01Z&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    --queries</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">1000</span><span class="token plain"> --query-type</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;high-cpu-all&quot;</span><span class="token plain"> --format</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;timescaledb&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">    </span><span class="token operator" style="color:#ff79c6">&gt;</span><span class="token plain"> /tmp/timescaledb-queries-high-cpu-all</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>In this tutorial, we&#x27;re running just one type of read query. You can choose from
the
<a href="https://github.com/questdb/tsbs#appendix-i-query-types-" target="_blank" rel="noopener noreferrer">different types of queries</a>
you can run to test the read performance:</p><div class="codeBlockContainer_J+bg"><div style="color:#f8f8f2;background-color:#262833" class="codeBlockTitle_oQzk">Example queries</div><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar codeBlockWithTitle_ZT05"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#6272a4"># TimescaleDB Query</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT * FROM cpu WHERE usage_user </span><span class="token operator" style="color:#ff79c6">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">90.0</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">   AND </span><span class="token function" style="color:#8be9fd">time</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&gt;</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;2016-01-01 07:47:52.646325 +0000&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">   AND </span><span class="token function" style="color:#8be9fd">time</span><span class="token plain"> </span><span class="token operator" style="color:#ff79c6">&lt;</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;2016-01-01 19:47:52.646325 +0000&#x27;</span><span class="token punctuation" style="color:#f8f8f2">;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># QuestDB Query</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">SELECT * FROM cpu WHERE usage_user </span><span class="token operator" style="color:#ff79c6">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#50fa7b">90.0</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">   AND timestamp </span><span class="token operator" style="color:#ff79c6">&gt;</span><span class="token operator" style="color:#ff79c6">=</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;2016-01-01T07:47:52Z&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">   AND timestamp </span><span class="token operator" style="color:#ff79c6">&lt;</span><span class="token plain"> </span><span class="token string" style="color:#f1fa8c">&#x27;2016-01-01T19:47:52Z&#x27;</span><span class="token punctuation" style="color:#f8f8f2">;</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="execute-queries-to-benchmark-read-performance"></a>Execute queries to benchmark read performance<a class="hash-link" href="#execute-queries-to-benchmark-read-performance" title="Direct link to heading">#</a></h3><p>Now that we&#x27;ve generated the data, loaded it into QuestDB and TimescaleDB, and
also generated the benchmarking queries that we want to run, we can finally
perform the read performance benchmark using the following commands:</p><p>Ensure that the queries have been generated properly before running the
commands. To do that, you can run <code>less /tmp/timescaledb-queries-high-cpu-all</code>
or <code>less /tmp/queries_questdb-high-cpu-all</code>.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token comment" style="color:#6272a4"># Go to the following directory</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token builtin class-name" style="color:#bd93f9">cd</span><span class="token plain"> ~/tmp/go/bin/</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># Run the read benchmarking queries for TimescaleDB</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token function" style="color:#8be9fd">cat</span><span class="token plain"> /tmp/timescaledb-queries-high-cpu-all </span><span class="token operator" style="color:#ff79c6">|</span><span class="token plain"> ./tsbs_run_queries_timescaledb --workers</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">8</span><span class="token plain"> </span><span class="token punctuation" style="color:#f8f8f2">\</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">  --postgres</span><span class="token operator" style="color:#ff79c6">=</span><span class="token string" style="color:#f1fa8c">&quot;host=localhost user=postgres password=password sslmode=disable&quot;</span><span class="token plain"> --print-interval </span><span class="token number" style="color:#50fa7b">500</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain"></span><span class="token comment" style="color:#6272a4"># Run the read benchmarking queries for QuestDB</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">./tsbs_run_queries_questdb --file /tmp/queries_questdb-high-cpu-all --workers</span><span class="token operator" style="color:#ff79c6">=</span><span class="token number" style="color:#50fa7b">8</span><span class="token plain"> --print-interval </span><span class="token number" style="color:#50fa7b">500</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong>TimescaleDB read performance:</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">Run complete after </span><span class="token number" style="color:#50fa7b">1000</span><span class="token plain"> queries with </span><span class="token number" style="color:#50fa7b">8</span><span class="token plain"> workers </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">Overall query rate </span><span class="token number" style="color:#50fa7b">25.78</span><span class="token plain"> queries/sec</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">TimescaleDB CPU over threshold, all hosts:</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">min: </span><span class="token number" style="color:#50fa7b">222</span><span class="token plain">.49ms, med: </span><span class="token number" style="color:#50fa7b">274</span><span class="token plain">.94ms, mean: </span><span class="token number" style="color:#50fa7b">308</span><span class="token plain">.60ms, max: </span><span class="token number" style="color:#50fa7b">580</span><span class="token plain">.13ms, stddev: </span><span class="token number" style="color:#50fa7b">73</span><span class="token plain">.70ms, sum: </span><span class="token number" style="color:#50fa7b">308</span><span class="token plain">.6sec, count: </span><span class="token number" style="color:#50fa7b">1000</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">all queries </span><span class="token builtin class-name" style="color:#bd93f9">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">min: </span><span class="token number" style="color:#50fa7b">222</span><span class="token plain">.49ms, med: </span><span class="token number" style="color:#50fa7b">274</span><span class="token plain">.94ms, mean: </span><span class="token number" style="color:#50fa7b">308</span><span class="token plain">.60ms, max: </span><span class="token number" style="color:#50fa7b">580</span><span class="token plain">.13ms, stddev: </span><span class="token number" style="color:#50fa7b">73</span><span class="token plain">.70ms, sum: </span><span class="token number" style="color:#50fa7b">308</span><span class="token plain">.6sec, count: </span><span class="token number" style="color:#50fa7b">1000</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">wall clock time: </span><span class="token number" style="color:#50fa7b">38</span><span class="token plain">.827242sec</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p><strong>QuestDB read performance:</strong></p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI bash"><div tabindex="0" class="prism-code language-bash codeBlock_rtdJ thin-scrollbar"><div class="codeBlockLines_1zSZ" style="color:#f8f8f2;background-color:#262833"><div class="token-line" style="color:#f8f8f2"><span class="token plain">Run complete after </span><span class="token number" style="color:#50fa7b">1000</span><span class="token plain"> queries with </span><span class="token number" style="color:#50fa7b">8</span><span class="token plain"> workers </span><span class="token punctuation" style="color:#f8f8f2">(</span><span class="token plain">Overall query rate </span><span class="token number" style="color:#50fa7b">70.18</span><span class="token plain"> queries/sec</span><span class="token punctuation" style="color:#f8f8f2">)</span><span class="token plain">:</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">QuestDB CPU over threshold, all hosts:</span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">min: </span><span class="token number" style="color:#50fa7b">92</span><span class="token plain">.71ms, med: </span><span class="token number" style="color:#50fa7b">109</span><span class="token plain">.10ms, mean: </span><span class="token number" style="color:#50fa7b">113</span><span class="token plain">.32ms, max: </span><span class="token number" style="color:#50fa7b">382</span><span class="token plain">.57ms, stddev: </span><span class="token number" style="color:#50fa7b">19</span><span class="token plain">.34ms, sum: </span><span class="token number" style="color:#50fa7b">113</span><span class="token plain">.3sec, count: </span><span class="token number" style="color:#50fa7b">1000</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">all queries </span><span class="token builtin class-name" style="color:#bd93f9">:</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">min: </span><span class="token number" style="color:#50fa7b">92</span><span class="token plain">.71ms, med: </span><span class="token number" style="color:#50fa7b">109</span><span class="token plain">.10ms, mean: </span><span class="token number" style="color:#50fa7b">113</span><span class="token plain">.32ms, max: </span><span class="token number" style="color:#50fa7b">382</span><span class="token plain">.57ms, stddev: </span><span class="token number" style="color:#50fa7b">19</span><span class="token plain">.34ms, sum: </span><span class="token number" style="color:#50fa7b">113</span><span class="token plain">.3sec, count: </span><span class="token number" style="color:#50fa7b">1000</span><span class="token plain"></span></div><div class="token-line" style="color:#f8f8f2"><span class="token plain">wall clock time: </span><span class="token number" style="color:#50fa7b">14</span><span class="token plain">.275811sec</span></div></div></div><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB">Copy</button></div></div><p>QuestDB executed the queries ~2.7x faster than TimescaleDB. QuestDB vs.
TimescaleDB</p><p>To summarize the read and write benchmarks results, we can say that QuestDB is
significantly faster in writes than TimescaleDB and considerably faster in
reads. When we talk about read performance, concluding with just one type of
query is probably not fair, which is why you can try running the TSBS suite on
your own for different types of queries for both these databases. Here&#x27;s the
summary:</p><blockquote><p>QuestDB performed ~320 % faster than TimescaleDB for <strong>write/load</strong> workloads.</p><p>QuestDB performed ~270 % faster than TimescaleDB for <strong>read/analytical</strong>
workloads.</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="conclusion"></a>Conclusion<a class="hash-link" href="#conclusion" title="Direct link to heading">#</a></h2><p>TSBS is the de facto standard for benchmarking timeseries databases. In this
tutorial, you learned how to use TSBS to compare two timeseries databases by
easily generating test data and emulating realistic read and write loads. As
mentioned before, TSBS currently supports test data generation for DevOps and
IoT (vehicle diagnostics). You can create your test data generation scripts to
create more use cases for, say, real-time weather tracking, traffic signals,
financial markets, and so on.</p><p>If you like this content, we&#x27;d love to know your thoughts! Feel free to share
your feedback or come and say hello in the
<a href="https://" target="_blank" rel="noopener noreferrer">QuestDB Community Slack</a>.</p></div><footer class="row margin-vert--lg"><div class="col"><strong>Tags:</strong><a class="margin-horiz--sm" href="/blog/tags/tutorial">tutorial</a><a class="margin-horiz--sm" href="/blog/tags/benchmark">benchmark</a><a class="margin-horiz--sm" href="/blog/tags/timescale">timescale</a></div></footer></article><div></div><div class="margin-vert--xl"><nav class="pagination-nav" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/2021/08/24/digitalocean-droplet"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">« Launch a QuestDB droplet in 1-click via the DigitalOcean marketplace</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/2021/07/16/release-6-0-4-prometheus-metrics"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">QuestDB 6.0.4 July release, Prometheus metrics support »</div></a></div></nav></div></main></div></div><div class="root_0lLS"><div class="cards_xeZk"><div class="root_R798 skinPrimary_JHOH"><svg width="76" height="76" viewBox="0 0 76 76" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="38" cy="38" r="38" fill="#1E1F27"></circle><path d="M56.99 18.792a.817.817 0 00-.117-.303c-.01-.02-.02-.05-.03-.069-.01-.02-.029-.029-.048-.049a.912.912 0 00-.137-.136l-.117-.088c-.02-.01-.03-.03-.05-.04-.029-.01-.068-.029-.107-.039a.85.85 0 00-.146-.049 1.075 1.075 0 00-.176-.019h-.147a1.15 1.15 0 00-.196.049c-.029.01-.068.01-.097.02L12.59 36.67a.979.979 0 00-.509 1.29c.098.216.264.401.48.5l16.07 7.556v15.025c0 .537.44.977.978.977a.964.964 0 00.831-.469l6.794-11.046 10.499 5.533a.974.974 0 001.408-.655l7.84-36.2v-.058c.01-.058.01-.107.019-.156 0-.059 0-.117-.01-.176zM29.413 44.208L15.376 37.6l36.326-15.68-22.289 22.288zm1.174 13.363V47.004l4.917 2.59-4.917 7.977zm16.92-3.87l-9.237-4.86-1.662-1.026-.068.118-5.289-2.786 23.1-23.12L47.508 53.7z" fill="#fff"></path></svg><h3 class="title_BHe0">문의하기</h3><p class="description_Bwvi">이메일을 입력하시면 소개자료를 보내드립니다.</p><div class="content_gAr2"><form class="root_teCd"><div><div class="inputs_0wQ8"><input type="email" class="input_cjQx input_a6pP" name="email" required="" pattern="^[a-zA-Z0-9.!#$%&amp;&#x27;*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+$" placeholder="Email address" title="Email address should be valid"><button class="submit_poRs button_f7Ff button--tertiary_vtfp button--uppercase_ESEN" type="submit">보내기</button></div></div></form></div></div></div></div></div><footer class="root_JnvJ"><div class="content_-gfC center_S24y"><img alt="QuestDB logo" class="logo_JrwJ" src="/img/navbar/tp_brand.png" width="108" height="27"><div class="tagline_T1tH"><p>인프라관리부터 서비스운영까지 클라우드환경에 최적화된 클라우드 네이티브 플랫폼</p></div><div class="links_1SgP"><div class="category_Ptbh"><span class="title_HpoE">Product</span><ul class="items_Lw7J"><li><a class="link_vx7p" href="/cloud/">Cloud</a></li><li><a class="link_vx7p" href="/enterprise/">Enterprise</a></li><li><a class="link_vx7p" href="/pricing/">Pricing</a></li><li><a class="link_vx7p" href="/use-cases/">Use Cases</a></li><li><a class="link_vx7p" href="/customers/">Customers</a></li><li><a class="link_vx7p" href="https://github.com/orgs/questdb/projects/1/views/5" rel="noopener noreferrer" target="_blank">Roadmap</a></li></ul></div><div class="category_Ptbh"><span class="title_HpoE">Developers</span><ul class="items_Lw7J"><li><a class="link_vx7p" href="/docs/">Docs</a></li><li><a class="link_vx7p" href="/blog/tags/tutorial/">Tutorials</a></li><li><a class="link_vx7p" href="/blog/">Blog</a></li><li><a class="link_vx7p" href="https://">Discussions</a></li><li><a class="link_vx7p" href="https://">Join Slack</a></li><li><a class="link_vx7p" href="/community/">Swag</a></li></ul></div><div class="category_Ptbh"><span class="title_HpoE">Company</span><ul class="items_Lw7J"><li><a class="link_vx7p" href="/about-us/">About us</a></li><li><a class="link_vx7p" href="/careers/">Careers</a></li></ul></div></div></div><div class="border_PW0V"><div class="bottom_wPs3 center_S24y">Copyright © 2023 Gitple. All rights are reserved.</div></div></footer></div>
<script src="/assets/js/main.db1fdb94.js" defer="defer"></script>
</body>
</html>